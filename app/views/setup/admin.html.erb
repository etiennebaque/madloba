<div id="wrap">

  <%= render 'shared/setupNavigation' %>

  <div class="container">

    <div class="row">
      <div class="col-lg-12">

        <%= devise_error_messages! %>

        <%= form_for(resource, as: resource_name, url: registration_path(resource_name), :html => {:class => 'form-horizontal'}) do |f| %>
            <fieldset>

              <div class="setup-padding">
                <h3><%= t('setup.creation_admin') %></h3>
              </div>

              <div class="col-lg-10">

                <!-- 'Mandatory *' note -->
                <div class="form-group">
                  <div class="col-lg-6">
                    <span><%= t('registration.all_mandatory') %></span>
                  </div>
                </div>

                <!-- E-mail -->
                <div class="form-group">
                  <%= f.label :email, t('admin.profile.email'), class:'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.email_field :email, class: 'form-control', required: true %>
                  </div>
                </div>

                <!-- First name -->
                <div class="form-group">
                  <%= f.label :first_name, t('admin.profile.first_name'), class:'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.text_field :first_name, class: 'form-control', required: true %>
                  </div>
                </div>

                <!-- Last name -->
                <div class="form-group">
                  <%= f.label :last_name, t('admin.profile.last_name'), class:'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.text_field :last_name, class: 'form-control', required: true %>
                  </div>
                </div>

                <!-- Username -->
                <div class="form-group">
                  <%= f.label :username, t('admin.profile.username'), class:'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.text_field :username, class: 'form-control', required: true %>
                  </div>
                </div>

                <!-- New password -->
                <div class="form-group">
                  <%= f.label :password, t('admin.profile.new_password'), class:'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.password_field :password, class: 'form-control', autocomplete: 'off', required: true, minlength: 8 %>
                  </div>
                </div>

                <!-- Confirm password -->
                <div class="form-group">
                  <%= f.label :password_confirmation, t('admin.profile.confirm_password'), class: 'col-lg-2 control-label' %>
                  <div class="col-lg-6">
                    <%= f.password_field :password_confirmation, class: 'form-control', autocomplete: 'off', required: true, minlength: 8 %>
                  </div>
                </div>

                <hr>

                <!-- Note about email being sent to new admin user -->
                <div class="form-group">
                  <div class="col-lg-2"></div>
                  <div class="col-lg-6">
                    <p><i><%= t('setup.gmail_note') %></i></p>
                    <ol>
                      <li><i><%= t('setup.gmail_note2') %></i></li>
                      <li><i><%= t('setup.gmail_note3_html', link: link_to(t('setup.gmail_link_here'), 'https://accounts.google.com/DisplayUnlockCaptcha', {target: '_blank'})) %></i></li>
                    </ol>

                    <p><i><%= t('setup.gmail_note4') %></i></p>
                  </div>
                </div>

                <hr>

                <!-- Note about email being sent to new admin user -->
                <div class="form-group">
                  <div class="col-lg-2"></div>
                  <div class="col-lg-6">
                    <p><i><%= t('setup.confirm_email') %></i></p>
                    <p><i><%= t('setup.check_email') %></i></p>
                  </div>
                </div>

                <!-- Role admin for this first user -->
                <%= f.hidden_field :role, value: 'admin' %>

                <!-- Next button / Back link -->
                <div class="form-group">
                  <div class="col-lg-2"></div>
                  <div class="col-lg-6 pull-right">
                    <a href="/setup/map" class="btn btn-link"><%= t('setup.back') %></a>
                    <%= submit_tag(t('setup.next'), class: 'btn btn-success') %>
                  </div>
                </div>

              </div>

            </fieldset>
        <% end %>
      </div>

    </div>

  </div>

  <div id="push"></div>

</div>
