#main.container-fluid.clear-top
  .row
    / Sidebar
    = render 'sidebar'

    / Map section
    .col-xs-12.no-left-right-border
      #home-map-canvas-wrapper
        #map.home


/ Modal popup that shows several ads promoting the same item, in a specific district/area
#adsModal.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "basicModal", :role => "dialog", :tabindex => "-1"}
  .modal-dialog
    .modal-content
      .modal-header
        %h4#adsModalTitle.modal-title
      #ads-modal-body-id.modal-body
      .modal-footer
        %button.btn.btn-default{"data-dismiss" => "modal", :type => "button"}= t('home.close')

/
  This div is to check whether or not the user has AdBlock on in their browser.
  If they do, it will affect the website's ability to work well.
#ad-block{:style => "position: absolute; opacity: 1; top: 0; left: 0;"} adblock

/ Loading JS scripts
- content_for :scripts do
  /
    Includes all the Javascript related to map rendering, to be loaded after page
    (Leaflet, MapQuest, and script that creates the actual map)
  = render 'shared/map_scripts_after_body', include_all_scripts: false
  / Leaflet plug-ins and library used on the home page

  / Javascript function calls, related specifically to the home page
  :javascript
    // specific script to render map markers and initialize the sidebar.
    var locations_exact = #{raw @locations_exact.to_json}
    var locations_postal = #{raw @locations_postal.to_json(:include => { :ads => { :include =>  {:items => { :include => :category }}}})};
    var locations_district = #{raw @locations_district.to_json(:include => { :ads => { :include =>  {:items => { :include => :category }}}})};
    var area_geocodes = #{raw @area_geocodes.to_json};
    var marker_colors = #{raw MARKER_COLORS.to_json};

    var homePage = new Home(locations_exact, locations_postal, locations_district, area_geocodes, marker_colors);

    // Initialize the Web socket object
    #{render 'shared/initialize_websocket.js'}
