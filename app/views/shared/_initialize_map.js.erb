// Initializing a bunch of variables used over the map-related scripts.

var map_settings_array = <%= raw @mapSettings.to_json %>;

// These 4 variables are used to represent an drawn area or a map marker.
var newmarker;
var selected_area;
var postal_code_circle;
var markers;

var default_marker_icon = "<%= j ActionController::Base.helpers.asset_path('images/marker-icon.png') %>";
var new_marker_icon = "<%= j ActionController::Base.helpers.asset_path('images/marker-icon-red.png') %>";
var defaultIcon = L.icon ({
    iconUrl: default_marker_icon,
    iconAnchor: [12, 41],
    popupAnchor:  [0, -34]
});

var newIcon = L.icon ({
    iconUrl: new_marker_icon,
    iconAnchor: [12, 41],
    popupAnchor:  [0, -34]
});

// There are 2 types of markers, when defining a new location: exact (by full address, default one), and area (by postal code, or district)
var location_marker_type = map_settings_array['clickableMapMarker'];

// Initialization of the marker that will be in the center of the map.
var center_marker;

// Passing constants.
var district_color = '<%= DISTRICT_COLOR %>';
var postal_code_area_color = '<%= POSTAL_CODE_AREA_COLOR %>';

// Call to the JS function that will initialize the map.
if ($("#map").length > 0){
    initLeafletMap(map_settings_array);
}