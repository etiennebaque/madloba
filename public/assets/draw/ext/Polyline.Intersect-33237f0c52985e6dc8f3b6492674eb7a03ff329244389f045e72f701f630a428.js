L.Polyline.include({intersects:function(){var t,n,e,i=this._originalPoints,r=i?i.length:0;if(this._tooFewPointsForIntersection())return!1;for(t=r-1;t>=3;t--)if(n=i[t-1],e=i[t],this._lineSegmentsIntersectsRange(n,e,t-2))return!0;return!1},newLatLngIntersects:function(t,n){return this._map?this.newPointIntersects(this._map.latLngToLayerPoint(t),n):!1},newPointIntersects:function(t,n){var e=this._originalPoints,i=e?e.length:0,r=e?e[i-1]:null,s=i-2;return this._tooFewPointsForIntersection(1)?!1:this._lineSegmentsIntersectsRange(r,t,s,n?1:0)},_tooFewPointsForIntersection:function(t){var n=this._originalPoints,e=n?n.length:0;return e+=t||0,!this._originalPoints||3>=e},_lineSegmentsIntersectsRange:function(t,n,e,i){var r,s,o=this._originalPoints;i=i||0;for(var a=e;a>i;a--)if(r=o[a-1],s=o[a],L.LineUtil.segmentsIntersect(t,n,r,s))return!0;return!1}});