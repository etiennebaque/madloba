/*! jQuery v2.0.3 | (c) 2005, 2013 jQuery Foundation, Inc. | jquery.org/license
//@ sourceMappingURL=jquery.min.map
*/
function docReady(){$('a[href="#"][data-top!=true]').click(function(t){t.preventDefault()}),$('[data-rel="chosen"],[rel="chosen"]').chosen(),$('[data-toggle="tooltip"]').tooltip(),$("textarea.autogrow").autogrow(),$('[data-toggle="popover"]').popover(),$(".datatable").dataTable({sDom:"<'row'<'col-md-6'l><'col-md-6'f>r>t<'row'<'col-md-12'i><'col-md-12 center-block'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ "+gon.vars.records_per_page}}),$(".btn-close").click(function(t){t.preventDefault(),$(this).parent().parent().parent().fadeOut()}),$(".btn-minimize").click(function(t){t.preventDefault();var e=$(this).parent().parent().next(".box-content");e.is(":visible")?$("i",$(this)).removeClass("glyphicon-chevron-up").addClass("glyphicon-chevron-down"):$("i",$(this)).removeClass("glyphicon-chevron-down").addClass("glyphicon-chevron-up"),e.slideToggle()}),$(".btn-setting").click(function(t){t.preventDefault(),$("#myModal").modal("show")})}!function(t,e){function i(t){var e=t.length,i=st.type(t);return st.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||"function"!==i&&(0===e||"number"==typeof e&&e>0&&e-1 in t)}function n(t){var e=ft[t]={};return st.each(t.match(at)||[],function(t,i){e[i]=!0}),e}function o(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=st.expando+Math.random()}function s(t,i,n){var o;if(n===e&&1===t.nodeType)if(o="data-"+i.replace(vt,"-$1").toLowerCase(),n=t.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:_t.test(n)?JSON.parse(n):n}catch(s){}mt.set(t,i,n)}else n=e;return n}function r(){return!0}function a(){return!1}function l(){try{return Z.activeElement}catch(t){}}function u(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function c(t,e,i){if(st.isFunction(e))return st.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return st.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(kt.test(e))return st.filter(e,t,i);e=st.filter(e,t)}return st.grep(t,function(t){return et.call(e,t)>=0!==i})}function h(t,e){return st.nodeName(t,"table")&&st.nodeName(1===e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=jt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function f(t,e){for(var i=t.length,n=0;i>n;n++)gt.set(t[n],"globalEval",!e||gt.get(e[n],"globalEval"))}function m(t,e){var i,n,o,s,r,a,l,u;if(1===e.nodeType){if(gt.hasData(t)&&(s=gt.access(t),r=gt.set(e,s),u=s.events)){delete r.handle,r.events={};for(o in u)for(i=0,n=u[o].length;n>i;i++)st.event.add(e,o,u[o][i])}mt.hasData(t)&&(a=mt.access(t),l=st.extend({},a),mt.set(e,l))}}function g(t,i){var n=t.getElementsByTagName?t.getElementsByTagName(i||"*"):t.querySelectorAll?t.querySelectorAll(i||"*"):[];return i===e||i&&st.nodeName(t,i)?st.merge([t],n):n}function _(t,e){var i=e.nodeName.toLowerCase();"input"===i&&Nt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function v(t,e){if(e in t)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),n=e,o=Yt.length;o--;)if(e=Yt[o]+i,e in t)return e;return n}function y(t,e){return t=e||t,"none"===st.css(t,"display")||!st.contains(t.ownerDocument,t)}function b(e){return t.getComputedStyle(e,null)}function x(t,e){for(var i,n,o,s=[],r=0,a=t.length;a>r;r++)n=t[r],n.style&&(s[r]=gt.get(n,"olddisplay"),i=n.style.display,e?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&y(n)&&(s[r]=gt.access(n,"olddisplay",T(n.nodeName)))):s[r]||(o=y(n),(i&&"none"!==i||!o)&&gt.set(n,"olddisplay",o?i:st.css(n,"display"))));for(r=0;a>r;r++)n=t[r],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[r]||"":"none"));return t}function w(t,e,i){var n=Gt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=st.css(t,i+Qt[s],!0,o)),n?("content"===i&&(r-=st.css(t,"padding"+Qt[s],!0,o)),"margin"!==i&&(r-=st.css(t,"border"+Qt[s]+"Width",!0,o))):(r+=st.css(t,"padding"+Qt[s],!0,o),"padding"!==i&&(r+=st.css(t,"border"+Qt[s]+"Width",!0,o)));return r}function S(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,s=b(t),r=st.support.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,s);if(0>=o||null==o){if(o=zt(t,e,s),(0>o||null==o)&&(o=t.style[e]),Wt.test(o))return o;n=r&&(st.support.boxSizingReliable||o===t.style[e]),o=parseFloat(o)||0}return o+C(t,e,i||(r?"border":"content"),n,s)+"px"}function T(t){var e=Z,i=Jt[t];return i||(i=L(t,e),"none"!==i&&i||(Ht=(Ht||st("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(e.documentElement),e=(Ht[0].contentWindow||Ht[0].contentDocument).document,e.write("<!doctype html><html><body>"),e.close(),i=L(t,e),Ht.detach()),Jt[t]=i),i}function L(t,e){var i=st(e.createElement(t)).appendTo(e.body),n=st.css(i[0],"display");return i.remove(),n}function D(t,e,i,n){var o;if(st.isArray(e))st.each(e,function(e,o){i||ee.test(t)?n(t,o):D(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==st.type(e))n(t,e);else for(o in e)D(t+"["+o+"]",e[o],i,n)}function k(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,s=e.toLowerCase().match(at)||[];if(st.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function P(t,i,n,o){function s(l){var u;return r[l]=!0,st.each(t[l]||[],function(t,l){var c=l(i,n,o);return"string"!=typeof c||a||r[c]?a?!(u=c):e:(i.dataTypes.unshift(c),s(c),!1)}),u}var r={},a=t===ve;return s(i.dataTypes[0])||!r["*"]&&s("*")}function E(t,i){var n,o,s=st.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((s[n]?t:o||(o={}))[n]=i[n]);return o&&st.extend(!0,t,o),t}function A(t,i,n){for(var o,s,r,a,l=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),o===e&&(o=t.mimeType||i.getResponseHeader("Content-Type"));if(o)for(s in l)if(l[s]&&l[s].test(o)){u.unshift(s);break}if(u[0]in n)r=u[0];else{for(s in n){if(!u[0]||t.converters[s+" "+u[0]]){r=s;break}a||(a=s)}r=r||a}return r?(r!==u[0]&&u.unshift(r),n[r]):e}function I(t,e,i,n){var o,s,r,a,l,u={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)u[r.toLowerCase()]=t.converters[r];for(s=c.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=s,s=c.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=u[l+" "+s]||u["* "+s],!r)for(o in u)if(a=o.split(" "),a[1]===s&&(r=u[l+" "+a[0]]||u["* "+a[0]])){r===!0?r=u[o]:u[o]!==!0&&(s=a[0],c.unshift(a[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(h){return{state:"parsererror",error:r?h:"No conversion from "+l+" to "+s}}}return{state:"success",data:e}}function O(){return setTimeout(function(){De=e}),De=st.now()}function $(t,e,i){for(var n,o=(Oe[e]||[]).concat(Oe["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,e,t))return n}function M(t,e,i){var n,o,s=0,r=Ie.length,a=st.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=De||O(),i=Math.max(0,u.startTime+u.duration-e),n=i/u.duration||0,s=1-n,r=0,l=u.tweens.length;l>r;r++)u.tweens[r].run(s);return a.notifyWith(t,[u,s,i]),1>s&&l?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:st.extend({},e),opts:st.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:De||O(),duration:i.duration,tweens:[],createTween:function(e,i){var n=st.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),c=u.props;for(N(c,u.opts.specialEasing);r>s;s++)if(n=Ie[s].call(u,t,c,u.opts))return n;return st.map(c,$,u),st.isFunction(u.opts.start)&&u.opts.start.call(t,u),st.fx.timer(st.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function N(t,e){var i,n,o,s,r;for(i in t)if(n=st.camelCase(i),o=e[n],s=t[i],st.isArray(s)&&(o=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),r=st.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=o)}else e[n]=o}function B(t,i,n){var o,s,r,a,l,u,c=this,h={},d=t.style,p=t.nodeType&&y(t),f=gt.get(t,"fxshow");n.queue||(l=st._queueHooks(t,"fx"),null==l.unqueued&&(l.unqueued=0,u=l.empty.fire,l.empty.fire=function(){l.unqueued||u()}),l.unqueued++,c.always(function(){c.always(function(){l.unqueued--,st.queue(t,"fx").length||l.empty.fire()})})),1===t.nodeType&&("height"in i||"width"in i)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===st.css(t,"display")&&"none"===st.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(o in i)if(s=i[o],Pe.exec(s)){if(delete i[o],r=r||"toggle"===s,s===(p?"hide":"show")){if("show"!==s||!f||f[o]===e)continue;p=!0}h[o]=f&&f[o]||st.style(t,o)}if(!st.isEmptyObject(h)){f?"hidden"in f&&(p=f.hidden):f=gt.access(t,"fxshow",{}),r&&(f.hidden=!p),p?st(t).show():c.done(function(){st(t).hide()}),c.done(function(){var e;gt.remove(t,"fxshow");for(e in h)st.style(t,e,h[e])});for(o in h)a=$(p?f[o]:0,o,c),o in f||(f[o]=a.start,p&&(a.end=a.start,a.start="width"===o||"height"===o?1:0))}}function R(t,e,i,n,o){return new R.prototype.init(t,e,i,n,o)}function j(t,e){var i,n={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)i=Qt[o],n["margin"+i]=n["padding"+i]=t;return e&&(n.opacity=n.width=t),n}function U(t){return st.isWindow(t)?t:9===t.nodeType&&t.defaultView}var F,z,H=typeof e,q=t.location,Z=t.document,G=Z.documentElement,W=t.jQuery,V=t.$,J={},K=[],X="2.0.3",Q=K.concat,Y=K.push,tt=K.slice,et=K.indexOf,it=J.toString,nt=J.hasOwnProperty,ot=X.trim,st=function(t,e){return new st.fn.init(t,e,F)},rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,at=/\S+/g,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ct=/^-ms-/,ht=/-([\da-z])/gi,dt=function(t,e){return e.toUpperCase()},pt=function(){Z.removeEventListener("DOMContentLoaded",pt,!1),t.removeEventListener("load",pt,!1),st.ready()};st.fn=st.prototype={jquery:X,constructor:st,init:function(t,i,n){var o,s;if(!t)return this;if("string"==typeof t){if(o="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:lt.exec(t),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(o[1]){if(i=i instanceof st?i[0]:i,st.merge(this,st.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:Z,!0)),ut.test(o[1])&&st.isPlainObject(i))for(o in i)st.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}return s=Z.getElementById(o[2]),s&&s.parentNode&&(this.length=1,this[0]=s),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):st.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),st.makeArray(t,this))},selector:"",length:0,toArray:function(){return tt.call(this)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t){var e=st.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return st.each(this,t,e)},ready:function(t){return st.ready.promise().done(t),this},slice:function(){return this.pushStack(tt.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},map:function(t){return this.pushStack(st.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:Y,sort:[].sort,splice:[].splice},st.fn.init.prototype=st.fn,st.extend=st.fn.extend=function(){var t,i,n,o,s,r,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[1]||{},l=2),"object"==typeof a||st.isFunction(a)||(a={}),u===l&&(a=this,--l);u>l;l++)if(null!=(t=arguments[l]))for(i in t)n=a[i],o=t[i],a!==o&&(c&&o&&(st.isPlainObject(o)||(s=st.isArray(o)))?(s?(s=!1,r=n&&st.isArray(n)?n:[]):r=n&&st.isPlainObject(n)?n:{},a[i]=st.extend(c,r,o)):o!==e&&(a[i]=o));return a},st.extend({expando:"jQuery"+(X+Math.random()).replace(/\D/g,""),noConflict:function(e){return t.$===st&&(t.$=V),e&&t.jQuery===st&&(t.jQuery=W),st},isReady:!1,readyWait:1,holdReady:function(t){t?st.readyWait++:st.ready(!0)},ready:function(t){(t===!0?--st.readyWait:st.isReady)||(st.isReady=!0,t!==!0&&--st.readyWait>0||(z.resolveWith(Z,[st]),st.fn.trigger&&st(Z).trigger("ready").off("ready")))},isFunction:function(t){return"function"===st.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[it.call(t)]||"object":typeof t},isPlainObject:function(t){if("object"!==st.type(t)||t.nodeType||st.isWindow(t))return!1;try{if(t.constructor&&!nt.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},error:function(t){throw Error(t)},parseHTML:function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||Z;var n=ut.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=st.buildFragment([t],e,o),o&&st(o).remove(),st.merge([],n.childNodes))},parseJSON:JSON.parse,parseXML:function(t){var i,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,i=n.parseFromString(t,"text/xml")}catch(o){i=e}return(!i||i.getElementsByTagName("parsererror").length)&&st.error("Invalid XML: "+t),i},noop:function(){},globalEval:function(t){var e,i=eval;t=st.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(ct,"ms-").replace(ht,dt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o,s=0,r=t.length,a=i(t);if(n){if(a)for(;r>s&&(o=e.apply(t[s],n),o!==!1);s++);else for(s in t)if(o=e.apply(t[s],n),o===!1)break}else if(a)for(;r>s&&(o=e.call(t[s],s,t[s]),o!==!1);s++);else for(s in t)if(o=e.call(t[s],s,t[s]),o===!1)break;return t},trim:function(t){return null==t?"":ot.call(t)},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?st.merge(n,"string"==typeof t?[t]:t):Y.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:et.call(e,t,i)},merge:function(t,i){var n=i.length,o=t.length,s=0;if("number"==typeof n)for(;n>s;s++)t[o++]=i[s];else for(;i[s]!==e;)t[o++]=i[s++];return t.length=o,t},grep:function(t,e,i){var n,o=[],s=0,r=t.length;for(i=!!i;r>s;s++)n=!!e(t[s],s),i!==n&&o.push(t[s]);return o},map:function(t,e,n){var o,s=0,r=t.length,a=i(t),l=[];if(a)for(;r>s;s++)o=e(t[s],s,n),null!=o&&(l[l.length]=o);else for(s in t)o=e(t[s],s,n),null!=o&&(l[l.length]=o);return Q.apply([],l)},guid:1,proxy:function(t,i){var n,o,s;return"string"==typeof i&&(n=t[i],i=t,t=n),st.isFunction(t)?(o=tt.call(arguments,2),s=function(){return t.apply(i||this,o.concat(tt.call(arguments)))},s.guid=t.guid=t.guid||st.guid++,s):e},access:function(t,i,n,o,s,r,a){var l=0,u=t.length,c=null==n;if("object"===st.type(n)){s=!0;for(l in n)st.access(t,i,l,n[l],!0,r,a)}else if(o!==e&&(s=!0,st.isFunction(o)||(a=!0),c&&(a?(i.call(t,o),i=null):(c=i,i=function(t,e,i){return c.call(st(t),i)})),i))for(;u>l;l++)i(t[l],n,a?o:o.call(t[l],l,i(t[l],n)));return s?t:c?i.call(t):u?i(t[0],n):r},now:Date.now,swap:function(t,e,i,n){var o,s,r={};for(s in e)r[s]=t.style[s],t.style[s]=e[s];o=i.apply(t,n||[]);for(s in e)t.style[s]=r[s];return o}}),st.ready.promise=function(e){return z||(z=st.Deferred(),"complete"===Z.readyState?setTimeout(st.ready):(Z.addEventListener("DOMContentLoaded",pt,!1),t.addEventListener("load",pt,!1))),z.promise(e)},st.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()}),F=st(Z),function(t,e){function i(t,e,i,n){var o,s,r,a,l,u,c,h,f,m;if((e?e.ownerDocument||e:U)!==I&&A(e),e=e||I,i=i||[],!t||"string"!=typeof t)return i;if(1!==(a=e.nodeType)&&9!==a)return[];if($&&!n){if(o=yt.exec(t))if(r=o[1]){if(9===a){if(s=e.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(r))&&R(e,s)&&s.id===r)return i.push(s),i}else{if(o[2])return tt.apply(i,e.getElementsByTagName(t)),i;if((r=o[3])&&C.getElementsByClassName&&e.getElementsByClassName)return tt.apply(i,e.getElementsByClassName(r)),i}if(C.qsa&&(!M||!M.test(t))){if(h=c=j,f=e,m=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=d(t),(c=e.getAttribute("id"))?h=c.replace(wt,"\\$&"):e.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+p(u[l]);f=pt.test(t)&&e.parentNode||e,m=u.join(",")}if(m)try{return tt.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{c||e.removeAttribute("id")}}}return x(t.replace(ct,"$1"),e,i,n)}function n(){function t(i,n){return e.push(i+=" ")>T.cacheLength&&delete t[e.shift()],t[i]=n}var e=[];return t}function o(t){return t[j]=!0,t}function s(t){var e=I.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)T.attrHandle[i[n]]=e}function a(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||J)-(~t.sourceIndex||J);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function l(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function u(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function c(t){return o(function(e){return e=+e,o(function(i,n){for(var o,s=t([],i.length,e),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function h(){}function d(t,e){var n,o,s,r,a,l,u,c=q[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=T.preFilter;a;){(!n||(o=ht.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=dt.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ct," ")}),a=a.slice(n.length));for(r in T.filter)!(o=_t[r].exec(a))||u[r]&&!(o=u[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return e?a.length:a?i.error(t):q(t,l).slice(0)}function p(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function f(t,e,i){var n=e.dir,o=i&&"parentNode"===n,s=z++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s)}:function(e,i,r){var a,l,u,c=F+" "+s;if(r){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,r))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(u=e[j]||(e[j]={}),(l=u[n])&&l[0]===c){if((a=l[1])===!0||a===S)return a===!0}else if(l=u[n]=[c],l[1]=t(e,i,r)||S,l[1]===!0)return!0}}function m(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function g(t,e,i,n,o){for(var s,r=[],a=0,l=t.length,u=null!=e;l>a;a++)(s=t[a])&&(!i||i(s,n,o))&&(r.push(s),u&&e.push(a));return r}function _(t,e,i,n,s,r){return n&&!n[j]&&(n=_(n)),s&&!s[j]&&(s=_(s,r)),o(function(o,r,a,l){var u,c,h,d=[],p=[],f=r.length,m=o||b(e||"*",a.nodeType?[a]:a,[]),_=!t||!o&&e?m:g(m,d,t,a,l),v=i?s||(o?t:f||n)?[]:r:_;if(i&&i(_,v,a,l),n)for(u=g(v,p),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(_[p[c]]=h));if(o){if(s||t){if(s){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(_[c]=h);s(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=s?it.call(o,h):d[c])>-1&&(o[u]=!(r[u]=h))}}else v=g(v===r?v.splice(f,v.length):v),s?s(null,r,v,l):tt.apply(r,v)})}function v(t){for(var e,i,n,o=t.length,s=T.relative[t[0].type],r=s||T.relative[" "],a=s?1:0,l=f(function(t){return t===e},r,!0),u=f(function(t){return it.call(e,t)>-1},r,!0),c=[function(t,i,n){return!s&&(n||i!==P)||((e=i).nodeType?l(t,i,n):u(t,i,n))}];o>a;a++)if(i=T.relative[t[a].type])c=[f(m(c),i)];else{if(i=T.filter[t[a].type].apply(null,t[a].matches),i[j]){for(n=++a;o>n&&!T.relative[t[n].type];n++);return _(a>1&&m(c),a>1&&p(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ct,"$1"),i,n>a&&v(t.slice(a,n)),o>n&&v(t=t.slice(n)),o>n&&p(t))}c.push(i)}return m(c)}function y(t,e){var n=0,s=e.length>0,r=t.length>0,a=function(o,a,l,u,c){var h,d,p,f=[],m=0,_="0",v=o&&[],y=null!=c,b=P,x=o||r&&T.find.TAG("*",c&&a.parentNode||a),w=F+=null==b?1:Math.random()||.1;for(y&&(P=a!==I&&a,S=n);null!=(h=x[_]);_++){if(r&&h){for(d=0;p=t[d++];)if(p(h,a,l)){u.push(h);break}y&&(F=w,S=++n)}s&&((h=!p&&h)&&m--,o&&v.push(h))}if(m+=_,s&&_!==m){for(d=0;p=e[d++];)p(v,f,a,l);if(o){if(m>0)for(;_--;)v[_]||f[_]||(f[_]=Q.call(u));f=g(f)}tt.apply(u,f),y&&!o&&f.length>0&&m+e.length>1&&i.uniqueSort(u)}return y&&(F=w,P=b),v};return s?o(a):a}function b(t,e,n){for(var o=0,s=e.length;s>o;o++)i(t,e[o],n);return n}function x(t,e,i,n){var o,s,r,a,l,u=d(t);if(!n&&1===u.length){if(s=u[0]=u[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&C.getById&&9===e.nodeType&&$&&T.relative[s[1].type]){if(e=(T.find.ID(r.matches[0].replace(Ct,St),e)||[])[0],!e)return i;t=t.slice(s.shift().value.length)}for(o=_t.needsContext.test(t)?0:s.length;o--&&(r=s[o],!T.relative[a=r.type]);)if((l=T.find[a])&&(n=l(r.matches[0].replace(Ct,St),pt.test(s[0].type)&&e.parentNode||e))){if(s.splice(o,1),t=n.length&&p(s),!t)return tt.apply(i,n),i;break}}return k(t,u)(n,e,!$,i,pt.test(t)),i}var w,C,S,T,L,D,k,P,E,A,I,O,$,M,N,B,R,j="sizzle"+-new Date,U=t.document,F=0,z=0,H=n(),q=n(),Z=n(),G=!1,W=function(t,e){return t===e?(G=!0,0):0},V=typeof e,J=1<<31,K={}.hasOwnProperty,X=[],Q=X.pop,Y=X.push,tt=X.push,et=X.slice,it=X.indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ot="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",at=rt.replace("w","w#"),lt="\\["+ot+"*("+rt+")"+ot+"*(?:([*^$|!~]?=)"+ot+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+at+")|)|)"+ot+"*\\]",ut=":("+rt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+lt.replace(3,8)+")*)|.*)\\)|)",ct=RegExp("^"+ot+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ot+"+$","g"),ht=RegExp("^"+ot+"*,"+ot+"*"),dt=RegExp("^"+ot+"*([>+~]|"+ot+")"+ot+"*"),pt=RegExp(ot+"*[+~]"),ft=RegExp("="+ot+"*([^\\]'\"]*)"+ot+"*\\]","g"),mt=RegExp(ut),gt=RegExp("^"+at+"$"),_t={ID:RegExp("^#("+rt+")"),CLASS:RegExp("^\\.("+rt+")"),TAG:RegExp("^("+rt.replace("w","w*")+")"),ATTR:RegExp("^"+lt),PSEUDO:RegExp("^"+ut),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ot+"*(even|odd|(([+-]|)(\\d*)n|)"+ot+"*(?:([+-]|)"+ot+"*(\\d+)|))"+ot+"*\\)|)","i"),bool:RegExp("^(?:"+nt+")$","i"),needsContext:RegExp("^"+ot+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ot+"*((?:-\\d)?\\d*)"+ot+"*\\)|)(?=[^-]|$)","i")},vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/^(?:input|select|textarea|button)$/i,xt=/^h\d$/i,wt=/'|\\/g,Ct=RegExp("\\\\([\\da-f]{1,6}"+ot+"?|("+ot+")|.)","ig"),St=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{tt.apply(X=et.call(U.childNodes),U.childNodes),X[U.childNodes.length].nodeType}catch(Tt){tt={apply:X.length?function(t,e){Y.apply(t,et.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}D=i.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},C=i.support={},A=i.setDocument=function(t){var i=t?t.ownerDocument||t:U,n=i.defaultView;return i!==I&&9===i.nodeType&&i.documentElement?(I=i,O=i.documentElement,$=!D(i),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){A()}),C.attributes=s(function(t){return t.className="i",!t.getAttribute("className")}),C.getElementsByTagName=s(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),C.getElementsByClassName=s(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),C.getById=s(function(t){return O.appendChild(t).id=j,!i.getElementsByName||!i.getElementsByName(j).length}),C.getById?(T.find.ID=function(t,e){if(typeof e.getElementById!==V&&$){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(t){var e=t.replace(Ct,St);return function(t){return t.getAttribute("id")===e}}):(delete T.find.ID,T.filter.ID=function(t){var e=t.replace(Ct,St);return function(t){var i=typeof t.getAttributeNode!==V&&t.getAttributeNode("id");return i&&i.value===e}}),T.find.TAG=C.getElementsByTagName?function(t,i){return typeof i.getElementsByTagName!==V?i.getElementsByTagName(t):e}:function(t,e){var i,n=[],o=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},T.find.CLASS=C.getElementsByClassName&&function(t,i){return typeof i.getElementsByClassName!==V&&$?i.getElementsByClassName(t):e},N=[],M=[],(C.qsa=vt.test(i.querySelectorAll))&&(s(function(t){t.innerHTML="<select><option selected=''></option></select>",t.querySelectorAll("[selected]").length||M.push("\\["+ot+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||M.push(":checked")}),s(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("t",""),t.querySelectorAll("[t^='']").length&&M.push("[*^$]="+ot+"*(?:''|\"\")"),t.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),M.push(",.*:")})),(C.matchesSelector=vt.test(B=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&s(function(t){C.disconnectedMatch=B.call(t,"div"),B.call(t,"[s!='']:x"),N.push("!=",ut)}),M=M.length&&RegExp(M.join("|")),N=N.length&&RegExp(N.join("|")),R=vt.test(O.contains)||O.compareDocumentPosition?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=O.compareDocumentPosition?function(t,e){if(t===e)return G=!0,0;var n=e.compareDocumentPosition&&t.compareDocumentPosition&&t.compareDocumentPosition(e);return n?1&n||!C.sortDetached&&e.compareDocumentPosition(t)===n?t===i||R(U,t)?-1:e===i||R(U,e)?1:E?it.call(E,t)-it.call(E,e):0:4&n?-1:1:t.compareDocumentPosition?-1:1}:function(t,e){var n,o=0,s=t.parentNode,r=e.parentNode,l=[t],u=[e];if(t===e)return G=!0,0;if(!s||!r)return t===i?-1:e===i?1:s?-1:r?1:E?it.call(E,t)-it.call(E,e):0;if(s===r)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[o]===u[o];)o++;return o?a(l[o],u[o]):l[o]===U?-1:u[o]===U?1:0},i):I},i.matches=function(t,e){return i(t,null,null,e)},i.matchesSelector=function(t,e){if((t.ownerDocument||t)!==I&&A(t),e=e.replace(ft,"='$1']"),!(!C.matchesSelector||!$||N&&N.test(e)||M&&M.test(e)))try{var n=B.call(t,e);if(n||C.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(o){}return i(e,I,null,[t]).length>0},i.contains=function(t,e){return(t.ownerDocument||t)!==I&&A(t),R(t,e)},i.attr=function(t,i){(t.ownerDocument||t)!==I&&A(t);var n=T.attrHandle[i.toLowerCase()],o=n&&K.call(T.attrHandle,i.toLowerCase())?n(t,i,!$):e;return o===e?C.attributes||!$?t.getAttribute(i):(o=t.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},i.uniqueSort=function(t){var e,i=[],n=0,o=0;if(G=!C.detectDuplicates,E=!C.sortStable&&t.slice(0),t.sort(W),G){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return t},L=i.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=L(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n];n++)i+=L(e);return i},T=i.selectors={cacheLength:50,createPseudo:o,match:_t,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Ct,St),t[3]=(t[4]||t[5]||"").replace(Ct,St),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||i.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&i.error(t[0]),t},PSEUDO:function(t){var i,n=!t[5]&&t[2];return _t.CHILD.test(t[0])?null:(t[3]&&t[4]!==e?t[2]=t[4]:n&&mt.test(n)&&(i=d(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(t[0]=t[0].slice(0,i),t[2]=n.slice(0,i)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Ct,St).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=H[t+" "];return e||(e=RegExp("(^|"+ot+")"+t+"("+ot+"|$)"))&&H(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==V&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(o){var s=i.attr(o,t);return null==s?"!="===e:e?(s+="","="===e?s===n:"!="===e?s!==n:"^="===e?n&&0===s.indexOf(n):"*="===e?n&&s.indexOf(n)>-1:"$="===e?n&&s.slice(-n.length)===n:"~="===e?(" "+s+" ").indexOf(n)>-1:"|="===e?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,o){var s="nth"!==t.slice(0,3),r="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,p,f,m=s!==r?"nextSibling":"previousSibling",g=e.parentNode,_=a&&e.nodeName.toLowerCase(),v=!l&&!a;if(g){if(s){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&v){for(c=g[j]||(g[j]={}),u=c[t]||[],p=u[0]===F&&u[1],d=u[0]===F&&u[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(d=p=0)||f.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[F,p,d];break}}else if(v&&(u=(e[j]||(e[j]={}))[t])&&u[0]===F)d=u[1];else for(;(h=++p&&h&&h[m]||(d=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++d||(v&&((h[j]||(h[j]={}))[t]=[F,d]),h!==e)););return d-=o,d===n||0===d%n&&d/n>=0}}},PSEUDO:function(t,e){var n,s=T.pseudos[t]||T.setFilters[t.toLowerCase()]||i.error("unsupported pseudo: "+t);return s[j]?s(e):s.length>1?(n=[t,t,"",e],T.setFilters.hasOwnProperty(t.toLowerCase())?o(function(t,i){for(var n,o=s(t,e),r=o.length;r--;)n=it.call(t,o[r]),t[n]=!(i[n]=o[r])}):function(t){return s(t,0,n)}):s}},pseudos:{not:o(function(t){var e=[],i=[],n=k(t.replace(ct,"$1"));return n[j]?o(function(t,e,i,o){for(var s,r=n(t,null,o,[]),a=t.length;a--;)(s=r[a])&&(t[a]=!(e[a]=s))}):function(t,o,s){return e[0]=t,n(e,null,s,i),!i.pop()}}),has:o(function(t){return function(e){return i(t,e).length>0}}),contains:o(function(t){return function(e){return(e.textContent||e.innerText||L(e)).indexOf(t)>-1}}),lang:o(function(t){return gt.test(t||"")||i.error("unsupported lang: "+t),t=t.replace(Ct,St).toLowerCase(),function(e){var i;do if(i=$?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeName>"@"||3===t.nodeType||4===t.nodeType)return!1;return!0},parent:function(t){return!T.pseudos.empty(t)},header:function(t){return xt.test(t.nodeName)},input:function(t){return bt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||e.toLowerCase()===t.type)},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,i){return[0>i?i+e:i]}),even:c(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:c(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:c(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:c(function(t,e,i){
for(var n=0>i?i+e:i;e>++n;)t.push(n);return t})}},T.pseudos.nth=T.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[w]=l(w);for(w in{submit:!0,reset:!0})T.pseudos[w]=u(w);h.prototype=T.filters=T.pseudos,T.setFilters=new h,k=i.compile=function(t,e){var i,n=[],o=[],s=Z[t+" "];if(!s){for(e||(e=d(t)),i=e.length;i--;)s=v(e[i]),s[j]?n.push(s):o.push(s);s=Z(t,y(o,n))}return s},C.sortStable=j.split("").sort(W).join("")===j,C.detectDuplicates=G,A(),C.sortDetached=s(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),s(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,i,n){return n?e:t.getAttribute(i,"type"===i.toLowerCase()?1:2)}),C.attributes&&s(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,i,n){return n||"input"!==t.nodeName.toLowerCase()?e:t.defaultValue}),s(function(t){return null==t.getAttribute("disabled")})||r(nt,function(t,i,n){var o;return n?e:(o=t.getAttributeNode(i))&&o.specified?o.value:t[i]===!0?i.toLowerCase():null}),st.find=i,st.expr=i.selectors,st.expr[":"]=st.expr.pseudos,st.unique=i.uniqueSort,st.text=i.getText,st.isXMLDoc=i.isXML,st.contains=i.contains}(t);var ft={};st.Callbacks=function(t){t="string"==typeof t?ft[t]||n(t):st.extend({},t);var i,o,s,r,a,l,u=[],c=!t.once&&[],h=function(e){for(i=t.memory&&e,o=!0,l=r||0,r=0,a=u.length,s=!0;u&&a>l;l++)if(u[l].apply(e[0],e[1])===!1&&t.stopOnFalse){i=!1;break}s=!1,u&&(c?c.length&&h(c.shift()):i?u=[]:d.disable())},d={add:function(){if(u){var e=u.length;!function n(e){st.each(e,function(e,i){var o=st.type(i);"function"===o?t.unique&&d.has(i)||u.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),s?a=u.length:i&&(r=e,h(i))}return this},remove:function(){return u&&st.each(arguments,function(t,e){for(var i;(i=st.inArray(e,u,i))>-1;)u.splice(i,1),s&&(a>=i&&a--,l>=i&&l--)}),this},has:function(t){return t?st.inArray(t,u)>-1:!(!u||!u.length)},empty:function(){return u=[],a=0,this},disable:function(){return u=c=i=e,this},disabled:function(){return!u},lock:function(){return c=e,i||d.disable(),this},locked:function(){return!c},fireWith:function(t,e){return!u||o&&!c||(e=e||[],e=[t,e.slice?e.slice():e],s?c.push(e):h(e)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!o}};return d},st.extend({Deferred:function(t){var e=[["resolve","done",st.Callbacks("once memory"),"resolved"],["reject","fail",st.Callbacks("once memory"),"rejected"],["notify","progress",st.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return st.Deferred(function(i){st.each(e,function(e,s){var r=s[0],a=st.isFunction(t[e])&&t[e];o[s[1]](function(){var t=a&&a.apply(this,arguments);t&&st.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?st.extend(t,n):n}},o={};return n.pipe=n.then,st.each(e,function(t,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,s=tt.call(arguments),r=s.length,a=1!==r||t&&st.isFunction(t.promise)?r:0,l=1===a?t:st.Deferred(),u=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?tt.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(e=Array(r),i=Array(r),n=Array(r);r>o;o++)s[o]&&st.isFunction(s[o].promise)?s[o].promise().done(u(o,n,s)).fail(l.reject).progress(u(o,i,e)):--a;return a||l.resolveWith(n,s),l.promise()}}),st.support=function(e){var i=Z.createElement("input"),n=Z.createDocumentFragment(),o=Z.createElement("div"),s=Z.createElement("select"),r=s.appendChild(Z.createElement("option"));return i.type?(i.type="checkbox",e.checkOn=""!==i.value,e.optSelected=r.selected,e.reliableMarginRight=!0,e.boxSizingReliable=!0,e.pixelPosition=!1,i.checked=!0,e.noCloneChecked=i.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!r.disabled,i=Z.createElement("input"),i.value="t",i.type="radio",e.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),n.appendChild(i),e.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,e.focusinBubbles="onfocusin"in t,o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",e.clearCloneStyle="content-box"===o.style.backgroundClip,st(function(){var i,n,s="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=Z.getElementsByTagName("body")[0];r&&(i=Z.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(o),o.innerHTML="",o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",st.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){e.boxSizing=4===o.offsetWidth}),t.getComputedStyle&&(e.pixelPosition="1%"!==(t.getComputedStyle(o,null)||{}).top,e.boxSizingReliable="4px"===(t.getComputedStyle(o,null)||{width:"4px"}).width,n=o.appendChild(Z.createElement("div")),n.style.cssText=o.style.cssText=s,n.style.marginRight=n.style.width="0",o.style.width="1px",e.reliableMarginRight=!parseFloat((t.getComputedStyle(n,null)||{}).marginRight)),r.removeChild(i))}),e):e}({});var mt,gt,_t=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,vt=/([A-Z])/g;o.uid=1,o.accepts=function(t){return t.nodeType?1===t.nodeType||9===t.nodeType:!0},o.prototype={key:function(t){if(!o.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=o.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,st.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),s=this.cache[o];if("string"==typeof e)s[e]=i;else if(st.isEmptyObject(s))st.extend(this.cache[o],e);else for(n in e)s[n]=e[n];return s},get:function(t,i){var n=this.cache[this.key(t)];return i===e?n:n[i]},access:function(t,i,n){var o;return i===e||i&&"string"==typeof i&&n===e?(o=this.get(t,i),o!==e?o:this.get(t,st.camelCase(i))):(this.set(t,i,n),n!==e?n:i)},remove:function(t,i){var n,o,s,r=this.key(t),a=this.cache[r];if(i===e)this.cache[r]={};else{st.isArray(i)?o=i.concat(i.map(st.camelCase)):(s=st.camelCase(i),i in a?o=[i,s]:(o=s,o=o in a?[o]:o.match(at)||[])),n=o.length;for(;n--;)delete a[o[n]]}},hasData:function(t){return!st.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}},mt=new o,gt=new o,st.extend({acceptData:o.accepts,hasData:function(t){return mt.hasData(t)||gt.hasData(t)},data:function(t,e,i){return mt.access(t,e,i)},removeData:function(t,e){mt.remove(t,e)},_data:function(t,e,i){return gt.access(t,e,i)},_removeData:function(t,e){gt.remove(t,e)}}),st.fn.extend({data:function(t,i){var n,o,r=this[0],a=0,l=null;if(t===e){if(this.length&&(l=mt.get(r),1===r.nodeType&&!gt.get(r,"hasDataAttrs"))){for(n=r.attributes;n.length>a;a++)o=n[a].name,0===o.indexOf("data-")&&(o=st.camelCase(o.slice(5)),s(r,o,l[o]));gt.set(r,"hasDataAttrs",!0)}return l}return"object"==typeof t?this.each(function(){mt.set(this,t)}):st.access(this,function(i){var n,o=st.camelCase(t);if(r&&i===e){if(n=mt.get(r,t),n!==e)return n;if(n=mt.get(r,o),n!==e)return n;if(n=s(r,o,e),n!==e)return n}else this.each(function(){var n=mt.get(this,o);mt.set(this,o,i),-1!==t.indexOf("-")&&n!==e&&mt.set(this,t,i)})},null,i,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){mt.remove(this,t)})}}),st.extend({queue:function(t,i,n){var o;return t?(i=(i||"fx")+"queue",o=gt.get(t,i),n&&(!o||st.isArray(n)?o=gt.access(t,i,st.makeArray(n)):o.push(n)),o||[]):e},dequeue:function(t,e){e=e||"fx";var i=st.queue(t,e),n=i.length,o=i.shift(),s=st._queueHooks(t,e),r=function(){st.dequeue(t,e)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete s.stop,o.call(t,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return gt.get(t,i)||gt.access(t,i,{empty:st.Callbacks("once memory").add(function(){gt.remove(t,[e+"queue",i])})})}}),st.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),n>arguments.length?st.queue(this[0],t):i===e?this:this.each(function(){var e=st.queue(this,t,i);st._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&st.dequeue(this,t)})},dequeue:function(t){return this.each(function(){st.dequeue(this,t)})},delay:function(t,e){return t=st.fx?st.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){var n,o=1,s=st.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof t&&(i=t,t=e),t=t||"fx";a--;)n=gt.get(r[a],t+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var yt,bt,xt=/[\t\r\n\f]/g,wt=/\r/g,Ct=/^(?:input|select|textarea|button)$/i;st.fn.extend({attr:function(t,e){return st.access(this,st.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){st.removeAttr(this,t)})},prop:function(t,e){return st.access(this,st.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[st.propFix[t]||t]})},addClass:function(t){var e,i,n,o,s,r=0,a=this.length,l="string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(at)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(xt," "):" ")){for(s=0;o=e[s++];)0>n.indexOf(" "+o+" ")&&(n+=o+" ");i.className=st.trim(n)}return this},removeClass:function(t){var e,i,n,o,s,r=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(st.isFunction(t))return this.each(function(e){st(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(at)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(xt," "):"")){for(s=0;o=e[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=t?st.trim(n):""}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):st.isFunction(t)?this.each(function(i){st(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=st(this),s=t.match(at)||[];e=s[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else(i===H||"boolean"===i)&&(this.className&&gt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":gt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(xt," ").indexOf(e)>=0)return!0;return!1},val:function(t){var i,n,o,s=this[0];return arguments.length?(o=st.isFunction(t),this.each(function(n){var s;1===this.nodeType&&(s=o?t.call(this,n,st(this).val()):t,null==s?s="":"number"==typeof s?s+="":st.isArray(s)&&(s=st.map(s,function(t){return null==t?"":t+""})),i=st.valHooks[this.type]||st.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,s,"value")!==e||(this.value=s))})):s?(i=st.valHooks[s.type]||st.valHooks[s.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(s,"value"))!==e?n:(n=s.value,"string"==typeof n?n.replace(wt,""):null==n?"":n)):void 0}}),st.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,s="select-one"===t.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(st.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&st.nodeName(i.parentNode,"optgroup"))){if(e=st(i).val(),s)return e;r.push(e)}return r},set:function(t,e){for(var i,n,o=t.options,s=st.makeArray(e),r=o.length;r--;)n=o[r],(n.selected=st.inArray(st(n).val(),s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}},attr:function(t,i,n){var o,s,r=t.nodeType;return t&&3!==r&&8!==r&&2!==r?typeof t.getAttribute===H?st.prop(t,i,n):(1===r&&st.isXMLDoc(t)||(i=i.toLowerCase(),o=st.attrHooks[i]||(st.expr.match.bool.test(i)?bt:yt)),n===e?o&&"get"in o&&null!==(s=o.get(t,i))?s:(s=st.find.attr(t,i),null==s?e:s):null!==n?o&&"set"in o&&(s=o.set(t,n,i))!==e?s:(t.setAttribute(i,n+""),n):(st.removeAttr(t,i),e)):void 0},removeAttr:function(t,e){var i,n,o=0,s=e&&e.match(at);if(s&&1===t.nodeType)for(;i=s[o++];)n=st.propFix[i]||i,st.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!st.support.radioValue&&"radio"===e&&st.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(t,i,n){var o,s,r,a=t.nodeType;return t&&3!==a&&8!==a&&2!==a?(r=1!==a||!st.isXMLDoc(t),r&&(i=st.propFix[i]||i,s=st.propHooks[i]),n!==e?s&&"set"in s&&(o=s.set(t,n,i))!==e?o:t[i]=n:s&&"get"in s&&null!==(o=s.get(t,i))?o:t[i]):void 0},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||Ct.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),bt={set:function(t,e,i){return e===!1?st.removeAttr(t,i):t.setAttribute(i,i),i}},st.each(st.expr.match.bool.source.match(/\w+/g),function(t,i){var n=st.expr.attrHandle[i]||st.find.attr;st.expr.attrHandle[i]=function(t,i,o){var s=st.expr.attrHandle[i],r=o?e:(st.expr.attrHandle[i]=e)!=n(t,i,o)?i.toLowerCase():null;return st.expr.attrHandle[i]=s,r}}),st.support.optSelected||(st.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),st.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){st.propFix[this.toLowerCase()]=this}),st.each(["radio","checkbox"],function(){st.valHooks[this]={set:function(t,i){return st.isArray(i)?t.checked=st.inArray(st(t).val(),i)>=0:e}},st.support.checkOn||(st.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var St=/^key/,Tt=/^(?:mouse|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,Dt=/^([^.]*)(?:\.(.+)|)$/;st.event={global:{},add:function(t,i,n,o,s){var r,a,l,u,c,h,d,p,f,m,g,_=gt.get(t);if(_){for(n.handler&&(r=n,n=r.handler,s=r.selector),n.guid||(n.guid=st.guid++),(u=_.events)||(u=_.events={}),(a=_.handle)||(a=_.handle=function(t){return typeof st===H||t&&st.event.triggered===t.type?e:st.event.dispatch.apply(a.elem,arguments)},a.elem=t),i=(i||"").match(at)||[""],c=i.length;c--;)l=Dt.exec(i[c])||[],f=g=l[1],m=(l[2]||"").split(".").sort(),f&&(d=st.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=st.event.special[f]||{},h=st.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&st.expr.match.needsContext.test(s),namespace:m.join(".")},r),(p=u[f])||(p=u[f]=[],p.delegateCount=0,d.setup&&d.setup.call(t,o,m,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),d.add&&(d.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),st.event.global[f]=!0);t=null}},remove:function(t,e,i,n,o){var s,r,a,l,u,c,h,d,p,f,m,g=gt.hasData(t)&&gt.get(t);if(g&&(l=g.events)){for(e=(e||"").match(at)||[""],u=e.length;u--;)if(a=Dt.exec(e[u])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(h=st.event.special[p]||{},p=(n?h.delegateType:h.bindType)||p,d=l[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=d.length;s--;)c=d[s],!o&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(s,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));r&&!d.length&&(h.teardown&&h.teardown.call(t,f,g.handle)!==!1||st.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)st.event.remove(t,p+e[u],i,n,!0);st.isEmptyObject(l)&&(delete g.handle,gt.remove(t,"events"))}},trigger:function(i,n,o,s){var r,a,l,u,c,h,d,p=[o||Z],f=nt.call(i,"type")?i.type:i,m=nt.call(i,"namespace")?i.namespace.split("."):[];if(a=l=o=o||Z,3!==o.nodeType&&8!==o.nodeType&&!Lt.test(f+st.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),c=0>f.indexOf(":")&&"on"+f,i=i[st.expando]?i:new st.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=e,i.target||(i.target=o),n=null==n?[i]:st.makeArray(n,[i]),d=st.event.special[f]||{},s||!d.trigger||d.trigger.apply(o,n)!==!1)){if(!s&&!d.noBubble&&!st.isWindow(o)){for(u=d.delegateType||f,Lt.test(u+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),l=a;l===(o.ownerDocument||Z)&&p.push(l.defaultView||l.parentWindow||t)}for(r=0;(a=p[r++])&&!i.isPropagationStopped();)i.type=r>1?u:d.bindType||f,h=(gt.get(a,"events")||{})[i.type]&&gt.get(a,"handle"),h&&h.apply(a,n),h=c&&a[c],h&&st.acceptData(a)&&h.apply&&h.apply(a,n)===!1&&i.preventDefault();return i.type=f,s||i.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),n)!==!1||!st.acceptData(o)||c&&st.isFunction(o[f])&&!st.isWindow(o)&&(l=o[c],l&&(o[c]=null),st.event.triggered=f,o[f](),st.event.triggered=e,l&&(o[c]=l)),i.result}},dispatch:function(t){t=st.event.fix(t);var i,n,o,s,r,a=[],l=tt.call(arguments),u=(gt.get(this,"events")||{})[t.type]||[],c=st.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,t)!==!1){for(a=st.event.handlers.call(this,t,u),i=0;(s=a[i++])&&!t.isPropagationStopped();)for(t.currentTarget=s.elem,n=0;(r=s.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(r.namespace))&&(t.handleObj=r,t.data=r.data,o=((st.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,l),o!==e&&(t.result=o)===!1&&(t.preventDefault(),t.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,t),t.result}},handlers:function(t,i){var n,o,s,r,a=[],l=i.delegateCount,u=t.target;if(l&&u.nodeType&&(!t.button||"click"!==t.type))for(;u!==this;u=u.parentNode||this)if(u.disabled!==!0||"click"!==t.type){for(o=[],n=0;l>n;n++)r=i[n],s=r.selector+" ",o[s]===e&&(o[s]=r.needsContext?st(s,this).index(u)>=0:st.find(s,this,null,[u]).length),o[s]&&o.push(r);o.length&&a.push({elem:u,handlers:o})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,o,s,r=i.button;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||Z,o=n.documentElement,s=n.body,t.pageX=i.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),t.pageY=i.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)),t.which||r===e||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[st.expando])return t;var e,i,n,o=t.type,s=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Tt.test(o)?this.mouseHooks:St.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,t=new st.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),r.filter?r.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):e},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):e},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&st.nodeName(this,"input")?(this.click(),!1):e},_default:function(t){return st.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){t.result!==e&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=st.extend(new st.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?st.event.trigger(o,null,e):st.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},st.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},st.Event=function(t,i){return this instanceof st.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.getPreventDefault&&t.getPreventDefault()?r:a):this.type=t,i&&st.extend(this,i),this.timeStamp=t&&t.timeStamp||st.now(),this[st.expando]=!0,e):new st.Event(t,i)},st.Event.prototype={isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=r,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=r,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()}},st.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){st.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,s=t.handleObj;return(!o||o!==n&&!st.contains(n,o))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),st.support.focusinBubbles||st.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){st.event.simulate(e,t.target,st.event.fix(t),!0)};st.event.special[e]={setup:function(){0===i++&&Z.addEventListener(t,n,!0)},teardown:function(){0===--i&&Z.removeEventListener(t,n,!0)}}}),st.fn.extend({on:function(t,i,n,o,s){var r,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],s);return this}if(null==n&&null==o?(o=i,n=i=e):null==o&&("string"==typeof i?(o=n,n=e):(o=n,n=i,i=e)),o===!1)o=a;else if(!o)return this;return 1===s&&(r=o,o=function(t){return st().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=st.guid++)),this.each(function(){st.event.add(this,t,o,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){var o,s;if(t&&t.preventDefault&&t.handleObj)return o=t.handleObj,st(t.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof t){for(s in t)this.off(s,i,t[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=e),n===!1&&(n=a),this.each(function(){st.event.remove(this,t,n,i)})},trigger:function(t,e){return this.each(function(){st.event.trigger(t,e,this)})},triggerHandler:function(t,i){var n=this[0];return n?st.event.trigger(t,i,n,!0):e}});var kt=/^.[^:#\[\.,]*$/,Pt=/^(?:parents|prev(?:Until|All))/,Et=st.expr.match.needsContext,At={children:!0,contents:!0,next:!0,prev:!0};st.fn.extend({find:function(t){var e,i=[],n=this,o=n.length;if("string"!=typeof t)return this.pushStack(st(t).filter(function(){for(e=0;o>e;e++)if(st.contains(n[e],this))return!0}));for(e=0;o>e;e++)st.find(t,n[e],i);return i=this.pushStack(o>1?st.unique(i):i),i.selector=this.selector?this.selector+" "+t:t,i},has:function(t){var e=st(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(st.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(c(this,t||[],!0))},filter:function(t){return this.pushStack(c(this,t||[],!1))},is:function(t){return!!c(this,"string"==typeof t&&Et.test(t)?st(t):t||[],!1).length},closest:function(t,e){for(var i,n=0,o=this.length,s=[],r=Et.test(t)||"string"!=typeof t?st(t,e||this.context):0;o>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(11>i.nodeType&&(r?r.index(i)>-1:1===i.nodeType&&st.find.matchesSelector(i,t))){i=s.push(i);break}return this.pushStack(s.length>1?st.unique(s):s)},index:function(t){return t?"string"==typeof t?et.call(st(t),this[0]):et.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){var i="string"==typeof t?st(t,e):st.makeArray(t&&t.nodeType?[t]:t),n=st.merge(this.get(),i);return this.pushStack(st.unique(n))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),st.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return st.dir(t,"parentNode")},parentsUntil:function(t,e,i){return st.dir(t,"parentNode",i)},next:function(t){return u(t,"nextSibling")},prev:function(t){return u(t,"previousSibling")},nextAll:function(t){return st.dir(t,"nextSibling")},prevAll:function(t){return st.dir(t,"previousSibling")},nextUntil:function(t,e,i){return st.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return st.dir(t,"previousSibling",i)},siblings:function(t){return st.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return st.sibling(t.firstChild)},contents:function(t){return t.contentDocument||st.merge([],t.childNodes)}},function(t,e){st.fn[t]=function(i,n){var o=st.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=st.filter(n,o)),this.length>1&&(At[t]||st.unique(o),Pt.test(t)&&o.reverse()),this.pushStack(o)}}),st.extend({filter:function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?st.find.matchesSelector(n,t)?[n]:[]:st.find.matches(t,st.grep(e,function(t){return 1===t.nodeType}))},dir:function(t,i,n){for(var o=[],s=n!==e;(t=t[i])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&st(t).is(n))break;o.push(t)}return o},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ot=/<([\w:]+)/,$t=/<|&#?\w+;/,Mt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Bt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^$|\/(?:java|ecma)script/i,jt=/^true\/(.*)/,Ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ft={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ft.optgroup=Ft.option,Ft.tbody=Ft.tfoot=Ft.colgroup=Ft.caption=Ft.thead,Ft.th=Ft.td,st.fn.extend({text:function(t){return st.access(this,function(t){return t===e?st.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Z).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=h(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?st.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||st.cleanData(g(i)),i.parentNode&&(e&&st.contains(i.ownerDocument,i)&&f(g(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(st.cleanData(g(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return st.clone(this,t,e)})},html:function(t){return st.access(this,function(t){var i=this[0]||{},n=0,o=this.length;if(t===e&&1===i.nodeType)return i.innerHTML;if("string"==typeof t&&!Mt.test(t)&&!Ft[(Ot.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(It,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(st.cleanData(g(i,!1)),i.innerHTML=t);i=0}catch(s){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=st.map(this,function(t){return[t.nextSibling,t.parentNode]}),e=0;return this.domManip(arguments,function(i){var n=t[e++],o=t[e++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),st(this).remove(),o.insertBefore(i,n))},!0),e?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e,i){t=Q.apply([],t);var n,o,s,r,a,l,u=0,c=this.length,h=this,f=c-1,m=t[0],_=st.isFunction(m);if(_||!(1>=c||"string"!=typeof m||st.support.checkClone)&&Bt.test(m))return this.each(function(n){var o=h.eq(n);_&&(t[0]=m.call(this,n,o.html())),o.domManip(t,e,i)});if(c&&(n=st.buildFragment(t,this[0].ownerDocument,!1,!i&&this),o=n.firstChild,1===n.childNodes.length&&(n=o),o)){for(s=st.map(g(n,"script"),d),r=s.length;c>u;u++)a=n,u!==f&&(a=st.clone(a,!0,!0),r&&st.merge(s,g(a,"script"))),e.call(this[u],a,u);if(r)for(l=s[s.length-1].ownerDocument,st.map(s,p),u=0;r>u;u++)a=s[u],Rt.test(a.type||"")&&!gt.access(a,"globalEval")&&st.contains(l,a)&&(a.src?st._evalUrl(a.src):st.globalEval(a.textContent.replace(Ut,"")))}return this}}),st.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){st.fn[t]=function(t){for(var i,n=[],o=st(t),s=o.length-1,r=0;s>=r;r++)i=r===s?this:this.clone(!0),st(o[r])[e](i),Y.apply(n,i.get());return this.pushStack(n)}}),st.extend({clone:function(t,e,i){var n,o,s,r,a=t.cloneNode(!0),l=st.contains(t.ownerDocument,t);if(!(st.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||st.isXMLDoc(t)))for(r=g(a),s=g(t),n=0,o=s.length;o>n;n++)_(s[n],r[n]);if(e)if(i)for(s=s||g(t),r=r||g(a),n=0,o=s.length;o>n;n++)m(s[n],r[n]);else m(t,a);return r=g(a,"script"),r.length>0&&f(r,!l&&g(t,"script")),a},buildFragment:function(t,e,i,n){for(var o,s,r,a,l,u,c=0,h=t.length,d=e.createDocumentFragment(),p=[];h>c;c++)if(o=t[c],o||0===o)if("object"===st.type(o))st.merge(p,o.nodeType?[o]:o);else if($t.test(o)){for(s=s||d.appendChild(e.createElement("div")),r=(Ot.exec(o)||["",""])[1].toLowerCase(),a=Ft[r]||Ft._default,s.innerHTML=a[1]+o.replace(It,"<$1></$2>")+a[2],u=a[0];u--;)s=s.lastChild;st.merge(p,s.childNodes),s=d.firstChild,s.textContent=""}else p.push(e.createTextNode(o));for(d.textContent="",c=0;o=p[c++];)if((!n||-1===st.inArray(o,n))&&(l=st.contains(o.ownerDocument,o),s=g(d.appendChild(o),"script"),l&&f(s),i))for(u=0;o=s[u++];)Rt.test(o.type||"")&&i.push(o);return d},cleanData:function(t){for(var i,n,s,r,a,l,u=st.event.special,c=0;(n=t[c])!==e;c++){if(o.accepts(n)&&(a=n[gt.expando],a&&(i=gt.cache[a]))){if(s=Object.keys(i.events||{}),s.length)for(l=0;(r=s[l])!==e;l++)u[r]?st.event.remove(n,r):st.removeEvent(n,r,i.handle);gt.cache[a]&&delete gt.cache[a]}delete mt.cache[n[mt.expando]]}},_evalUrl:function(t){return st.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),st.fn.extend({wrapAll:function(t){var e;return st.isFunction(t)?this.each(function(e){st(this).wrapAll(t.call(this,e))}):(this[0]&&(e=st(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return st.isFunction(t)?this.each(function(e){st(this).wrapInner(t.call(this,e))}):this.each(function(){var e=st(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=st.isFunction(t);return this.each(function(i){st(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){st.nodeName(this,"body")||st(this).replaceWith(this.childNodes)}).end()}});var zt,Ht,qt=/^(none|table(?!-c[ea]).+)/,Zt=/^margin/,Gt=RegExp("^("+rt+")(.*)$","i"),Wt=RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Vt=RegExp("^([+-])=("+rt+")","i"),Jt={BODY:"block"},Kt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:0,fontWeight:400},Qt=["Top","Right","Bottom","Left"],Yt=["Webkit","O","Moz","ms"];st.fn.extend({css:function(t,i){return st.access(this,function(t,i,n){var o,s,r={},a=0;if(st.isArray(i)){for(o=b(t),s=i.length;s>a;a++)r[i[a]]=st.css(t,i[a],!1,o);return r}return n!==e?st.style(t,i,n):st.css(t,i)},t,i,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){y(this)?st(this).show():st(this).hide()})}}),st.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=zt(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,i,n,o){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){
var s,r,a,l=st.camelCase(i),u=t.style;return i=st.cssProps[l]||(st.cssProps[l]=v(u,l)),a=st.cssHooks[i]||st.cssHooks[l],n===e?a&&"get"in a&&(s=a.get(t,!1,o))!==e?s:u[i]:(r=typeof n,"string"===r&&(s=Vt.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(st.css(t,i)),r="number"),null==n||"number"===r&&isNaN(n)||("number"!==r||st.cssNumber[l]||(n+="px"),st.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(u[i]="inherit"),a&&"set"in a&&(n=a.set(t,n,o))===e||(u[i]=n)),e)}},css:function(t,i,n,o){var s,r,a,l=st.camelCase(i);return i=st.cssProps[l]||(st.cssProps[l]=v(t.style,l)),a=st.cssHooks[i]||st.cssHooks[l],a&&"get"in a&&(s=a.get(t,!0,n)),s===e&&(s=zt(t,i,o)),"normal"===s&&i in Xt&&(s=Xt[i]),""===n||n?(r=parseFloat(s),n===!0||st.isNumeric(r)?r||0:s):s}}),zt=function(t,i,n){var o,s,r,a=n||b(t),l=a?a.getPropertyValue(i)||a[i]:e,u=t.style;return a&&(""!==l||st.contains(t.ownerDocument,t)||(l=st.style(t,i)),Wt.test(l)&&Zt.test(i)&&(o=u.width,s=u.minWidth,r=u.maxWidth,u.minWidth=u.maxWidth=u.width=l,l=a.width,u.width=o,u.minWidth=s,u.maxWidth=r)),l},st.each(["height","width"],function(t,i){st.cssHooks[i]={get:function(t,n,o){return n?0===t.offsetWidth&&qt.test(st.css(t,"display"))?st.swap(t,Kt,function(){return S(t,i,o)}):S(t,i,o):e},set:function(t,e,n){var o=n&&b(t);return w(t,e,n?C(t,i,n,st.support.boxSizing&&"border-box"===st.css(t,"boxSizing",!1,o),o):0)}}}),st(function(){st.support.reliableMarginRight||(st.cssHooks.marginRight={get:function(t,i){return i?st.swap(t,{display:"inline-block"},zt,[t,"marginRight"]):e}}),!st.support.pixelPosition&&st.fn.position&&st.each(["top","left"],function(t,i){st.cssHooks[i]={get:function(t,n){return n?(n=zt(t,i),Wt.test(n)?st(t).position()[i]+"px":n):e}}})}),st.expr&&st.expr.filters&&(st.expr.filters.hidden=function(t){return 0>=t.offsetWidth&&0>=t.offsetHeight},st.expr.filters.visible=function(t){return!st.expr.filters.hidden(t)}),st.each({margin:"",padding:"",border:"Width"},function(t,e){st.cssHooks[t+e]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[t+Qt[n]+e]=s[n]||s[n-2]||s[0];return o}},Zt.test(t)||(st.cssHooks[t+e].set=w)});var te=/%20/g,ee=/\[\]$/,ie=/\r?\n/g,ne=/^(?:submit|button|image|reset|file)$/i,oe=/^(?:input|select|textarea|keygen)/i;st.fn.extend({serialize:function(){return st.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=st.prop(this,"elements");return t?st.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!st(this).is(":disabled")&&oe.test(this.nodeName)&&!ne.test(t)&&(this.checked||!Nt.test(t))}).map(function(t,e){var i=st(this).val();return null==i?null:st.isArray(i)?st.map(i,function(t){return{name:e.name,value:t.replace(ie,"\r\n")}}):{name:e.name,value:i.replace(ie,"\r\n")}}).get()}}),st.param=function(t,i){var n,o=[],s=function(t,e){e=st.isFunction(e)?e():null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=st.ajaxSettings&&st.ajaxSettings.traditional),st.isArray(t)||t.jquery&&!st.isPlainObject(t))st.each(t,function(){s(this.name,this.value)});else for(n in t)D(n,t[n],i,s);return o.join("&").replace(te,"+")},st.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){st.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),st.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var se,re,ae=st.now(),le=/\?/,ue=/#.*$/,ce=/([?&])_=[^&]*/,he=/^(.*?):[ \t]*([^\r\n]*)$/gm,de=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pe=/^(?:GET|HEAD)$/,fe=/^\/\//,me=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,ge=st.fn.load,_e={},ve={},ye="*/".concat("*");try{re=q.href}catch(be){re=Z.createElement("a"),re.href="",re=re.href}se=me.exec(re.toLowerCase())||[],st.fn.load=function(t,i,n){if("string"!=typeof t&&ge)return ge.apply(this,arguments);var o,s,r,a=this,l=t.indexOf(" ");return l>=0&&(o=t.slice(l),t=t.slice(0,l)),st.isFunction(i)?(n=i,i=e):i&&"object"==typeof i&&(s="POST"),a.length>0&&st.ajax({url:t,type:s,dataType:"html",data:i}).done(function(t){r=arguments,a.html(o?st("<div>").append(st.parseHTML(t)).find(o):t)}).complete(n&&function(t,e){a.each(n,r||[t.responseText,e,t])}),this},st.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){st.fn[e]=function(t){return this.on(e,t)}}),st.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:re,type:"GET",isLocal:de.test(se[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ye,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":st.parseJSON,"text xml":st.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?E(E(t,st.ajaxSettings),e):E(st.ajaxSettings,t)},ajaxPrefilter:k(_e),ajaxTransport:k(ve),ajax:function(t,i){function n(t,i,n,a){var u,h,v,y,x,C=i;2!==b&&(b=2,l&&clearTimeout(l),o=e,r=a||"",w.readyState=t>0?4:0,u=t>=200&&300>t||304===t,n&&(y=A(d,w,n)),y=I(d,y,w,u),u?(d.ifModified&&(x=w.getResponseHeader("Last-Modified"),x&&(st.lastModified[s]=x),x=w.getResponseHeader("etag"),x&&(st.etag[s]=x)),204===t||"HEAD"===d.type?C="nocontent":304===t?C="notmodified":(C=y.state,h=y.data,v=y.error,u=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),w.status=t,w.statusText=(i||C)+"",u?m.resolveWith(p,[h,C,w]):m.rejectWith(p,[w,C,v]),w.statusCode(_),_=e,c&&f.trigger(u?"ajaxSuccess":"ajaxError",[w,d,u?h:v]),g.fireWith(p,[w,C]),c&&(f.trigger("ajaxComplete",[w,d]),--st.active||st.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=e),i=i||{};var o,s,r,a,l,u,c,h,d=st.ajaxSetup({},i),p=d.context||d,f=d.context&&(p.nodeType||p.jquery)?st(p):st.event,m=st.Deferred(),g=st.Callbacks("once memory"),_=d.statusCode||{},v={},y={},b=0,x="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!a)for(a={};e=he.exec(r);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||x;return o&&o.abort(e),n(0,e),this}};if(m.promise(w).complete=g.add,w.success=w.done,w.error=w.fail,d.url=((t||d.url||re)+"").replace(ue,"").replace(fe,se[1]+"//"),d.type=i.method||i.type||d.method||d.type,d.dataTypes=st.trim(d.dataType||"*").toLowerCase().match(at)||[""],null==d.crossDomain&&(u=me.exec(d.url.toLowerCase()),d.crossDomain=!(!u||u[1]===se[1]&&u[2]===se[2]&&(u[3]||("http:"===u[1]?"80":"443"))===(se[3]||("http:"===se[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=st.param(d.data,d.traditional)),P(_e,d,i,w),2===b)return w;c=d.global,c&&0===st.active++&&st.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!pe.test(d.type),s=d.url,d.hasContent||(d.data&&(s=d.url+=(le.test(s)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ce.test(s)?s.replace(ce,"$1_="+ae++):s+(le.test(s)?"&":"?")+"_="+ae++)),d.ifModified&&(st.lastModified[s]&&w.setRequestHeader("If-Modified-Since",st.lastModified[s]),st.etag[s]&&w.setRequestHeader("If-None-Match",st.etag[s])),(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&w.setRequestHeader("Content-Type",d.contentType),w.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+ye+"; q=0.01":""):d.accepts["*"]);for(h in d.headers)w.setRequestHeader(h,d.headers[h]);if(d.beforeSend&&(d.beforeSend.call(p,w,d)===!1||2===b))return w.abort();x="abort";for(h in{success:1,error:1,complete:1})w[h](d[h]);if(o=P(ve,d,i,w)){w.readyState=1,c&&f.trigger("ajaxSend",[w,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){w.abort("timeout")},d.timeout));try{b=1,o.send(v,n)}catch(C){if(!(2>b))throw C;n(-1,C)}}else n(-1,"No Transport");return w},getJSON:function(t,e,i){return st.get(t,e,i,"json")},getScript:function(t,i){return st.get(t,e,i,"script")}}),st.each(["get","post"],function(t,i){st[i]=function(t,n,o,s){return st.isFunction(n)&&(s=s||o,o=n,n=e),st.ajax({url:t,type:i,dataType:s,data:n,success:o})}}),st.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return st.globalEval(t),t}}}),st.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),st.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=st("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){i&&i()}}}});var xe=[],we=/(=)\?(?=&|$)|\?\?/;st.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=xe.pop()||st.expando+"_"+ae++;return this[t]=!0,t}}),st.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.jsonp!==!1&&(we.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&we.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=st.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(we,"$1"+s):i.jsonp!==!1&&(i.url+=(le.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||st.error(s+" was not called"),a[0]},i.dataTypes[0]="json",r=t[s],t[s]=function(){a=arguments},o.always(function(){t[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,xe.push(s)),a&&st.isFunction(r)&&r(a[0]),a=r=e}),"script"):e}),st.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Ce=st.ajaxSettings.xhr(),Se={0:200,1223:204},Te=0,Le={};t.ActiveXObject&&st(t).on("unload",function(){for(var t in Le)Le[t]();Le=e}),st.support.cors=!!Ce&&"withCredentials"in Ce,st.support.ajax=Ce=!!Ce,st.ajaxTransport(function(t){var i;return st.support.cors||Ce&&!t.crossDomain?{send:function(n,o){var s,r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(s in n)a.setRequestHeader(s,n[s]);i=function(t){return function(){i&&(delete Le[r],i=a.onload=a.onerror=null,"abort"===t?a.abort():"error"===t?o(a.status||404,a.statusText):o(Se[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:e,a.getAllResponseHeaders()))}},a.onload=i(),a.onerror=i("error"),i=Le[r=Te++]=i("abort"),a.send(t.hasContent&&t.data||null)},abort:function(){i&&i()}}:e});var De,ke,Pe=/^(?:toggle|show|hide)$/,Ee=RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),Ae=/queueHooks$/,Ie=[B],Oe={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Ee.exec(e),s=o&&o[3]||(st.cssNumber[t]?"":"px"),r=(st.cssNumber[t]||"px"!==s&&+n)&&Ee.exec(st.css(i.elem,t)),a=1,l=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,st.style(i.elem,t,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};st.Animation=st.extend(M,{tweener:function(t,e){st.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;o>n;n++)i=t[n],Oe[i]=Oe[i]||[],Oe[i].unshift(e)},prefilter:function(t,e){e?Ie.unshift(t):Ie.push(t)}}),st.Tween=R,R.prototype={constructor:R,init:function(t,e,i,n,o,s){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(st.cssNumber[i]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,i=R.propHooks[this.prop];return this.pos=e=this.options.duration?st.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=st.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){st.fx.step[t.prop]?st.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[st.cssProps[t.prop]]||st.cssHooks[t.prop])?st.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},st.each(["toggle","show","hide"],function(t,e){var i=st.fn[e];st.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(j(e,!0),t,n,o)}}),st.fn.extend({fadeTo:function(t,e,i,n){return this.filter(y).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=st.isEmptyObject(t),s=st.speed(e,i,n),r=function(){var e=M(this,st.extend({},t),s);(o||gt.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(t,i,n){var o=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",s=st.timers,r=gt.get(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&Ae.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=t&&s[i].queue!==t||(s[i].anim.stop(n),e=!1,s.splice(i,1));(e||!n)&&st.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=gt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],s=st.timers,r=n?n.length:0;for(i.finish=!0,st.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;r>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),st.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){st.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),st.speed=function(t,e,i){var n=t&&"object"==typeof t?st.extend({},t):{complete:i||!i&&e||st.isFunction(t)&&t,duration:t,easing:i&&e||e&&!st.isFunction(e)&&e};return n.duration=st.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in st.fx.speeds?st.fx.speeds[n.duration]:st.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){st.isFunction(n.old)&&n.old.call(this),n.queue&&st.dequeue(this,n.queue)},n},st.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},st.timers=[],st.fx=R.prototype.init,st.fx.tick=function(){var t,i=st.timers,n=0;for(De=st.now();i.length>n;n++)t=i[n],t()||i[n]!==t||i.splice(n--,1);i.length||st.fx.stop(),De=e},st.fx.timer=function(t){t()&&st.timers.push(t)&&st.fx.start()},st.fx.interval=13,st.fx.start=function(){ke||(ke=setInterval(st.fx.tick,st.fx.interval))},st.fx.stop=function(){clearInterval(ke),ke=null},st.fx.speeds={slow:600,fast:200,_default:400},st.fx.step={},st.expr&&st.expr.filters&&(st.expr.filters.animated=function(t){return st.grep(st.timers,function(e){return t===e.elem}).length}),st.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){st.offset.setOffset(this,t,e)});var i,n,o=this[0],s={top:0,left:0},r=o&&o.ownerDocument;return r?(i=r.documentElement,st.contains(i,o)?(typeof o.getBoundingClientRect!==H&&(s=o.getBoundingClientRect()),n=U(r),{top:s.top+n.pageYOffset-i.clientTop,left:s.left+n.pageXOffset-i.clientLeft}):s):void 0},st.offset={setOffset:function(t,e,i){var n,o,s,r,a,l,u,c=st.css(t,"position"),h=st(t),d={};"static"===c&&(t.style.position="relative"),a=h.offset(),s=st.css(t,"top"),l=st.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(s+l).indexOf("auto")>-1,u?(n=h.position(),r=n.top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),st.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(d.top=e.top-a.top+r),null!=e.left&&(d.left=e.left-a.left+o),"using"in e?e.using.call(t,d):h.css(d)}},st.fn.extend({position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===st.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),st.nodeName(t[0],"html")||(n=t.offset()),n.top+=st.css(t[0],"borderTopWidth",!0),n.left+=st.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-st.css(i,"marginTop",!0),left:e.left-n.left-st.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||G;t&&!st.nodeName(t,"html")&&"static"===st.css(t,"position");)t=t.offsetParent;return t||G})}}),st.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(i,n){var o="pageYOffset"===n;st.fn[i]=function(s){return st.access(this,function(i,s,r){var a=U(i);return r===e?a?a[n]:i[s]:(a?a.scrollTo(o?t.pageXOffset:r,o?r:t.pageYOffset):i[s]=r,e)},i,s,arguments.length,null)}}),st.each({Height:"height",Width:"width"},function(t,i){st.each({padding:"inner"+t,content:i,"":"outer"+t},function(n,o){st.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return st.access(this,function(i,n,o){var s;return st.isWindow(i)?i.document.documentElement["client"+t]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+t],s["scroll"+t],i.body["offset"+t],s["offset"+t],s["client"+t])):o===e?st.css(i,n,a):st.style(i,n,o,a)},i,r?o:e,r,null)}})}),st.fn.size=function(){return this.length},st.fn.andSelf=st.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=st:"function"==typeof define&&define.amd&&define("jquery",[],function(){return st}),"object"==typeof t&&"object"==typeof t.document&&(t.jQuery=t.$=st)}(window),function(t,e){"use strict";t.rails!==e&&t.error("jquery-ujs has already been loaded!");var i,n=t(document);t.rails=i={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return t("meta[name=csrf-token]").attr("content")},csrfParam:function(){return t("meta[name=csrf-param]").attr("content")},CSRFProtection:function(t){var e=i.csrfToken();e&&t.setRequestHeader("X-CSRF-Token",e)},refreshCSRFTokens:function(){t('form input[name="'+i.csrfParam()+'"]').val(i.csrfToken())},fire:function(e,i,n){var o=t.Event(i);return e.trigger(o,n),o.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t[0].href},isRemote:function(t){return t.data("remote")!==e&&t.data("remote")!==!1},handleRemote:function(n){var o,s,r,a,l,u;if(i.fire(n,"ajax:before")){if(a=n.data("with-credentials")||null,l=n.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,n.is("form")){o=n.attr("method"),s=n.attr("action"),r=n.serializeArray();var c=n.data("ujs:submit-button");c&&(r.push(c),n.data("ujs:submit-button",null))}else n.is(i.inputChangeSelector)?(o=n.data("method"),s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):n.is(i.buttonClickSelector)?(o=n.data("method")||"get",s=n.data("url"),r=n.serialize(),n.data("params")&&(r=r+"&"+n.data("params"))):(o=n.data("method"),s=i.href(n),r=n.data("params")||null);return u={type:o||"GET",data:r,dataType:l,beforeSend:function(t,o){return o.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+o.accepts.script),i.fire(n,"ajax:beforeSend",[t,o])?void n.trigger("ajax:send",t):!1},success:function(t,e,i){n.trigger("ajax:success",[t,e,i])},complete:function(t,e){n.trigger("ajax:complete",[t,e])},error:function(t,e,i){n.trigger("ajax:error",[t,e,i])},crossDomain:i.isCrossDomain(s)},a&&(u.xhrFields={withCredentials:a}),s&&(u.url=s),i.ajax(u)}return!1},isCrossDomain:function(t){var e=document.createElement("a");e.href=location.href;var i=document.createElement("a");try{return i.href=t,i.href=i.href,!((!i.protocol||":"===i.protocol)&&!i.host||e.protocol+"//"+e.host==i.protocol+"//"+i.host)}catch(n){return!0}},handleMethod:function(n){var o=i.href(n),s=n.data("method"),r=n.attr("target"),a=i.csrfToken(),l=i.csrfParam(),u=t('<form method="post" action="'+o+'"></form>'),c='<input name="_method" value="'+s+'" type="hidden" />';l===e||a===e||i.isCrossDomain(o)||(c+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&u.attr("target",r),u.hide().append(c).appendTo("body"),u.submit()},formElements:function(e,i){return e.is("form")?t(e[0].elements).filter(i):e.find(i)},disableFormElements:function(e){i.formElements(e,i.disableSelector).each(function(){i.disableFormElement(t(this))})},disableFormElement:function(t){var i,n;i=t.is("button")?"html":"val",n=t.data("disable-with"),t.data("ujs:enable-with",t[i]()),n!==e&&t[i](n),t.prop("disabled",!0)},enableFormElements:function(e){i.formElements(e,i.enableSelector).each(function(){i.enableFormElement(t(this))})},enableFormElement:function(t){var e=t.is("button")?"html":"val";"undefined"!=typeof t.data("ujs:enable-with")&&t[e](t.data("ujs:enable-with")),t.prop("disabled",!1)},allowAction:function(t){var e,n=t.data("confirm"),o=!1;if(!n)return!0;if(i.fire(t,"confirm")){try{o=i.confirm(n)}catch(s){(console.error||console.log).call(console,s.stack||s)}e=i.fire(t,"confirm:complete",[o])}return o&&e},blankInputs:function(e,i,n){var o,s,r=t(),a=i||"input,textarea",l=e.find(a);return l.each(function(){if(o=t(this),s=o.is("input[type=checkbox],input[type=radio]")?o.is(":checked"):!!o.val(),s===n){if(o.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+o.attr("name")+'"]').length)return!0;r=r.add(o)}}),r.length?r:!1},nonBlankInputs:function(t,e){return i.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){var n=t.data("disable-with");t.data("ujs:enable-with",t.html()),n!==e&&t.html(n),t.bind("click.railsDisable",function(t){return i.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},i.fire(n,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,n){t.crossDomain||i.CSRFProtection(n)}),t(window).on("pageshow.rails",function(){t(t.rails.enableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableFormElement(e)}),t(t.rails.linkDisableSelector).each(function(){var e=t(this);e.data("ujs:enable-with")&&t.rails.enableElement(e)})}),n.delegate(i.linkDisableSelector,"ajax:complete",function(){i.enableElement(t(this))}),n.delegate(i.buttonDisableSelector,"ajax:complete",function(){i.enableFormElement(t(this))}),n.delegate(i.linkClickSelector,"click.rails",function(e){var n=t(this),o=n.data("method"),s=n.data("params"),r=e.metaKey||e.ctrlKey;if(!i.allowAction(n))return i.stopEverything(e);if(!r&&n.is(i.linkDisableSelector)&&i.disableElement(n),i.isRemote(n)){if(r&&(!o||"GET"===o)&&!s)return!0;var a=i.handleRemote(n);return a===!1?i.enableElement(n):a.fail(function(){i.enableElement(n)}),!1}return o?(i.handleMethod(n),!1):void 0}),n.delegate(i.buttonClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n)||!i.isRemote(n))return i.stopEverything(e);n.is(i.buttonDisableSelector)&&i.disableFormElement(n);var o=i.handleRemote(n);return o===!1?i.enableFormElement(n):o.fail(function(){i.enableFormElement(n)}),!1}),n.delegate(i.inputChangeSelector,"change.rails",function(e){var n=t(this);return i.allowAction(n)&&i.isRemote(n)?(i.handleRemote(n),!1):i.stopEverything(e)}),n.delegate(i.formSubmitSelector,"submit.rails",function(n){var o,s,r=t(this),a=i.isRemote(r);if(!i.allowAction(r))return i.stopEverything(n);if(r.attr("novalidate")===e&&(o=i.blankInputs(r,i.requiredInputSelector,!1),o&&i.fire(r,"ajax:aborted:required",[o])))return i.stopEverything(n);if(a){if(s=i.nonBlankInputs(r,i.fileInputSelector)){setTimeout(function(){i.disableFormElements(r)},13);var l=i.fire(r,"ajax:aborted:file",[s]);return l||setTimeout(function(){i.enableFormElements(r)},13),l}return i.handleRemote(r),!1}setTimeout(function(){i.disableFormElements(r)},13)}),n.delegate(i.formInputClickSelector,"click.rails",function(e){var n=t(this);if(!i.allowAction(n))return i.stopEverything(e);var o=n.attr("name"),s=o?{name:o,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),n.delegate(i.formSubmitSelector,"ajax:send.rails",function(e){this===e.target&&i.disableFormElements(t(this))}),n.delegate(i.formSubmitSelector,"ajax:complete.rails",function(e){this===e.target&&i.enableFormElements(t(this))}),t(function(){i.refreshCSRFTokens()}))}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.7
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var o=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.7
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})}var i='[data-dismiss="alert"]',n=function(e){t(e).on("click",i,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var r=t("#"===s?[]:s);e&&e.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",i,n.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.7
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.button"),s="object"==typeof e&&e;o||n.data("bs.button",o=new i(this,s)),"toggle"==e?o.toggle():e&&o.setState(e)})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",s=n.data();e+="Text",null==s.resetText&&n.data("resetText",n[o]()),setTimeout(t.proxy(function(){n[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=t(i.target).closest(".btn");e.call(n,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.7
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.carousel"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e),r="string"==typeof e?e:s.slide;o||n.data("bs.carousel",o=new i(this,s)),"number"==typeof e?o.to(e):r?o[r]():s.interval&&o.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),n="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(n&&!this.options.wrap)return e;var o="prev"==t?-1:1,s=(i+o)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){return this.sliding?void 0:this.slide("next")},i.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},i.prototype.slide=function(e,n){var o=this.$element.find(".item.active"),s=n||this.getItemForDirection(e,o),r=this.interval,a="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var u=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var h=t(this.$indicators.children()[this.getItemIndex(s)]);h&&h.addClass("active")}var d=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,o.addClass(a),s.addClass(a),o.one("bsTransitionEnd",function(){s.removeClass([e,a].join(" ")).addClass("active"),o.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(d)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(d)),r&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this};var o=function(i){var n,o=t(this),s=t(o.attr("data-target")||(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var r=t.extend({},s.data(),o.data()),a=o.attr("data-slide-to");a&&(r.interval=!1),e.call(s,r),a&&s.data("bs.carousel").to(a),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.7
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i,n=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(n)}function i(e){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!o&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),o||i.data("bs.collapse",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.3.7",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),e||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[r](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION):o.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,n){var o=t(n);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=t(this);o.attr("data-target")||n.preventDefault();var s=e(o),r=s.data("bs.collapse"),a=r?"toggle":o.data();i.call(s,a)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.7
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function i(i){i&&3===i.which||(t(o).remove(),t(s).each(function(){var n=t(this),o=e(n),s={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(o[0],i.target)||(o.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var o=".dropdown-backdrop",s='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.7",r.prototype.toggle=function(n){var o=t(this);if(!o.is(".disabled, :disabled")){var s=e(o),r=s.hasClass("open");if(i(),!r){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var a={relatedTarget:this};if(s.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",a))}return!1}},r.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var n=t(this);if(i.preventDefault(),i.stopPropagation(),!n.is(".disabled, :disabled")){var o=e(n),r=o.hasClass("open");if(!r&&27!=i.which||r&&27==i.which)return 27==i.which&&o.find(s).trigger("focus"),n.trigger("click");var a=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+a);if(l.length){var u=l.index(i.target);38==i.which&&u>0&&u--,40==i.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,r.prototype.toggle).on("keydown.bs.dropdown.data-api",s,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.7
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e,n){return this.each(function(){var o=t(this),s=o.data("bs.modal"),r=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e);s||o.data("bs.modal",s=new i(this,r)),"string"==typeof e?s[e](n):r.show&&s.show(n)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var n=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var n=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=t(this),o=n.attr("href"),s=t(n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),n.data());n.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),e.call(s,r,this)})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.7
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof e&&o[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(r),!r.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(n);this.activate(e.closest("li"),i),this.activate(a,a.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(e,n,o){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=n.find("> .active"),a=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!n.find("> .fade").length);r.length&&a?r.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var o=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),/* ========================================================================
 * Bootstrap: affix.js v3.3.7
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.affix"),s="object"==typeof e&&e;o||n.data("bs.affix",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.options=t.extend({},i.DEFAULTS,n),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,n){var o=this.$target.scrollTop(),s=this.$element.offset(),r=this.$target.height();if(null!=i&&"top"==this.affixed)return i>o?"top":!1;if("bottom"==this.affixed)return null!=i?o+this.unpin<=s.top?!1:"bottom":t-n>=o+r?!1:"bottom";var a=null==this.affixed,l=a?o:s.top,u=a?r:e;return null!=i&&i>=o?"top":null!=n&&l+u>=t-n?"bottom":!1},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),n=this.options.offset,o=n.top,s=n.bottom,r=Math.max(t(document).height(),t(document.body).height());"object"!=typeof n&&(s=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof s&&(s=n.bottom(this.$element));var a=this.getState(r,e,o,s);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),u=t.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:r-e-s})}};var n=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),e.call(i,n)})})}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.7
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(i,n){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=t(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new e(this,s)),"string"==typeof i&&o[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[i]().top+n,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=n)return r!=(t=s[s.length-1])&&this.activate(t);if(r&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)r!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.7
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.tooltip"),s="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.tooltip",o=new i(this,s)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,n){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),i.isInStateTrue()?void 0:(clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide())},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var o=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(a);u&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),h=s[0].offsetWidth,d=s[0].offsetHeight;if(u){var p=a,f=this.getPosition(this.$viewport);a="bottom"==a&&c.bottom+d>f.bottom?"top":"top"==a&&c.top-d<f.top?"bottom":"right"==a&&c.right+h>f.width?"left":"left"==a&&c.left-h<f.left?"right":a,s.removeClass(p).addClass(a)}var m=this.getCalculatedOffset(a,c,h,d);this.applyPlacement(m,a);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",g).emulateTransitionEnd(i.TRANSITION_DURATION):g()}},i.prototype.applyPlacement=function(e,i){var n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top+=r,e.left+=a,t.offset.setOffset(n[0],t.extend({using:function(t){n.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),n.addClass("in");var l=n[0].offsetWidth,u=n[0].offsetHeight;"top"==i&&u!=s&&(e.top=e.top+s-u);var c=this.getViewportAdjustedDelta(i,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var h=/top|bottom/.test(i),d=h?2*c.left-o+l:2*c.top-s+u,p=h?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][p],h)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function n(){"in"!=o.hoverState&&s.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n(),this.hoverState=null,this)},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=window.SVGElement&&i instanceof window.SVGElement,r=n?{top:0,left:0}:s?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=n?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,a,l,r)},i.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-r.scroll,l=e.top+s-r.scroll+n;a<r.top?o.top=r.top-a:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var u=e.left-s,c=e.left+s+i;u<r.left?o.left=r.left-u:c>r.right&&(o.left=r.left+r.width-c)}return o},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.7
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.popover"),s="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||n.data("bs.popover",o=new i(this,s)),"string"==typeof e&&o[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){var e=0,i=function(){return(new Date).getTime()+e++},n=function(t){return"["+t+"]$1"},o=function(t){return"_"+t+"_$1"};t(document).on("click",".add_fields",function(e){e.preventDefault();var s=t(this),r=s.data("association"),a=s.data("associations"),l=s.data("association-insertion-template"),u=s.data("association-insertion-method")||s.data("association-insertion-position")||"before",c=s.data("association-insertion-node"),h=s.data("association-insertion-traversal"),d=parseInt(s.data("count"),10),p=new RegExp("\\[new_"+r+"\\](.*?\\s)","g"),f=new RegExp("_new_"+r+"_(\\w*)","g"),m=i(),g=l.replace(p,n(m)),_=[];for(g==l&&(p=new RegExp("\\[new_"+a+"\\](.*?\\s)","g"),f=new RegExp("_new_"+a+"_(\\w*)","g"),g=l.replace(p,n(m))),g=g.replace(f,o(m)),_=[g],d=isNaN(d)?1:Math.max(d,1),d-=1;d;)m=i(),g=l.replace(p,n(m)),g=g.replace(f,o(m)),_.push(g),d-=1;c=c?h?s[h](c):"this"==c?s:t(c):s.parent(),t.each(_,function(e,i){var n=t(i);c.trigger("cocoon:before-insert",[n]);c[u](n);c.trigger("cocoon:after-insert",[n])})}),t(document).on("click",".remove_fields.dynamic, .remove_fields.existing",function(e){var i=t(this),n=i.data("wrapper-class")||"nested-fields",o=i.closest("."+n),s=o.parent();e.preventDefault(),s.trigger("cocoon:before-remove",[o]);var r=s.data("remove-timeout")||0;setTimeout(function(){i.hasClass("dynamic")?o.remove():(i.prev("input[type=hidden]").val("1"),o.hide()),s.trigger("cocoon:after-remove",[o])},r)}),t(".remove_fields.existing.destroyed").each(function(e,i){var n=t(this),o=n.data("wrapper-class")||"nested-fields";n.closest("."+o).hide()})}(jQuery),/*!
 * typeahead.js 0.11.1
 * https://github.com/twitter/typeahead.js
 * Copyright 2013-2015 Twitter, Inc. and other contributors; Licensed MIT
 */
!function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(i){return t.Bloodhound=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,o){return(n=i.call(null,o,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,o){return(n=i.call(null,o,t,e))?!1:void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,o;return function(){var s,r,a=this,l=arguments;return s=function(){n=null,i||(o=t.apply(a,l))},r=i&&!n,clearTimeout(n),n=setTimeout(s,e),r&&(o=t.apply(a,l)),o}},throttle:function(t,e){var i,n,o,s,r,a;return r=0,a=function(){r=new Date,o=null,s=t.apply(i,n)},function(){var l=new Date,u=e-(l-r);return i=this,n=arguments,0>=u?(clearTimeout(o),o=null,r=l,s=t.apply(i,n)):o||(o=setTimeout(a,u)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var o=[];return e.each(i,function(i){o=o.concat(t(e.toStr(n[i])))}),o}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),o=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function o(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new o(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),s=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function o(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(e){return t.parseJSON(e)}function r(t){var e,i,n=[],o=a.length;for(e=0;o>e;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(l){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),s(this.ls.getItem(this._prefix(t)))},set:function(t,i,s){return e.isNumber(s)?this._safeSet(this._ttlKey(t),o(n()+s)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),o(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=r(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=s(this.ls.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}),i}(),r=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new o(0):a}var n=0,s={},r=6,a=new o(10);return i.setMaxPendingRequests=function(t){r=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),c._cache.set(l,t)}function o(){e(!0)}function a(){n--,delete s[l],c.onDeckRequestArgs&&(c._get.apply(c,c.onDeckRequestArgs),c.onDeckRequestArgs=null)}var l,u,c=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((u=s[l])?u.done(i).fail(o):r>n?(n++,s[l]=this._send(t).done(i).fail(o).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var o,s;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},s=this._fingerprint(i),this.cancelled=!1,this.lastReq=s,(o=this._cache.get(s))?n(null,o):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.matchAnyQueryToken=i.matchAnyQueryToken,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function o(){var t={};return t[l]=[],t[a]={},t}function s(t){for(var e={},i=[],n=0,o=t.length;o>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function r(t,e){var i=0,n=0,o=[];t=t.sort(),e=e.sort();for(var s=t.length,r=e.length;s>i&&r>n;)t[i]<e[n]?i++:t[i]>e[n]?n++:(o.push(t[i]),i++,n++);return o}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,r;i.datums[s=i.identify(t)]=t,r=n(i.datumTokenizer(t)),e.each(r,function(t){var e,n,r;for(e=i.trie,n=t.split("");r=n.shift();)e=e[a][r]||(e[a][r]=o()),e[l].push(s)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,o,u=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,s;if(o&&0===o.length&&!u.matchAnyQueryToken)return!1;for(e=u.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];if(e&&0===i.length)s=e[l].slice(0),o=o?r(o,s):s;else if(!u.matchAnyQueryToken)return o=[],!1}),o?e.map(s(o),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=o()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,o.transform(e))}var n,o=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.indexResponse=t.indexResponse,this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:o.transform(i))}var n,o=this;return e?(t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)):void 0},cancelLastRequest:function(){this.transport.cancel()}}),t}(),c=function(){"use strict";function n(n){var o;return n?(o={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(o,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function o(i){var n;return i?(n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=s(i),i.limiter=r(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i):void 0}function s(t){function e(t,e){return e.url=s(e.url,t),e}function i(t,e){return e.url=e.url.replace(r,encodeURIComponent(t)),e}function n(t,e){return e}var o,s,r;return o=t.prepare,s=t.replace,r=t.wildcard,o?o:o=s?e:t.wildcard?i:n}function r(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var o,s,r;return o=t.limiter,s=t.rateLimitBy,r=t.rateLimitWait,o||(o=/^throttle$/i.test(s)?n(r):i(r)),o}function a(i){return function(n){function o(t){e.defer(function(){r.resolve(t)})}function s(t){e.defer(function(){r.reject(t)})}var r=t.Deferred();return i(n,o,s),r}}return function(i){var s,r;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,matchAnyQueryToken:!1,sufficient:5,indexRemote:!1,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(s,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),r=i.sorter,i.sorter=r?function(t){return t.sort(r)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=o(i.remote),i}}(),h=function(){"use strict";function i(t){t=c(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.indexRemote=t.indexRemote,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var o;return o=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=o),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(o.add(e),o.prefetch.store(o.index.serialize()),void i.resolve())}var i,n,o=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function o(t){var i=[];e.each(t,function(t){!e.some(s,function(e){return r.identify(t)===r.identify(e)})&&i.push(t)}),r.indexRemote&&r.add(i),n(i)}var s,r=this;return i=i||e.noop,n=n||e.noop,s=this.sorter(this.index.search(t)),i(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(t,o):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return h}),function(t,e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,o){return(n=i.call(null,o,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,o){return(n=i.call(null,o,t,e))?!1:void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,o;return function(){var s,r,a=this,l=arguments;return s=function(){n=null,i||(o=t.apply(a,l))},r=i&&!n,clearTimeout(n),n=setTimeout(s,e),r&&(o=t.apply(a,l)),o}},throttle:function(t,e){var i,n,o,s,r,a;return r=0,a=function(){r=new Date,o=null,s=t.apply(i,n)},function(){var l=new Date,u=e-(l-r);return i=this,n=arguments,0>=u?(clearTimeout(o),o=null,r=l,s=t.apply(i,n)):o||(o=setTimeout(a,u)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var r,a;return a=e.mixin({},s,t),r={css:o(),classes:a,html:i(a),selectors:n(a)},{css:r.css,html:r.html,classes:r.classes,selectors:r.selectors,mixin:function(t){e.mixin(t,r)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function o(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,o;return n="typeahead:",o={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var o;return o=t.Event(n+e),(i=i||[]).unshift(o),this.$el.trigger.apply(this.$el,i),o},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=o[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),o=function(){"use strict";function t(t,e,i,n){var o;if(!i)return this;for(e=e.split(l),i=n?a(i,n):i,this._callbacks=this._callbacks||{};o=e.shift();)this._callbacks[o]=this._callbacks[o]||{sync:[],async:[]},this._callbacks[o][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function o(t){var e,i,n,o,r;if(!this._callbacks)return this;for(t=t.split(l),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)o=s(i.sync,this,[e].concat(n)),r=s(i.async,this,[e].concat(n)),o()&&u(r);return this}function s(t,e,i){function n(){for(var n,o=0,s=t.length;!n&&s>o;o+=1)n=t[o].apply(e,i)===!1;return!n}return n}function r(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,u=r();return{onSync:i,onAsync:e,off:n,trigger:o}}(),s=function(t){"use strict";function i(t,i,n){for(var o,s=[],r=0,a=t.length;a>r;r++)s.push(e.escapeRegExChars(t[r]));return o=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(o):new RegExp(o,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function s(e){var i,n,s;return(i=a.exec(e.data))&&(s=t.createElement(o.tagName),o.className&&(s.className=o.className),n=e.splitText(i.index),n.splitText(i[0].length),s.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(s,n)),!!i}function r(t,e){for(var i,n=3,o=0;o<t.childNodes.length;o++)i=t.childNodes[o],i.nodeType===n?o+=e(i)?1:0:r(i,e)}var a;o=e.mixin({},n,o),o.node&&o.pattern&&(o.pattern=e.isArray(o.pattern)?o.pattern:[o.pattern],a=i(o.pattern,o.caseSensitive,o.wordsOnly),r(o.node,s))}}(window.document),r=function(){"use strict";function i(i,o){i=i||{},i.input||t.error("input is missing"),o.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,o,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!r(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!r(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=s(t,this.query),n=i?this.query.length!==t.length:!1,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,o,s=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),o=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",o):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(s._onInput,s,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:document.selection?(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,o){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),o.mixin(this),this.highlight=!!i.highlight,this.name=i.name||u(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=r(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function r(i,n){function o(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||o}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,o,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var o,r=this;return o=document.createDocumentFragment(),e.each(n,function(e){var n,s;s=r._injectQuery(i,e),n=t(r.templates.suggestion(s)).data(l.obj,e).data(l.val,r.displayFn(e)).addClass(r.classes.suggestion+" "+r.classes.selectable),o.appendChild(n[0])}),this.highlight&&s({className:this.classes.highlight,node:o,pattern:i}),t(o)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){r||(r=!0,t=(t||[]).slice(0,o.limit),a=t.length,o._overwrite(e,t),a<o.limit&&o.async&&o.trigger("asyncRequested",e))}function n(i){i=i||[],!s&&a<o.limit&&(o.cancel=t.noop,o._append(e,i.slice(0,o.limit-a)),a+=i.length,o.async&&o.trigger("asyncReceived",e))}var o=this,s=!1,r=!1,a=0;this.cancel(),this.cancel=function(){s=!0,o.cancel=t.noop,o.async&&o.trigger("asyncCanceled",e)},this.source(e,i,n),!r&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function o(e){var i=s.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(s.$node),new a(e,n)}var s=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,o)}return e.mixin(i.prototype,o,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,o;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),o=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(n+e):i>o&&this.$node.scrollTop(n+(i-o))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.scrollTop(0),this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,o;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,o=n+t,o=(o+1)%(e.length+1)-1,o=-1>o?e.length-1:o,-1===o?null:e.eq(o)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),c=function(){"use strict";function i(i,o){var s,r,a,l,u,c,h,d,p,f,m;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),o.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=n(this,"activate","open","_onFocused"),r=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),u=n(this,"isActive","_onEscKeyed"),c=n(this,"isActive","open","_onUpKeyed"),h=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),f=n(this,"_openIfActive","_onQueryChanged"),m=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",r,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",c,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var o,s,r;o=document.activeElement,s=n.is(o),r=n.has(o).length>0,e.isMsie()&&(s||r)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){
this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,o,s,a,l;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(o=r.normalizeQuery(n),s=e.escapeRegExChars(o),a=new RegExp("^(?:"+s+")(.+$)","i"),l=a.exec(i.val),l&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,i,n;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),n=i&&e!==i.val,n&&!this.eventBus.before("autocomplete",i.obj)?(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0):!1},moveCursor:function(t){var e,i,n,o,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),o=n?n.obj:null,s=this._minLengthMet()&&this.menu.update(e),s||this.eventBus.before("cursorchange",o)?!1:(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",o),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function o(e,i){e.each(function(){var e,n=t(this);(e=n.data(m.typeahead))&&i(e,n)})}function s(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(i){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var i,n;i=t.data(m.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(m.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,o;return n=e.isJQuery(i)||e.isElement(i),o=n?t(i).first():[],o.length?o:null}var f,m,g;f=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(o,h){function d(){var i,d,g,_,v,y,b,x,w,C,S;e.each(h,function(t){t.highlight=!!o.highlight}),i=t(this),d=t(f.html.wrapper),g=p(o.hint),_=p(o.menu),v=o.hint!==!1&&!g,y=o.menu!==!1&&!_,v&&(g=s(i,f)),y&&(_=t(f.html.menu).css(f.css.menu)),g&&g.val(""),i=a(i,f),(v||y)&&(d.css(f.css.wrapper),i.css(v?f.css.input:f.css.inputWithNoHint),i.wrap(d).parent().prepend(v?g:null).append(y?_:null)),S=y?u:l,b=new n({el:i}),x=new r({hint:g,input:i},f),w=new S({node:_,datasets:h},f),C=new c({input:x,menu:w,eventBus:b,minLength:o.minLength},f),i.data(m.www,f),i.data(m.typeahead,C)}var f;return h=e.isArray(h)?h:[].slice.call(arguments,1),o=o||{},f=i(o.classNames),this.each(d)},isEnabled:function(){var t;return o(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return o(this,function(t){t.enable()}),this},disable:function(){return o(this,function(t){t.disable()}),this},isActive:function(){var t;return o(this.first(),function(e){t=e.isActive()}),t},activate:function(){return o(this,function(t){t.activate()}),this},deactivate:function(){return o(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return o(this.first(),function(e){t=e.isOpen()}),t},open:function(){return o(this,function(t){t.open()}),this},close:function(){return o(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return o(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return o(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return o(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var i;return arguments.length?(o(this,function(i){i.setVal(e.toStr(t))}),this):(o(this.first(),function(t){i=t.getVal()}),i)},destroy:function(){return o(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()}),/*!
 * Bootstrap-select v1.6.3 (http://silviomoreto.github.io/bootstrap-select/)
 *
 * Copyright 2013-2014 bootstrap-select
 * Licensed under MIT (https://github.com/silviomoreto/bootstrap-select/blob/master/LICENSE)
 */
!function(t){"use strict";function e(t,e){return t.toUpperCase().indexOf(e.toUpperCase())>-1}function i(e){var i=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}];return t.each(i,function(){e=e.replace(this.re,this.ch)}),e}function n(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i="(?:"+Object.keys(e).join("|")+")",n=new RegExp(i),o=new RegExp(i,"g"),s=null==t?"":""+t;return n.test(s)?s.replace(o,function(t){return e[t]}):s}function o(e,i){var n=arguments,o=e,e=n[0],i=n[1];[].shift.apply(n),"undefined"==typeof e&&(e=o);var r,a=this.each(function(){var o=t(this);if(o.is("select")){var a=o.data("selectpicker"),l="object"==typeof e&&e;if(a){if(l)for(var u in l)l.hasOwnProperty(u)&&(a.options[u]=l[u])}else{var c=t.extend({},s.DEFAULTS,t.fn.selectpicker.defaults||{},o.data(),l);o.data("selectpicker",a=new s(this,c,i))}"string"==typeof e&&(r=a[e]instanceof Function?a[e].apply(a,n):a.options[e])}});return"undefined"!=typeof r?r:a}t.expr[":"].icontains=function(i,n,o){return e(t(i).text(),o[3])},t.expr[":"].aicontains=function(i,n,o){return e(t(i).data("normalizedText")||t(i).text(),o[3])};var s=function(e,i,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=i,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=s.prototype.val,this.render=s.prototype.render,this.refresh=s.prototype.refresh,this.setStyle=s.prototype.setStyle,this.selectAll=s.prototype.selectAll,this.deselectAll=s.prototype.deselectAll,this.destroy=s.prototype.remove,this.remove=s.prototype.remove,this.show=s.prototype.show,this.hide=s.prototype.hide,this.init()};s.VERSION="1.6.3",s.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){var i=[];return i[0]=1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",i[1]=1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)",i},selectAllText:"Select All",deselectAllText:"Deselect All",multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,searchAccentInsensitive:!1},s.prototype={constructor:s,init:function(){var e=this,i=this.$element.attr("id");this.$element.hide(),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement),this.$menu=this.$newElement.find("> .dropdown-menu"),this.$button=this.$newElement.find("> button"),this.$searchbox=this.$newElement.find("input"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),"undefined"!=typeof i&&(this.$button.attr("data-id",i),t('label[for="'+i+'"]').click(function(t){t.preventDefault(),e.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.liHeight(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile()},createDropdown:function(){var e=this.multiple?" show-tick":"",i=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",o=this.$element.parents().hasClass("form-group-lg")?" btn-lg":this.$element.parents().hasClass("form-group-sm")?" btn-sm":"",s=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"",a=this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">'+this.options.selectAllText+'</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">'+this.options.deselectAllText+"</button></div></div>":"",l='<div class="btn-group bootstrap-select'+e+i+'"><button type="button" class="btn dropdown-toggle selectpicker'+o+'" data-toggle="dropdown"'+n+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+s+r+a+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>';return t(l)},createView:function(){var t=this.createDropdown(),e=this.createLi();return t.find("ul").append(e),t},reloadLi:function(){this.destroyLi();var t=this.createLi();this.$menu.find("ul").append(t)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var e=this,o=[],s=0,r=function(t,e,i){return"<li"+("undefined"!=typeof i?' class="'+i+'"':"")+("undefined"!=typeof e|null===e?' data-original-index="'+e+'"':"")+">"+t+"</li>"},a=function(t,o,s,r){var a=i(n(t));return'<a tabindex="0"'+("undefined"!=typeof o?' class="'+o+'"':"")+("undefined"!=typeof s?' style="'+s+'"':"")+("undefined"!=typeof r?'data-optgroup="'+r+'"':"")+' data-normalized-text="'+a+'">'+t+'<span class="'+e.options.iconBase+" "+e.options.tickIcon+' check-mark"></span></a>'};return this.$element.find("option").each(function(){var i=t(this),n=i.attr("class")||"",l=i.attr("style"),u=i.data("content")?i.data("content"):i.html(),c="undefined"!=typeof i.data("subtext")?'<small class="muted text-muted">'+i.data("subtext")+"</small>":"",h="undefined"!=typeof i.data("icon")?'<span class="'+e.options.iconBase+" "+i.data("icon")+'"></span> ':"",d=i.is(":disabled")||i.parent().is(":disabled"),p=i[0].index;if(""!==h&&d&&(h="<span>"+h+"</span>"),i.data("content")||(u=h+'<span class="text">'+u+c+"</span>"),!e.options.hideDisabled||!d)if(i.parent().is("optgroup")&&i.data("divider")!==!0){if(0===i.index()){s+=1;var f=i.parent().attr("label"),m="undefined"!=typeof i.parent().data("subtext")?'<small class="muted text-muted">'+i.parent().data("subtext")+"</small>":"",g=i.parent().data("icon")?'<span class="'+e.options.iconBase+" "+i.parent().data("icon")+'"></span> ':"";f=g+'<span class="text">'+f+m+"</span>",0!==p&&o.length>0&&o.push(r("",null,"divider")),o.push(r(f,null,"dropdown-header"))}o.push(r(a(u,"opt "+n,l,s),p))}else o.push(i.data("divider")===!0?r("",p,"divider"):i.data("hidden")===!0?r(a(u,n,l),p,"hide is-hidden"):r(a(u,n,l),p))}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),t(o.join(""))},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var i=this;e!==!1&&this.$element.find("option").each(function(e){i.setDisabled(e,t(this).is(":disabled")||t(this).parent().is(":disabled")),i.setSelected(e,t(this).is(":selected"))}),this.tabIndex();var o=this.options.hideDisabled?":not([disabled])":"",s=this.$element.find("option:selected"+o).map(function(){var e,n=t(this),o=n.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+n.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&n.attr("data-subtext")&&!i.multiple?' <small class="muted text-muted">'+n.data("subtext")+"</small>":"",n.data("content")&&i.options.showContent?n.data("content"):"undefined"!=typeof n.attr("title")?n.attr("title"):o+n.html()+e}).toArray(),r=this.multiple?s.join(this.options.multipleSeparator):s[0];if(this.multiple&&this.options.selectedTextFormat.indexOf("count")>-1){var a=this.options.selectedTextFormat.split(">");if(a.length>1&&s.length>a[1]||1==a.length&&s.length>=2){o=this.options.hideDisabled?", [disabled]":"";var l=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+o).length,u="function"==typeof this.options.countSelectedText?this.options.countSelectedText(s.length,l):this.options.countSelectedText;r=u.replace("{0}",s.length.toString()).replace("{1}",l.toString())}}this.options.title=this.$element.attr("title"),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r="undefined"!=typeof this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",n(r)),this.$newElement.find(".filter-option").html(r)},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var i=t?t:this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(){if(this.options.size!==!1){var t=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",!1).end().appendTo("body"),e=t.addClass("open").find("> .dropdown-menu"),i=e.find("li").not(".divider").not(".dropdown-header").filter(":visible").children("a").outerHeight(),n=this.options.header?e.find(".popover-title").outerHeight():0,o=this.options.liveSearch?e.find(".bs-searchbox").outerHeight():0,s=this.options.actionsBox?e.find(".bs-actionsbox").outerHeight():0;t.remove(),this.$newElement.data("liHeight",i).data("headerHeight",n).data("searchHeight",o).data("actionsHeight",s)}},setSize:function(){this.findLis();var e,i,n,o=this,s=this.$menu,r=s.find(".inner"),a=this.$newElement.outerHeight(),l=this.$newElement.data("liHeight"),u=this.$newElement.data("headerHeight"),c=this.$newElement.data("searchHeight"),h=this.$newElement.data("actionsHeight"),d=this.$lis.filter(".divider").outerHeight(!0),p=parseInt(s.css("padding-top"))+parseInt(s.css("padding-bottom"))+parseInt(s.css("border-top-width"))+parseInt(s.css("border-bottom-width")),f=this.options.hideDisabled?", .disabled":"",m=t(window),g=p+parseInt(s.css("margin-top"))+parseInt(s.css("margin-bottom"))+2,_=function(){i=o.$newElement.offset().top-m.scrollTop(),n=m.height()-i-a};if(_(),this.options.header&&s.css("padding-top",0),"auto"==this.options.size){var v=function(){var t,a=o.$lis.not(".hide");_(),e=n-g,o.options.dropupAuto&&o.$newElement.toggleClass("dropup",i>n&&e-g<s.height()),o.$newElement.hasClass("dropup")&&(e=i-g),t=a.length+a.filter(".dropdown-header").length>3?3*l+g-2:0,s.css({"max-height":e+"px",overflow:"hidden","min-height":t+u+c+h+"px"}),r.css({"max-height":e-u-c-h-p+"px","overflow-y":"auto","min-height":Math.max(t-p,0)+"px"})};v(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",v),t(window).off("resize.getSize").on("resize.getSize",v),t(window).off("scroll.getSize").on("scroll.getSize",v)}else if(this.options.size&&"auto"!=this.options.size&&s.find("li"+f).length>this.options.size){var y=this.$lis.not(".divider"+f).find(" > *").slice(0,this.options.size).last().parent().index(),b=this.$lis.slice(0,y+1).filter(".divider").length;e=l*this.options.size+b*d+p,o.options.dropupAuto&&this.$newElement.toggleClass("dropup",i>n&&e<s.height()),s.css({"max-height":e+u+c+h+"px",overflow:"hidden"}),r.css({"max-height":e-p+"px","overflow-y":"auto"})}},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var t=this.$newElement.clone().appendTo("body"),e=t.find("> .dropdown-menu").css("width"),i=t.css("width","auto").find("> button").css("width");t.remove(),this.$newElement.css("width",Math.max(parseInt(e),parseInt(i))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var e,i,n=this,o="<div />",s=t(o),r=function(t){s.addClass(t.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",t.hasClass("dropup")),e=t.offset(),i=t.hasClass("dropup")?0:t[0].offsetHeight,s.css({top:e.top+i,left:e.left,width:t[0].offsetWidth,position:"absolute"})};this.$newElement.on("click",function(){n.isDisabled()||(r(t(this)),s.appendTo(n.options.container),s.toggleClass("open",!t(this).hasClass("open")),s.append(n.$menu))}),t(window).resize(function(){r(n.$newElement)}),t(window).on("scroll",function(){r(n.$newElement)}),t("html").on("click",function(e){t(e.target).closest(n.$newElement).length<1&&s.removeClass("open")})},setSelected:function(t,e){this.findLis(),this.$lis.filter('[data-original-index="'+t+'"]').toggleClass("selected",e)},setDisabled:function(t,e){this.findLis(),e?this.$lis.filter('[data-original-index="'+t+'"]').addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):this.$lis.filter('[data-original-index="'+t+'"]').removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var t=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex"))),this.$button.click(function(){return!t.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var e=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(t){t.stopPropagation()}),this.$newElement.on("click",function(){e.setSize(),e.options.liveSearch||e.multiple||setTimeout(function(){e.$menu.find(".selected a").focus()},10)}),this.$menu.on("click","li a",function(i){var n=t(this),o=n.parent().data("originalIndex"),s=e.$element.val(),r=e.$element.prop("selectedIndex");if(e.multiple&&i.stopPropagation(),i.preventDefault(),!e.isDisabled()&&!n.parent().hasClass("disabled")){var a=e.$element.find("option"),l=a.eq(o),u=l.prop("selected"),c=l.parent("optgroup"),h=e.options.maxOptions,d=c.data("maxOptions")||!1;if(e.multiple){if(l.prop("selected",!u),e.setSelected(o,!u),n.blur(),h!==!1||d!==!1){var p=h<a.filter(":selected").length,f=d<c.find("option:selected").length;if(h&&p||d&&f)if(h&&1==h)a.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);else if(d&&1==d){c.find("option:selected").prop("selected",!1),l.prop("selected",!0);var m=n.data("optgroup");e.$menu.find(".selected").has('a[data-optgroup="'+m+'"]').removeClass("selected"),e.setSelected(o,!0)}else{var g="function"==typeof e.options.maxOptionsText?e.options.maxOptionsText(h,d):e.options.maxOptionsText,_=g[0].replace("{n}",h),v=g[1].replace("{n}",d),y=t('<div class="notify"></div>');g[2]&&(_=_.replace("{var}",g[2][h>1?0:1]),v=v.replace("{var}",g[2][d>1?0:1])),l.prop("selected",!1),e.$menu.append(y),h&&p&&(y.append(t("<div>"+_+"</div>")),e.$element.trigger("maxReached.bs.select")),d&&f&&(y.append(t("<div>"+v+"</div>")),e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(o,!1)},10),y.delay(750).fadeOut(300,function(){t(this).remove()})}}}else a.prop("selected",!1),l.prop("selected",!0),e.$menu.find(".selected").removeClass("selected"),e.setSelected(o,!0);e.multiple?e.options.liveSearch&&e.$searchbox.focus():e.$button.focus(),(s!=e.$element.val()&&e.multiple||r!=e.$element.prop("selectedIndex")&&!e.multiple)&&e.$element.change()}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(t){t.target==this&&(t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus())}),this.$menu.on("click","li.divider, li.dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){e.$button.focus()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(i){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),i.preventDefault(),i.stopPropagation(),t(this).is(".bs-select-all")?e.selectAll():e.deselectAll(),e.$element.change()}),this.$element.change(function(){e.render(!1)})},liveSearchListener:function(){var e=this,o=t('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){e.$menu.find(".active").removeClass("active"),e.$searchbox.val()&&(e.$searchbox.val(""),e.$lis.not(".is-hidden").removeClass("hide"),o.parent().length&&o.remove()),e.multiple||e.$menu.find(".selected").addClass("active"),setTimeout(function(){e.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){e.$searchbox.val()?(e.options.searchAccentInsensitive?e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":aicontains("+i(e.$searchbox.val())+")").parent().addClass("hide"):e.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+e.$searchbox.val()+")").parent().addClass("hide"),e.$menu.find("li").filter(":visible:not(.no-results)").length?o.parent().length&&o.remove():(o.parent().length&&o.remove(),o.html(e.options.noneResultsText+' "'+n(e.$searchbox.val())+'"').show(),e.$menu.find("li").last().after(o))):(e.$lis.not(".is-hidden").removeClass("hide"),o.parent().length&&o.remove()),e.$menu.find("li.active").removeClass("active"),e.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus(),t(this).focus()})},val:function(t){return"undefined"!=typeof t?(this.$element.val(t),this.render(),this.$element):this.$element.val()},selectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").not(".selected").filter(":visible").find("a").click()},deselectAll:function(){this.findLis(),this.$lis.not(".divider").not(".disabled").filter(".selected").filter(":visible").find("a").click()},keydown:function(e){var n,o,s,r,a,l,u,c,h,d=t(this),p=d.is("input")?d.parent().parent():d.parent(),f=p.data("this"),m={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(f.options.liveSearch&&(p=d.parent().parent()),f.options.container&&(p=f.$menu),n=t("[role=menu] li a",p),h=f.$menu.parent().hasClass("open"),!h&&/([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),h=!0),f.$searchbox.focus()),f.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&0===f.$menu.find(".active").length&&(e.preventDefault(),f.$menu.parent().removeClass("open"),f.$button.focus()),n=t("[role=menu] li:not(.divider):not(.dropdown-header):visible",p),d.val()||/(38|40)/.test(e.keyCode.toString(10))||0===n.filter(".active").length&&(n=f.$newElement.find("li").filter(f.options.searchAccentInsensitive?":aicontains("+i(m[e.keyCode])+")":":icontains("+m[e.keyCode]+")"))),n.length){if(/(38|40)/.test(e.keyCode.toString(10)))o=n.index(n.filter(":focus")),r=n.parent(":not(.disabled):visible").first().index(),a=n.parent(":not(.disabled):visible").last().index(),s=n.eq(o).parent().nextAll(":not(.disabled):visible").eq(0).index(),l=n.eq(o).parent().prevAll(":not(.disabled):visible").eq(0).index(),u=n.eq(s).parent().prevAll(":not(.disabled):visible").eq(0).index(),f.options.liveSearch&&(n.each(function(e){t(this).is(":not(.disabled)")&&t(this).data("index",e)}),o=n.index(n.filter(".active")),r=n.filter(":not(.disabled):visible").first().data("index"),a=n.filter(":not(.disabled):visible").last().data("index"),s=n.eq(o).nextAll(":not(.disabled):visible").eq(0).data("index"),l=n.eq(o).prevAll(":not(.disabled):visible").eq(0).data("index"),u=n.eq(s).prevAll(":not(.disabled):visible").eq(0).data("index")),c=d.data("prevIndex"),38==e.keyCode&&(f.options.liveSearch&&(o-=1),o!=u&&o>l&&(o=l),r>o&&(o=r),o==c&&(o=a)),40==e.keyCode&&(f.options.liveSearch&&(o+=1),-1==o&&(o=0),o!=u&&s>o&&(o=s),o>a&&(o=a),o==c&&(o=r)),d.data("prevIndex",o),f.options.liveSearch?(e.preventDefault(),d.is(".dropdown-toggle")||(n.removeClass("active"),n.eq(o).addClass("active").find("a").focus(),d.focus())):n.eq(o).focus();else if(!d.is("input")){var g,_,v=[];n.each(function(){t(this).parent().is(":not(.disabled)")&&t.trim(t(this).text().toLowerCase()).substring(0,1)==m[e.keyCode]&&v.push(t(this).parent().index())}),g=t(document).data("keycount"),g++,t(document).data("keycount",g),_=t.trim(t(":focus").text().toLowerCase()).substring(0,1),_!=m[e.keyCode]?(g=1,t(document).data("keycount",g)):g>=v.length&&(t(document).data("keycount",0),g>v.length&&(g=1)),n.eq(v[g-1]).focus()}(/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&f.options.selectOnTab)&&h&&(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),f.options.liveSearch?/(32)/.test(e.keyCode.toString(10))||(f.$menu.find(".active a").click(),d.focus()):t(":focus").click(),t(document).data("keycount",0)),(/(^9$|27)/.test(e.keyCode.toString(10))&&h&&(f.multiple||f.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!h)&&(f.$menu.parent().removeClass("open"),f.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement),this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=null,this.reloadLi(),this.render(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},update:function(){this.reloadLi(),this.setWidth(),this.setStyle(),this.checkDisabled(),this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()}};var r=t.fn.selectpicker;t.fn.selectpicker=o,t.fn.selectpicker.Constructor=s,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=r,this},t(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",s.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input",function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);o.call(e,e.data())})})}(jQuery),/*!
 * Ajax Bootstrap Select
 *
 * Extends existing [Bootstrap Select] implementations by adding the ability to search via AJAX requests as you type. Originally for CROSCON.
 *
 * @version 1.3.2
 * @author Adam Heim - https://github.com/truckingsim
 * @link https://github.com/truckingsim/Ajax-Bootstrap-Select
 * @copyright 2015 Adam Heim
 * @license Released under the MIT license.
 *
 * Contributors:
 *   Mark Carver - https://github.com/markcarver
 *
 * Last build: 2015-05-15 6:42:55 PM CDT
 */
!function(t,e){var i=function(i,n){var o,s,r=this;n=n||{},this.$element=t(i),this.options=t.extend(!0,{},t.fn.ajaxSelectPicker.defaults,n),this.LOG_ERROR=1,this.LOG_WARNING=2,this.LOG_INFO=3,this.LOG_DEBUG=4,this.lastRequest=!1,this.previousQuery="",this.query="",this.request=!1;var a=[{from:"ajaxResultsPreHook",to:"preprocessData"},{from:"ajaxSearchUrl",to:{ajax:{url:"{{{value}}}"}}},{from:"ajaxOptions",to:"ajax"},{from:"debug",to:function(e){var i={};i.log=Boolean(r.options[e.from])?r.LOG_DEBUG:0,r.options=t.extend(!0,{},r.options,i),delete r.options[e.from],r.log(r.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',i)}},{from:"mixWithCurrents",to:"preserveSelected"},{from:"placeHolderOption",to:{locale:{emptyTitle:"{{{value}}}"}}}];a.length&&t.map(a,function(e){if(r.options[e.from])if(t.isPlainObject(e.to))r.replaceValue(e.to,"{{{value}}}",r.options[e.from]),r.options=t.extend(!0,{},r.options,e.to),r.log(r.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',e.to),delete r.options[e.from];else if(t.isFunction(e.to))e.to.apply(r,[e]);else{var i={};i[e.to]=r.options[e.from],r.options=t.extend(!0,{},r.options,i),r.log(r.LOG_WARNING,'Deprecated option "'+e.from+'". Update code to use:',i),delete r.options[e.from]}});var l=this.$element.data();l.searchUrl&&(r.log(r.LOG_WARNING,'Deprecated attribute name: "data-search-url". Update markup to use: \' data-abs-ajax-url="'+l.searchUrl+"\" '"),this.options.ajax.url=l.searchUrl);var u=function(t,e){return e.toLowerCase()},c=function(t,e,i){var n=[].concat(t),o=n.length,s=i||{};if(o){var r=n.shift();s[r]=c(n,e,s[r])}return o?s:e},h=Object.keys(l).filter(/./.test.bind(new RegExp("^abs[A-Z]")));if(h.length){var d={},p=["locale"];for(o=0,s=h.length;s>o;o++){var f=h[o].replace(/^abs([A-Z])/,u).replace(/([A-Z])/g,"-$1").toLowerCase(),m=f.split("-");if(m[0]&&m.length>1&&-1!==p.indexOf(m[0])){for(var g=[m.shift()],_="",v=0;v<m.length;v++)_+=0===v?m[v]:m[v].charAt(0).toUpperCase()+m[v].slice(1);g.push(_),m=g}this.log(this.LOG_DEBUG,'Processing data attribute "data-abs-'+f+'":',l[h[o]]),c(m,l[h[o]],d)}this.options=t.extend(!0,{},this.options,d),this.log(this.LOG_DEBUG,"Merged in the data attribute options: ",d,this.options)}if(this.selectpicker=l.selectpicker,!this.selectpicker)return this.log(this.LOG_ERROR,"Cannot instantiate an AjaxBootstrapSelect instance without selectpicker first being initialized!"),null;if(!this.options.ajax.url)return this.log(this.LOG_ERROR,'Option "ajax.url" must be set! Options:',this.options),null;if(this.locale=t.extend(!0,{},t.fn.ajaxSelectPicker.locale),this.options.langCode=this.options.langCode||e.navigator.userLanguage||e.navigator.language||"en",!this.locale[this.options.langCode]){var y=this.options.langCode;this.options.langCode="en";var b=y.split("-");for(o=0,s=b.length;s>o;o++){var x=b.join("-");if(x.length&&this.locale[x]){this.options.langCode=x;break}b.pop()}this.log(this.LOG_WARNING,'Unknown langCode option: "'+y+'". Using the following langCode instead: "'+this.options.langCode+'".')}this.locale[this.options.langCode]=t.extend(!0,{},this.locale[this.options.langCode],this.options.locale),this.list=new e.AjaxBootstrapSelectList(this),this.list.refresh(),setTimeout(function(){r.init()},500)};i.prototype.init=function(){var i,n=this;this.options.preserveSelected&&this.selectpicker.$menu.off("click",".actions-btn").on("click",".actions-btn",function(e){n.selectpicker.options.liveSearch?n.selectpicker.$searchbox.focus():n.selectpicker.$button.focus(),e.preventDefault(),e.stopPropagation(),t(this).is(".bs-select-all")?(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!0),t(n.selectpicker.$lis).not(".disabled").addClass("selected"),n.selectpicker.render()):(null===n.selectpicker.$lis&&(n.selectpicker.$lis=n.selectpicker.$menu.find("li")),n.$element.find("option:enabled").prop("selected",!1),t(n.selectpicker.$lis).not(".disabled").removeClass("selected"),n.selectpicker.render()),n.selectpicker.$element.change()}),this.selectpicker.$searchbox.attr("placeholder",this.t("searchPlaceholder")).off("input propertychange"),this.selectpicker.$searchbox.on(this.options.bindEvent,function(o){var s=n.selectpicker.$searchbox.val();if(n.log(n.LOG_DEBUG,'Bind event fired: "'+n.options.bindEvent+'", keyCode:',o.keyCode,o),n.options.cache||(n.options.ignoredKeys[13]="enter"),n.options.ignoredKeys[o.keyCode])return void n.log(n.LOG_DEBUG,"Key ignored.");if(clearTimeout(i),s.length||(n.options.clearOnEmpty&&n.list.destroy(),n.options.emptyRequest)){if(n.previousQuery=n.query,n.query=s,n.options.cache&&13!==o.keyCode){var r=n.list.cacheGet(n.query);if(r)return n.list.setStatus(r.length?"":n.t("statusNoResults")),n.list.replaceOptions(r),void n.log(n.LOG_INFO,"Rebuilt options from cached data.")}i=setTimeout(function(){n.lastRequest&&n.lastRequest.jqXHR&&t.isFunction(n.lastRequest.jqXHR.abort)&&n.lastRequest.jqXHR.abort(),n.request=new e.AjaxBootstrapSelectRequest(n),n.request.jqXHR.always(function(){n.lastRequest=n.request,n.request=!1})},n.options.requestDelay||300)}})},i.prototype.log=function(t,i){if(e.console&&this.options.log){if("number"!=typeof this.options.log)switch("string"==typeof this.options.log&&(this.options.log=this.options.log.toLowerCase()),this.options.log){case!0:case"debug":this.options.log=this.LOG_DEBUG;break;case"info":this.options.log=this.LOG_INFO;break;case"warn":case"warning":this.options.log=this.LOG_WARNING;break;default:case!1:case"error":this.options.log=this.LOG_ERROR}if(t<=this.options.log){var n=[].slice.apply(arguments,[2]);switch(t){case this.LOG_DEBUG:t="debug";break;case this.LOG_INFO:t="info";break;case this.LOG_WARNING:t="warn";break;default:case this.LOG_ERROR:t="error"}var o="["+t.toUpperCase()+"] AjaxBootstrapSelect:";"string"==typeof i?n.unshift(o+" "+i):(n.unshift(i),n.unshift(o)),e.console[t].apply(e.console,n)}}},i.prototype.replaceValue=function(e,i,n,o){var s=this;o=t.extend({recursive:!0,depth:!1,limit:!1},o),t.each(e,function(r,a){return o.limit!==!1&&"number"==typeof o.limit&&o.limit<=0?!1:void(t.isArray(e[r])||t.isPlainObject(e[r])?(o.recursive&&o.depth===!1||o.recursive&&"number"==typeof o.depth&&o.depth>0)&&s.replaceValue(e[r],i,n,o):a===i&&(o.limit!==!1&&"number"==typeof o.limit&&o.limit--,e[r]=n))})},i.prototype.t=function(t,e){return e=e||this.options.langCode,this.locale[e]&&this.locale[e].hasOwnProperty(t)?this.locale[e][t]:(this.log(this.LOG_WARNING,"Unknown translation key:",t),t)},e.AjaxBootstrapSelect=e.AjaxBootstrapSelect||i;var n=function(e){var i=this;this.$status=t(e.options.templates.status).hide().appendTo(e.selectpicker.$menu);var n=e.t("statusInitialized");n&&n.length&&this.setStatus(n),this.cache={},this.plugin=e,this.selected=[],this.title=null,this.selectedTextFormat=e.selectpicker.options.selectedTextFormat,e.options.preserveSelected&&e.$element.on("change.abs.preserveSelected",function(){var n=e.$element.find(":selected");i.selected=[],e.selectpicker.multiple||(n=n.last()),n.each(function(){var e=t(this),n=e.attr("value");i.selected.push({value:n,text:e.text(),"class":e.attr("class")||"",data:e.data()||{},preserved:!0,selected:!0})}),i.replaceOptions(i.cacheGet(i.plugin.query))})};n.prototype.build=function(e){var i,n,o=e.length,s=t("<select/>"),r=t("<optgroup/>").attr("label",this.plugin.t("currentlySelected"));for(this.plugin.log(this.plugin.LOG_DEBUG,"Building the select list options from data:",e),n=0;o>n;n++){var a=e[n],l=t("<option/>").appendTo(a.preserved?r:s);if(a.hasOwnProperty("divider"))l.attr("data-divider","true");else{l.val(a.value).text(a.text),a["class"].length&&l.attr("class",a["class"]),a.disabled&&l.attr("disabled",!0),a.selected&&!this.plugin.selectpicker.multiple&&s.find(":selected").prop("selected",!1),a.selected&&l.attr("selected",!0);for(i in a.data)a.data.hasOwnProperty(i)&&l.attr("data-"+i,a.data[i])}}r.find("option").length&&r["before"===this.plugin.options.preserveSelectedPosition?"prependTo":"appendTo"](s);var u=s.html();return this.plugin.log(this.plugin.LOG_DEBUG,u),u},n.prototype.cacheGet=function(t,e){var i=this.cache[t]||e;return this.plugin.log(this.LOG_DEBUG,"Retrieving cache:",t,i),i},n.prototype.cacheSet=function(t,e){this.cache[t]=e,this.plugin.log(this.LOG_DEBUG,"Saving to cache:",t,e)},n.prototype.destroy=function(){this.replaceOptions(),this.plugin.list.setStatus(),this.plugin.log(this.plugin.LOG_DEBUG,"Destroyed select list.")},n.prototype.refresh=function(t){this.plugin.selectpicker.$menu.css("minHeight",0),this.plugin.selectpicker.$menu.find("> .inner").css("minHeight",0);var e=this.plugin.t("emptyTitle");!this.plugin.$element.find("option").length&&e&&e.length?this.setTitle(e):this.title&&this.restoreTitle(),this.plugin.selectpicker.refresh(),this.plugin.selectpicker.findLis(),t&&(this.plugin.log(this.plugin.LOG_DEBUG,"Triggering Change"),this.plugin.$element.trigger("change.$")),this.plugin.log(this.plugin.LOG_DEBUG,"Refreshed select list.")},n.prototype.replaceOptions=function(t){var e,i,n,o="",s=[],r=[],a=[];if(t=t||[],this.selected&&this.selected.length){for(this.plugin.log(this.plugin.LOG_INFO,"Processing preserved selections:",this.selected),r=[].concat(this.selected,t),i=r.length,e=0;i>e;e++)n=r[e],n.hasOwnProperty("value")&&-1===a.indexOf(n.value+"")?(a.push(n.value+""),s.push(n)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring.");t=s}t.length&&(o=this.plugin.list.build(t)),this.plugin.$element.html(o),this.refresh(),this.plugin.log(this.plugin.LOG_DEBUG,"Replaced options with data:",t)},n.prototype.restore=function(){var t=this.plugin.list.cacheGet(this.plugin.previousQuery);return t&&this.plugin.list.replaceOptions(t)&&this.plugin.log(this.plugin.LOG_DEBUG,"Restored select list to the previous query: ",this.plugin.previousQuery),this.plugin.log(this.plugin.LOG_DEBUG,"Unable to restore select list to the previous query:",this.plugin.previousQuery),!1},n.prototype.restoreTitle=function(){this.plugin.request||(this.plugin.selectpicker.options.selectedTextFormat=this.selectedTextFormat,this.title?this.plugin.$element.attr("title",this.title):this.plugin.$element.removeAttr("title"),this.title=null)},n.prototype.setTitle=function(t){this.plugin.request||(this.title=this.plugin.$element.attr("title"),this.plugin.selectpicker.options.selectedTextFormat="static",this.plugin.$element.attr("title",t))},n.prototype.setStatus=function(t){t=t||"",t.length?this.$status.html(t).show():this.$status.html("").hide()},e.AjaxBootstrapSelectList=e.AjaxBootstrapSelectList||n;var o=function(e){var i,n=this,o=function(t){return function(){n.plugin.log(n.plugin.LOG_INFO,"Invoking AjaxBootstrapSelectRequest."+t+" callback:",arguments),n[t].apply(n,arguments),n.callbacks[t]&&(n.plugin.log(n.plugin.LOG_INFO,"Invoking ajax."+t+" callback:",arguments),n.callbacks[t].apply(n,arguments))}},s=["beforeSend","success","error","complete"],r=s.length;for(this.plugin=e,this.options=t.extend(!0,{},e.options.ajax),this.callbacks={},i=0;r>i;i++){var a=s[i];this.options[a]&&t.isFunction(this.options[a])&&(this.callbacks[a]=this.options[a]),this.options[a]=o(a)}this.options.data&&t.isFunction(this.options.data)&&(this.options.data=this.options.data.apply(this)||{q:"{{{q}}}"}),this.plugin.replaceValue(this.options.data,"{{{q}}}",this.plugin.query),this.jqXHR=t.ajax(this.options)};o.prototype.beforeSend=function(){this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusSearching"))},o.prototype.complete=function(t,e){if("abort"!==e){var i=this.plugin.list.cacheGet(this.plugin.query);if(i){if(!i.length)return this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("statusNoResults")),void this.plugin.log(this.plugin.LOG_INFO,"No results were returned.");this.plugin.list.setStatus()}this.plugin.list.refresh(!0)}},o.prototype.error=function(t,e){"abort"!==e&&(this.plugin.list.cacheSet(this.plugin.query),this.plugin.options.clearOnError&&this.plugin.list.destroy(),this.plugin.list.setStatus(this.plugin.t("errorText")),this.plugin.options.restoreOnError&&(this.plugin.list.restore(),this.plugin.list.setStatus()))},o.prototype.process=function(e){var i,n,o,s,r,a,l=[],u=[];if(this.plugin.log(this.plugin.LOG_INFO,"Processing raw data for:",this.plugin.query,e),r=e,t.isFunction(this.plugin.options.preprocessData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking preprocessData callback:",this.plugin.options.processData),o=this.plugin.options.preprocessData.apply(this,[r]),"undefined"!=typeof o&&null!==o&&o!==!1&&(r=o)),!t.isArray(r))return this.plugin.log(this.plugin.LOG_ERROR,'The data returned is not an Array. Use the "preprocessData" callback option to parse the results and construct a proper array for this plugin.',r),!1;for(n=r.length,i=0;n>i;i++)s=r[i],this.plugin.log(this.plugin.LOG_DEBUG,"Processing item:",s),t.isPlainObject(s)&&(s.hasOwnProperty("divider")||s.hasOwnProperty("data")&&t.isPlainObject(s.data)&&s.data.divider?(this.plugin.log(this.plugin.LOG_DEBUG,"Item is a divider, ignoring provided data."),l.push({divider:!0})):s.hasOwnProperty("value")?-1===u.indexOf(s.value+"")?(u.push(s.value+""),s=t.extend({text:s.value,"class":"",data:{},disabled:!1,selected:!1},s),l.push(s)):this.plugin.log(this.plugin.LOG_DEBUG,"Duplicate item found, ignoring."):this.plugin.log(this.plugin.LOG_DEBUG,'Data item must have a "value" property, skipping.'));if(a=[].concat(l),t.isFunction(this.plugin.options.processData)&&(this.plugin.log(this.plugin.LOG_DEBUG,"Invoking processData callback:",this.plugin.options.processData),o=this.plugin.options.processData.apply(this,[a]),"undefined"!=typeof o&&null!==o&&o!==!1)){if(!t.isArray(o))return this.plugin.log(this.plugin.LOG_ERROR,"The processData callback did not return an array.",o),!1;a=o}return this.plugin.list.cacheSet(this.plugin.query,a),this.plugin.log(this.plugin.LOG_INFO,"Processed data:",a),a},o.prototype.success=function(e){if(!t.isArray(e)&&!t.isPlainObject(e))return this.plugin.log(this.plugin.LOG_ERROR,"Request did not return a JSON Array or Object.",e),void this.plugin.list.destroy();var i=this.process(e);this.plugin.list.replaceOptions(i)},e.AjaxBootstrapSelectRequest=e.AjaxBootstrapSelectRequest||o,t.fn.ajaxSelectPicker=function(i){return this.each(function(){t(this).data("AjaxBootstrapSelect")||t(this).data("AjaxBootstrapSelect",new e.AjaxBootstrapSelect(this,i))})},t.fn.ajaxSelectPicker.locale={},t.fn.ajaxSelectPicker.defaults={ajax:{url:null,type:"POST",dataType:"json",data:{q:"{{{q}}}"}},bindEvent:"keyup",cache:!0,clearOnEmpty:!0,clearOnError:!0,emptyRequest:!1,ignoredKeys:{9:"tab",16:"shift",17:"ctrl",18:"alt",27:"esc",37:"left",39:"right",38:"up",40:"down",91:"meta",229:"unknown"},langCode:null,locale:null,log:"error",preprocessData:function(){},preserveSelected:!0,preserveSelectedPosition:"after",processData:function(){},requestDelay:300,restoreOnError:!1,templates:{status:'<div class="status"></div>'}},/*!
 * English translation for the "en-US" and "en" language codes.
 * Mark Carver <mark.carver@me.com>
 */
t.fn.ajaxSelectPicker.locale["en-US"]={currentlySelected:"Currently Selected",emptyTitle:"Select and begin typing",errorText:"Unable to retrieve results",searchPlaceholder:"Search...",statusInitialized:"Start typing a search query",statusNoResults:"No Results",statusSearching:"Searching..."},t.fn.ajaxSelectPicker.locale.en=t.fn.ajaxSelectPicker.locale["en-US"]}(jQuery,window),/*!
 * jQuery Cookie Plugin
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2011, Klaus Hartl
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.opensource.org/licenses/GPL-2.0
 */
function(t){t.cookie=function(e,i,n){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(i))||null===i||void 0===i)){if(n=t.extend({},n),(null===i||void 0===i)&&(n.expires=-1),"number"==typeof n.expires){var o=n.expires,s=n.expires=new Date;s.setDate(s.getDate()+o)}return i=String(i),document.cookie=[encodeURIComponent(e),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=i||{};for(var r,a=n.raw?function(t){return t}:decodeURIComponent,l=document.cookie.split("; "),u=0;r=l[u]&&l[u].split("=");u++)if(a(r[0])===e)return a(r[1]||"");return null}}(jQuery),/*
 * File:        jquery.dataTables.min.js
 * Version:     1.9.2
 * Author:      Allan Jardine (www.sprymedia.co.uk)
 * Info:        www.datatables.net
 * 
 * Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 */
function(i,V,l,n){var j=function(e){function o(t,e){var o=j.defaults.columns,s=t.aoColumns.length,o=i.extend({},j.models.oColumn,o,{sSortingClass:t.oClasses.sSortable,sSortingClassJUI:t.oClasses.sSortJUI,nTh:e?e:l.createElement("th"),sTitle:o.sTitle?o.sTitle:e?e.innerHTML:"",aDataSort:o.aDataSort?o.aDataSort:[s],mDataProp:o.mDataProp?o.oDefaults:s});t.aoColumns.push(o),t.aoPreSearchCols[s]===n||null===t.aoPreSearchCols[s]?t.aoPreSearchCols[s]=i.extend({},j.models.oSearch):(o=t.aoPreSearchCols[s],o.bRegex===n&&(o.bRegex=!0),o.bSmart===n&&(o.bSmart=!0),o.bCaseInsensitive===n&&(o.bCaseInsensitive=!0)),r(t,s,null)}function r(t,e,o){e=t.aoColumns[e],o!==n&&null!==o&&(o.sType!==n&&(e.sType=o.sType,e._bAutoType=!1),i.extend(e,o),p(e,o,"sWidth","sWidthOrig"),o.iDataSort!==n&&(e.aDataSort=[o.iDataSort]),p(e,o,"aDataSort")),e.fnGetData=W(e.mDataProp),e.fnSetData=ta(e.mDataProp),t.oFeatures.bSort||(e.bSortable=!1),!e.bSortable||-1==i.inArray("asc",e.asSorting)&&-1==i.inArray("desc",e.asSorting)?(e.sSortingClass=t.oClasses.sSortableNone,e.sSortingClassJUI=""):e.bSortable||-1==i.inArray("asc",e.asSorting)&&-1==i.inArray("desc",e.asSorting)?(e.sSortingClass=t.oClasses.sSortable,e.sSortingClassJUI=t.oClasses.sSortJUI):-1!=i.inArray("asc",e.asSorting)&&-1==i.inArray("desc",e.asSorting)?(e.sSortingClass=t.oClasses.sSortableAsc,e.sSortingClassJUI=t.oClasses.sSortJUIAscAllowed):-1==i.inArray("asc",e.asSorting)&&-1!=i.inArray("desc",e.asSorting)&&(e.sSortingClass=t.oClasses.sSortableDesc,e.sSortingClassJUI=t.oClasses.sSortJUIDescAllowed)}function k(t){if(!1===t.oFeatures.bAutoWidth)return!1;ba(t);for(var e=0,i=t.aoColumns.length;i>e;e++)t.aoColumns[e].nTh.style.width=t.aoColumns[e].sWidth}function G(t,e){for(var i=-1,n=0;n<t.aoColumns.length;n++)if(!0===t.aoColumns[n].bVisible&&i++,i==e)return n;return null}function t(t,e){for(var i=-1,n=0;n<t.aoColumns.length;n++)if(!0===t.aoColumns[n].bVisible&&i++,n==e)return!0===t.aoColumns[n].bVisible?i:null;return null}function v(t){for(var e=0,i=0;i<t.aoColumns.length;i++)!0===t.aoColumns[i].bVisible&&e++;return e}function z(t){for(var e=j.ext.aTypes,i=e.length,n=0;i>n;n++){var o=e[n](t);if(null!==o)return o}return"string"}function D(t,e){for(var i=e.split(","),n=[],o=0,s=t.aoColumns.length;s>o;o++)for(var r=0;s>r;r++)if(t.aoColumns[o].sName==i[r]){n.push(r);break}return n}function x(t){for(var e="",i=0,n=t.aoColumns.length;n>i;i++)e+=t.aoColumns[i].sName+",";return e.length==n?"":e.slice(0,-1)}function J(t,e,n,s){var r,a,l,u,c;if(e)for(r=e.length-1;r>=0;r--){var h=e[r].aTargets;for(i.isArray(h)||E(t,1,"aTargets must be an array of targets, not a "+typeof h),a=0,l=h.length;l>a;a++)if("number"==typeof h[a]&&0<=h[a]){for(;t.aoColumns.length<=h[a];)o(t);s(h[a],e[r])}else if("number"==typeof h[a]&&0>h[a])s(t.aoColumns.length+h[a],e[r]);else if("string"==typeof h[a])for(u=0,c=t.aoColumns.length;c>u;u++)("_all"==h[a]||i(t.aoColumns[u].nTh).hasClass(h[a]))&&s(u,e[r])}if(n)for(r=0,t=n.length;t>r;r++)s(r,n[r])}function H(t,e){var n;n=i.isArray(e)?e.slice():i.extend(!0,{},e);var o=t.aoData.length,s=i.extend(!0,{},j.models.oRow);s._aData=n,t.aoData.push(s);for(var r,s=0,a=t.aoColumns.length;a>s;s++)n=t.aoColumns[s],"function"==typeof n.fnRender&&n.bUseRendered&&null!==n.mDataProp?I(t,o,s,R(t,o,s)):I(t,o,s,w(t,o,s)),n._bAutoType&&"string"!=n.sType&&(r=w(t,o,s,"type"),null!==r&&""!==r&&(r=z(r),null===n.sType?n.sType=r:n.sType!=r&&"html"!=n.sType&&(n.sType="string")));return t.aiDisplayMaster.push(o),t.oFeatures.bDeferRender||ca(t,o),o}function ua(t){var e,n,o,s,r,a,l,u,c;if(t.bDeferLoading||null===t.sAjaxSource)for(l=t.nTBody.childNodes,e=0,n=l.length;n>e;e++)if("TR"==l[e].nodeName.toUpperCase())for(u=t.aoData.length,l[e]._DT_RowIndex=u,t.aoData.push(i.extend(!0,{},j.models.oRow,{nTr:l[e]})),t.aiDisplayMaster.push(u),a=l[e].childNodes,o=r=0,s=a.length;s>o;o++)c=a[o].nodeName.toUpperCase(),("TD"==c||"TH"==c)&&(I(t,u,r,i.trim(a[o].innerHTML)),r++);for(l=S(t),a=[],e=0,n=l.length;n>e;e++)for(o=0,s=l[e].childNodes.length;s>o;o++)r=l[e].childNodes[o],c=r.nodeName.toUpperCase(),("TD"==c||"TH"==c)&&a.push(r);for(s=0,l=t.aoColumns.length;l>s;s++){c=t.aoColumns[s],null===c.sTitle&&(c.sTitle=c.nTh.innerHTML),r=c._bAutoType,u="function"==typeof c.fnRender;var h,d,p=null!==c.sClass,f=c.bVisible;if(r||u||p||!f)for(e=0,n=t.aoData.length;n>e;e++)o=t.aoData[e],h=a[e*l+s],r&&"string"!=c.sType&&(d=w(t,e,s,"type"),""!==d&&(d=z(d),null===c.sType?c.sType=d:c.sType!=d&&"html"!=c.sType&&(c.sType="string"))),"function"==typeof c.mDataProp&&(h.innerHTML=w(t,e,s,"display")),u&&(d=R(t,e,s),h.innerHTML=d,c.bUseRendered&&I(t,e,s,d)),p&&(h.className+=" "+c.sClass),f?o._anHidden[s]=null:(o._anHidden[s]=h,h.parentNode.removeChild(h)),c.fnCreatedCell&&c.fnCreatedCell.call(t.oInstance,h,w(t,e,s,"display"),o._aData,e,s)}if(0!==t.aoRowCreatedCallback.length)for(e=0,n=t.aoData.length;n>e;e++)o=t.aoData[e],C(t,"aoRowCreatedCallback",null,[o.nTr,o._aData,e])}function K(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null}function da(t,e,i){for(var e=L(t,e),n=0,t=t.aoColumns.length;t>n;n++)if(e[n]===i)return n;return-1}function X(t,e,i){for(var n=[],o=0,s=t.aoColumns.length;s>o;o++)n.push(w(t,e,o,i));return n}function w(t,e,i,o){var s=t.aoColumns[i];if((i=s.fnGetData(t.aoData[e]._aData,o))===n)return t.iDrawError!=t.iDraw&&null===s.sDefaultContent&&(E(t,0,"Requested unknown parameter "+("function"==typeof s.mDataProp?"{mDataprop function}":"'"+s.mDataProp+"'")+" from the data source for row "+e),t.iDrawError=t.iDraw),s.sDefaultContent;if(null===i&&null!==s.sDefaultContent)i=s.sDefaultContent;else if("function"==typeof i)return i();return"display"==o&&null===i?"":i}function I(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n)}function W(t){if(null===t)return function(){return null};if("function"==typeof t)return function(e,i){return t(e,i)};if("string"==typeof t&&-1!=t.indexOf(".")){var e=t.split(".");return function(t){for(var i=0,o=e.length;o>i;i++)if(t=t[e[i]],t===n)return n;return t}}return function(e){return e[t]}}function ta(t){if(null===t)return function(){};if("function"==typeof t)return function(e,i){t(e,"set",i)};if("string"==typeof t&&-1!=t.indexOf(".")){var e=t.split(".");return function(t,i){for(var o=0,s=e.length-1;s>o;o++)t[e[o]]===n&&(t[e[o]]={}),t=t[e[o]];t[e[e.length-1]]=i}}return function(e,i){e[t]=i}}function Y(t){for(var e=[],i=t.aoData.length,n=0;i>n;n++)e.push(t.aoData[n]._aData);return e}function ea(t){t.aoData.splice(0,t.aoData.length),t.aiDisplayMaster.splice(0,t.aiDisplayMaster.length),t.aiDisplay.splice(0,t.aiDisplay.length),A(t)}function fa(t,e){for(var i=-1,n=0,o=t.length;o>n;n++)t[n]==e?i=n:t[n]>e&&t[n]--;-1!=i&&t.splice(i,1)}function R(t,e,i){var n=t.aoColumns[i];return n.fnRender({iDataRow:e,iDataColumn:i,oSettings:t,aData:t.aoData[e]._aData,mDataProp:n.mDataProp},w(t,e,i,"display"))}function ca(t,e){var n,o=t.aoData[e];if(null===o.nTr){o.nTr=l.createElement("tr"),o.nTr._DT_RowIndex=e,o._aData.DT_RowId&&(o.nTr.id=o._aData.DT_RowId),o._aData.DT_RowClass&&i(o.nTr).addClass(o._aData.DT_RowClass);for(var s=0,r=t.aoColumns.length;r>s;s++){var a=t.aoColumns[s];n=l.createElement(a.sCellType),n.innerHTML="function"!=typeof a.fnRender||a.bUseRendered&&null!==a.mDataProp?w(t,e,s,"display"):R(t,e,s),null!==a.sClass&&(n.className=a.sClass),a.bVisible?(o.nTr.appendChild(n),o._anHidden[s]=null):o._anHidden[s]=n,a.fnCreatedCell&&a.fnCreatedCell.call(t.oInstance,n,w(t,e,s,"display"),o._aData,e,s)}C(t,"aoRowCreatedCallback",null,[o.nTr,o._aData,e])}}function va(t){var e,n,o;if(0!==t.nTHead.getElementsByTagName("th").length)for(e=0,o=t.aoColumns.length;o>e;e++)n=t.aoColumns[e].nTh,n.setAttribute("role","columnheader"),t.aoColumns[e].bSortable&&(n.setAttribute("tabindex",t.iTabIndex),n.setAttribute("aria-controls",t.sTableId)),null!==t.aoColumns[e].sClass&&i(n).addClass(t.aoColumns[e].sClass),t.aoColumns[e].sTitle!=n.innerHTML&&(n.innerHTML=t.aoColumns[e].sTitle);else{var s=l.createElement("tr");for(e=0,o=t.aoColumns.length;o>e;e++)n=t.aoColumns[e].nTh,n.innerHTML=t.aoColumns[e].sTitle,n.setAttribute("tabindex","0"),null!==t.aoColumns[e].sClass&&i(n).addClass(t.aoColumns[e].sClass),s.appendChild(n);i(t.nTHead).html("")[0].appendChild(s),T(t.aoHeader,t.nTHead)}if(i(t.nTHead).children("tr").attr("role","row"),t.bJUI)for(e=0,o=t.aoColumns.length;o>e;e++){n=t.aoColumns[e].nTh,s=l.createElement("div"),s.className=t.oClasses.sSortJUIWrapper,i(n).contents().appendTo(s);var r=l.createElement("span");r.className=t.oClasses.sSortIcon,s.appendChild(r),n.appendChild(s)}if(t.oFeatures.bSort)for(e=0;e<t.aoColumns.length;e++)!1!==t.aoColumns[e].bSortable?ga(t,t.aoColumns[e].nTh,e):i(t.aoColumns[e].nTh).addClass(t.oClasses.sSortableNone);if(""!==t.oClasses.sFooterTH&&i(t.nTFoot).children("tr").children("th").addClass(t.oClasses.sFooterTH),null!==t.nTFoot)for(n=O(t,null,t.aoFooter),e=0,o=t.aoColumns.length;o>e;e++)n[e]&&(t.aoColumns[e].nTf=n[e],t.aoColumns[e].sClass&&i(n[e]).addClass(t.aoColumns[e].sClass))}function U(t,e,i){var o,s,r,a,l=[],u=[],c=t.aoColumns.length;for(i===n&&(i=!1),o=0,s=e.length;s>o;o++){for(l[o]=e[o].slice(),l[o].nTr=e[o].nTr,r=c-1;r>=0;r--)!t.aoColumns[r].bVisible&&!i&&l[o].splice(r,1);u.push([])}for(o=0,s=l.length;s>o;o++){if(t=l[o].nTr)for(;r=t.firstChild;)t.removeChild(r);for(r=0,e=l[o].length;e>r;r++)if(a=c=1,u[o][r]===n){for(t.appendChild(l[o][r].cell),u[o][r]=1;l[o+c]!==n&&l[o][r].cell==l[o+c][r].cell;)u[o+c][r]=1,c++;for(;l[o][r+a]!==n&&l[o][r].cell==l[o][r+a].cell;){for(i=0;c>i;i++)u[o+i][r+a]=1;a++}l[o][r].cell.rowSpan=c,l[o][r].cell.colSpan=a}}}function y(t){var e=C(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==i.inArray(!1,e))F(t,!1);else{var o,s,e=[],r=0,a=t.asStripeClasses.length;if(o=t.aoOpenRows.length,t.bDrawing=!0,t.iInitDisplayStart!==n&&-1!=t.iInitDisplayStart&&(t._iDisplayStart=t.oFeatures.bServerSide?t.iInitDisplayStart:t.iInitDisplayStart>=t.fnRecordsDisplay()?0:t.iInitDisplayStart,t.iInitDisplayStart=-1,A(t)),t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++;else if(t.oFeatures.bServerSide){if(!t.bDestroying&&!wa(t))return}else t.iDraw++;if(0!==t.aiDisplay.length){var u=t._iDisplayStart;for(s=t._iDisplayEnd,t.oFeatures.bServerSide&&(u=0,s=t.aoData.length);s>u;u++){var c=t.aoData[t.aiDisplay[u]];null===c.nTr&&ca(t,t.aiDisplay[u]);var h=c.nTr;if(0!==a){var d=t.asStripeClasses[r%a];c._sRowStripe!=d&&(i(h).removeClass(c._sRowStripe).addClass(d),c._sRowStripe=d)}if(C(t,"aoRowCallback",null,[h,t.aoData[t.aiDisplay[u]]._aData,r,u]),e.push(h),r++,0!==o)for(c=0;o>c;c++)if(h==t.aoOpenRows[c].nParent){e.push(t.aoOpenRows[c].nTr);break}}}else e[0]=l.createElement("tr"),t.asStripeClasses[0]&&(e[0].className=t.asStripeClasses[0]),o=t.oLanguage,a=o.sZeroRecords,1!=t.iDraw||null===t.sAjaxSource||t.oFeatures.bServerSide?o.sEmptyTable&&0===t.fnRecordsTotal()&&(a=o.sEmptyTable):a=o.sLoadingRecords,o=l.createElement("td"),o.setAttribute("valign","top"),o.colSpan=v(t),o.className=t.oClasses.sRowEmpty,o.innerHTML=ha(t,a),e[r].appendChild(o);if(C(t,"aoHeaderCallback","header",[i(t.nTHead).children("tr")[0],Y(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),C(t,"aoFooterCallback","footer",[i(t.nTFoot).children("tr")[0],Y(t),t._iDisplayStart,t.fnDisplayEnd(),t.aiDisplay]),r=l.createDocumentFragment(),o=l.createDocumentFragment(),t.nTBody){if(a=t.nTBody.parentNode,o.appendChild(t.nTBody),!t.oScroll.bInfinite||!t._bInitComplete||t.bSorted||t.bFiltered)for(;o=t.nTBody.firstChild;)t.nTBody.removeChild(o);for(o=0,s=e.length;s>o;o++)r.appendChild(e[o]);t.nTBody.appendChild(r),null!==a&&a.appendChild(t.nTBody)}C(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1,t.oFeatures.bServerSide&&(F(t,!1),t._bInitComplete||Z(t))}}function $(t){t.oFeatures.bSort?P(t,t.oPreviousSearch):t.oFeatures.bFilter?M(t,t.oPreviousSearch):(A(t),y(t))}function xa(t){var e=i("<div></div>")[0];t.nTable.parentNode.insertBefore(e,t.nTable),t.nTableWrapper=i('<div id="'+t.sTableId+'_wrapper" class="'+t.oClasses.sWrapper+'" role="grid"></div>')[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var n,o,s,r,a,l,u,c=t.nTableWrapper,h=t.sDom.split(""),d=0;d<h.length;d++){if(o=0,s=h[d],"<"==s){if(r=i("<div></div>")[0],a=h[d+1],"'"==a||'"'==a){for(l="",u=2;h[d+u]!=a;)l+=h[d+u],u++;"H"==l?l=t.oClasses.sJUIHeader:"F"==l&&(l=t.oClasses.sJUIFooter),-1!=l.indexOf(".")?(a=l.split("."),r.id=a[0].substr(1,a[0].length-1),r.className=a[1]):"#"==l.charAt(0)?r.id=l.substr(1,l.length-1):r.className=l,d+=u}c.appendChild(r),c=r}else if(">"==s)c=c.parentNode;else if("l"==s&&t.oFeatures.bPaginate&&t.oFeatures.bLengthChange)n=ya(t),o=1;else if("f"==s&&t.oFeatures.bFilter)n=za(t),o=1;else if("r"==s&&t.oFeatures.bProcessing)n=Aa(t),o=1;else if("t"==s)n=Ba(t),o=1;else if("i"==s&&t.oFeatures.bInfo)n=Ca(t),o=1;else if("p"==s&&t.oFeatures.bPaginate)n=Da(t),o=1;else if(0!==j.ext.aoFeatures.length)for(r=j.ext.aoFeatures,u=0,a=r.length;a>u;u++)if(s==r[u].cFeature){(n=r[u].fnInit(t))&&(o=1);break}1==o&&null!==n&&("object"!=typeof t.aanFeatures[s]&&(t.aanFeatures[s]=[]),t.aanFeatures[s].push(n),c.appendChild(n))}e.parentNode.replaceChild(t.nTableWrapper,e)}function T(t,e){var n,o,s,r,a,l,u,c,h=i(e).children("tr");for(t.splice(0,t.length),o=0,l=h.length;l>o;o++)t.push([]);for(o=0,l=h.length;l>o;o++)for(s=0,u=h[o].childNodes.length;u>s;s++)if(n=h[o].childNodes[s],"TD"==n.nodeName.toUpperCase()||"TH"==n.nodeName.toUpperCase()){var d=1*n.getAttribute("colspan"),p=1*n.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,p=p&&0!==p&&1!==p?p:1;for(r=0;t[o][r];)r++;for(c=r,a=0;d>a;a++)for(r=0;p>r;r++)t[o+r][c+a]={cell:n,unique:1==d?!0:!1},t[o+r].nTr=h[o]}}function O(t,e,i){var n=[];i||(i=t.aoHeader,e&&(i=[],T(i,e)));for(var e=0,o=i.length;o>e;e++)for(var s=0,r=i[e].length;r>s;s++)!i[e][s].unique||n[s]&&t.bSortCellsTop||(n[s]=i[e][s].cell);return n}function wa(t){if(t.bAjaxDataGet){t.iDraw++,F(t,!0);var e=Ea(t);return ia(t,e),t.fnServerData.call(t.oInstance,t.sAjaxSource,e,function(e){Fa(t,e)},t),!1}return!0}function Ea(t){var e,i,n,o,s=t.aoColumns.length,r=[];for(r.push({name:"sEcho",value:t.iDraw}),r.push({name:"iColumns",value:s}),r.push({name:"sColumns",value:x(t)}),r.push({name:"iDisplayStart",value:t._iDisplayStart}),r.push({name:"iDisplayLength",value:!1!==t.oFeatures.bPaginate?t._iDisplayLength:-1}),n=0;s>n;n++)e=t.aoColumns[n].mDataProp,r.push({name:"mDataProp_"+n,value:"function"==typeof e?"function":e});if(!1!==t.oFeatures.bFilter)for(r.push({name:"sSearch",value:t.oPreviousSearch.sSearch}),r.push({name:"bRegex",value:t.oPreviousSearch.bRegex}),n=0;s>n;n++)r.push({name:"sSearch_"+n,value:t.aoPreSearchCols[n].sSearch}),r.push({name:"bRegex_"+n,value:t.aoPreSearchCols[n].bRegex}),r.push({name:"bSearchable_"+n,value:t.aoColumns[n].bSearchable});if(!1!==t.oFeatures.bSort){var a=0;for(e=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),n=0;n<e.length;n++)for(i=t.aoColumns[e[n][0]].aDataSort,o=0;o<i.length;o++)r.push({name:"iSortCol_"+a,value:i[o]}),r.push({name:"sSortDir_"+a,value:e[n][1]}),a++;for(r.push({name:"iSortingCols",value:a}),n=0;s>n;n++)r.push({name:"bSortable_"+n,value:t.aoColumns[n].bSortable})}return r}function ia(t,e){C(t,"aoServerParams","serverParams",[e])}function Fa(t,e){if(e.sEcho!==n){if(1*e.sEcho<t.iDraw)return;t.iDraw=1*e.sEcho}(!t.oScroll.bInfinite||t.oScroll.bInfinite&&(t.bSorted||t.bFiltered))&&ea(t),t._iRecordsTotal=parseInt(e.iTotalRecords,10),t._iRecordsDisplay=parseInt(e.iTotalDisplayRecords,10);var i,o=x(t),o=e.sColumns!==n&&""!==o&&e.sColumns!=o;o&&(i=D(t,e.sColumns));for(var s=W(t.sAjaxDataProp)(e),r=0,a=s.length;a>r;r++)if(o){for(var l=[],u=0,c=t.aoColumns.length;c>u;u++)l.push(s[r][i[u]]);H(t,l)}else H(t,s[r]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,y(t),t.bAjaxDataGet=!0,F(t,!1)}function za(t){var e=t.oPreviousSearch,n=t.oLanguage.sSearch,n=-1!==n.indexOf("_INPUT_")?n.replace("_INPUT_",'<input type="text" />'):""===n?'<input type="text" />':n+' <input type="text" />',o=l.createElement("div");return o.className=t.oClasses.sFilter,o.innerHTML="<label>"+n+"</label>",t.aanFeatures.f||(o.id=t.sTableId+"_filter"),n=i('input[type="text"]',o),o._DT_Input=n[0],n.val(e.sSearch.replace('"',"&quot;")),n.bind("keyup.DT",function(){for(var n=t.aanFeatures.f,o=""===this.value?"":this.value,s=0,r=n.length;r>s;s++)n[s]!=i(this).parents("div.dataTables_filter")[0]&&i(n[s]._DT_Input).val(o);o!=e.sSearch&&M(t,{sSearch:o,bRegex:e.bRegex,bSmart:e.bSmart,bCaseInsensitive:e.bCaseInsensitive})}),n.attr("aria-controls",t.sTableId).bind("keypress.DT",function(t){return 13==t.keyCode?!1:void 0}),o}function M(t,e,n){var o=t.oPreviousSearch,s=t.aoPreSearchCols,r=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive};if(t.oFeatures.bServerSide)r(e);else{for(Ga(t,e.sSearch,n,e.bRegex,e.bSmart,e.bCaseInsensitive),r(e),e=0;e<t.aoPreSearchCols.length;e++)Ha(t,s[e].sSearch,e,s[e].bRegex,s[e].bSmart,s[e].bCaseInsensitive);Ia(t)}t.bFiltered=!0,i(t.oInstance).trigger("filter",t),t._iDisplayStart=0,A(t),y(t),ja(t,0)}function Ia(t){for(var e=j.ext.afnFiltering,i=0,n=e.length;n>i;i++)for(var o=0,s=0,r=t.aiDisplay.length;r>s;s++){var a=t.aiDisplay[s-o];e[i](t,X(t,a,"filter"),a)||(t.aiDisplay.splice(s-o,1),o++)}}function Ha(t,e,i,n,o,s){if(""!==e)for(var r=0,e=ka(e,n,o,s),n=t.aiDisplay.length-1;n>=0;n--)o=la(w(t,t.aiDisplay[n],i,"filter"),t.aoColumns[i].sType),e.test(o)||(t.aiDisplay.splice(n,1),r++)}function Ga(t,e,i,n,o,s){if(n=ka(e,n,o,s),o=t.oPreviousSearch,i||(i=0),0!==j.ext.afnFiltering.length&&(i=1),0>=e.length)t.aiDisplay.splice(0,t.aiDisplay.length),t.aiDisplay=t.aiDisplayMaster.slice();else if(t.aiDisplay.length==t.aiDisplayMaster.length||o.sSearch.length>e.length||1==i||0!==e.indexOf(o.sSearch))for(t.aiDisplay.splice(0,t.aiDisplay.length),ja(t,1),e=0;e<t.aiDisplayMaster.length;e++)n.test(t.asDataSearch[e])&&t.aiDisplay.push(t.aiDisplayMaster[e]);else for(e=i=0;e<t.asDataSearch.length;e++)n.test(t.asDataSearch[e])||(t.aiDisplay.splice(e-i,1),i++)}function ja(t,e){if(!t.oFeatures.bServerSide){t.asDataSearch.splice(0,t.asDataSearch.length);for(var i=e&&1===e?t.aiDisplayMaster:t.aiDisplay,n=0,o=i.length;o>n;n++)t.asDataSearch[n]=ma(t,X(t,i[n],"filter"))}}function ma(t,e){var i="";t.__nTmpFilter===n&&(t.__nTmpFilter=l.createElement("div"));for(var o=t.__nTmpFilter,s=0,r=t.aoColumns.length;r>s;s++)t.aoColumns[s].bSearchable&&(i+=la(e[s],t.aoColumns[s].sType)+"  ");return-1!==i.indexOf("&")&&(o.innerHTML=i,i=o.textContent?o.textContent:o.innerText,i=i.replace(/\n/g," ").replace(/\r/g,"")),i}function ka(t,e,i,n){return i?(t=e?t.split(" "):na(t).split(" "),t="^(?=.*?"+t.join(")(?=.*?")+").*$",RegExp(t,n?"i":"")):(t=e?t:na(t),RegExp(t,n?"i":""))}function la(t,e){return"function"==typeof j.ext.ofnSearch[e]?j.ext.ofnSearch[e](t):null===t?"":"html"==e?t.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof t?t.replace(/[\r\n]/g," "):t}function na(t){return t.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function Ca(t){var e=l.createElement("div");return e.className=t.oClasses.sInfo,t.aanFeatures.i||(t.aoDrawCallback.push({fn:Ja,sName:"information"}),e.id=t.sTableId+"_info"),t.nTable.setAttribute("aria-describedby",t.sTableId+"_info"),e}function Ja(t){if(t.oFeatures.bInfo&&0!==t.aanFeatures.i.length){var e,n=t.oLanguage,o=t._iDisplayStart+1,s=t.fnDisplayEnd(),r=t.fnRecordsTotal(),a=t.fnRecordsDisplay();for(e=0===a&&a==r?n.sInfoEmpty:0===a?n.sInfoEmpty+" "+n.sInfoFiltered:a==r?n.sInfo:n.sInfo+" "+n.sInfoFiltered,e+=n.sInfoPostFix,e=ha(t,e),null!==n.fnInfoCallback&&(e=n.fnInfoCallback.call(t.oInstance,t,o,s,r,a,e)),t=t.aanFeatures.i,n=0,o=t.length;o>n;n++)i(t[n]).html(e)}}function ha(t,e){var i=t.fnFormatNumber(t._iDisplayStart+1),n=t.fnDisplayEnd(),n=t.fnFormatNumber(n),o=t.fnRecordsDisplay(),o=t.fnFormatNumber(o),s=t.fnRecordsTotal(),s=t.fnFormatNumber(s);return t.oScroll.bInfinite&&(i=t.fnFormatNumber(1)),e.replace("_START_",i).replace("_END_",n).replace("_TOTAL_",o).replace("_MAX_",s)}function aa(t){var e,i,n=t.iInitDisplayStart;if(!1===t.bInitialised)setTimeout(function(){aa(t)},200);else{for(xa(t),va(t),U(t,t.aoHeader),t.nTFoot&&U(t,t.aoFooter),F(t,!0),t.oFeatures.bAutoWidth&&ba(t),e=0,i=t.aoColumns.length;i>e;e++)null!==t.aoColumns[e].sWidth&&(t.aoColumns[e].nTh.style.width=q(t.aoColumns[e].sWidth));t.oFeatures.bSort?P(t):t.oFeatures.bFilter?M(t,t.oPreviousSearch):(t.aiDisplay=t.aiDisplayMaster.slice(),A(t),y(t)),null===t.sAjaxSource||t.oFeatures.bServerSide?t.oFeatures.bServerSide||(F(t,!1),Z(t)):(i=[],ia(t,i),t.fnServerData.call(t.oInstance,t.sAjaxSource,i,function(i){var o=""!==t.sAjaxDataProp?W(t.sAjaxDataProp)(i):i;for(e=0;e<o.length;e++)H(t,o[e]);t.iInitDisplayStart=n,t.oFeatures.bSort?P(t):(t.aiDisplay=t.aiDisplayMaster.slice(),A(t),y(t)),F(t,!1),Z(t,i)},t))}}function Z(t,e){t._bInitComplete=!0,C(t,"aoInitComplete","init",[t,e])}function oa(t){var e=j.defaults.oLanguage;!t.sEmptyTable&&t.sZeroRecords&&"No data available in table"===e.sEmptyTable&&p(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&t.sZeroRecords&&"Loading..."===e.sLoadingRecords&&p(t,t,"sZeroRecords","sLoadingRecords")}function ya(t){if(t.oScroll.bInfinite)return null;var e,n,o='<select size="1" '+('name="'+t.sTableId+'_length"')+">",s=t.aLengthMenu;if(2==s.length&&"object"==typeof s[0]&&"object"==typeof s[1])for(e=0,n=s[0].length;n>e;e++)o+='<option value="'+s[0][e]+'">'+s[1][e]+"</option>";else for(e=0,n=s.length;n>e;e++)o+='<option value="'+s[e]+'">'+s[e]+"</option>";return o+="</select>",s=l.createElement("div"),t.aanFeatures.l||(s.id=t.sTableId+"_length"),s.className=t.oClasses.sLength,s.innerHTML="<label>"+t.oLanguage.sLengthMenu.replace("_MENU_",o)+"</label>",i('select option[value="'+t._iDisplayLength+'"]',s).attr("selected",!0),i("select",s).bind("change.DT",function(){var o=i(this).val(),s=t.aanFeatures.l;for(e=0,n=s.length;n>e;e++)s[e]!=this.parentNode&&i("select",s[e]).val(o);t._iDisplayLength=parseInt(o,10),A(t),t.fnDisplayEnd()==t.fnRecordsDisplay()&&(t._iDisplayStart=t.fnDisplayEnd()-t._iDisplayLength,t._iDisplayStart<0&&(t._iDisplayStart=0)),-1==t._iDisplayLength&&(t._iDisplayStart=0),y(t)}),i("select",s).attr("aria-controls",t.sTableId),s}function A(t){t._iDisplayEnd=!1===t.oFeatures.bPaginate?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength>t.aiDisplay.length||-1==t._iDisplayLength?t.aiDisplay.length:t._iDisplayStart+t._iDisplayLength}function Da(t){if(t.oScroll.bInfinite)return null;var e=l.createElement("div");return e.className=t.oClasses.sPaging+t.sPaginationType,j.ext.oPagination[t.sPaginationType].fnInit(t,e,function(t){A(t),y(t)}),t.aanFeatures.p||t.aoDrawCallback.push({fn:function(t){j.ext.oPagination[t.sPaginationType].fnUpdate(t,function(t){A(t),y(t)})},sName:"pagination"}),e}function pa(t,e){var n=t._iDisplayStart;if("number"==typeof e)t._iDisplayStart=e*t._iDisplayLength,t._iDisplayStart>t.fnRecordsDisplay()&&(t._iDisplayStart=0);else if("first"==e)t._iDisplayStart=0;else if("previous"==e)t._iDisplayStart=0<=t._iDisplayLength?t._iDisplayStart-t._iDisplayLength:0,0>t._iDisplayStart&&(t._iDisplayStart=0);else if("next"==e)0<=t._iDisplayLength?t._iDisplayStart+t._iDisplayLength<t.fnRecordsDisplay()&&(t._iDisplayStart+=t._iDisplayLength):t._iDisplayStart=0;else if("last"==e)if(0<=t._iDisplayLength){var o=parseInt((t.fnRecordsDisplay()-1)/t._iDisplayLength,10)+1;t._iDisplayStart=(o-1)*t._iDisplayLength}else t._iDisplayStart=0;else E(t,0,"Unknown paging action: "+e);return i(t.oInstance).trigger("page",t),n!=t._iDisplayStart}function Aa(t){var e=l.createElement("div");return t.aanFeatures.r||(e.id=t.sTableId+"_processing"),e.innerHTML=t.oLanguage.sProcessing,e.className=t.oClasses.sProcessing,t.nTable.parentNode.insertBefore(e,t.nTable),e}function F(t,e){if(t.oFeatures.bProcessing)for(var n=t.aanFeatures.r,o=0,s=n.length;s>o;o++)n[o].style.visibility=e?"visible":"hidden";i(t.oInstance).trigger("processing",[t,e])}function Ba(t){if(""===t.oScroll.sX&&""===t.oScroll.sY)return t.nTable;var e=l.createElement("div"),n=l.createElement("div"),o=l.createElement("div"),s=l.createElement("div"),r=l.createElement("div"),a=l.createElement("div"),u=t.nTable.cloneNode(!1),c=t.nTable.cloneNode(!1),h=t.nTable.getElementsByTagName("thead")[0],d=0===t.nTable.getElementsByTagName("tfoot").length?null:t.nTable.getElementsByTagName("tfoot")[0],p=t.oClasses;return n.appendChild(o),r.appendChild(a),s.appendChild(t.nTable),e.appendChild(n),e.appendChild(s),o.appendChild(u),u.appendChild(h),null!==d&&(e.appendChild(r),a.appendChild(c),c.appendChild(d)),e.className=p.sScrollWrapper,n.className=p.sScrollHead,o.className=p.sScrollHeadInner,s.className=p.sScrollBody,r.className=p.sScrollFoot,a.className=p.sScrollFootInner,t.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",r.style.overflow="hidden",s.style.overflow="auto"),n.style.border="0",n.style.width="100%",r.style.border="0",o.style.width=""!==t.oScroll.sXInner?t.oScroll.sXInner:"100%",u.removeAttribute("id"),u.style.marginLeft="0",t.nTable.style.marginLeft="0",null!==d&&(c.removeAttribute("id"),c.style.marginLeft="0"),o=i(t.nTable).children("caption"),0<o.length&&(o=o[0],"top"===o._captionSide?u.appendChild(o):"bottom"===o._captionSide&&d&&c.appendChild(o)),""!==t.oScroll.sX&&(n.style.width=q(t.oScroll.sX),s.style.width=q(t.oScroll.sX),null!==d&&(r.style.width=q(t.oScroll.sX)),i(s).scroll(function(){n.scrollLeft=this.scrollLeft,null!==d&&(r.scrollLeft=this.scrollLeft)})),""!==t.oScroll.sY&&(s.style.height=q(t.oScroll.sY)),t.aoDrawCallback.push({fn:Ka,sName:"scrolling"}),t.oScroll.bInfinite&&i(s).scroll(function(){!t.bDrawing&&0!==i(this).scrollTop()&&i(this).scrollTop()+i(this).height()>i(t.nTable).height()-t.oScroll.iLoadGap&&t.fnDisplayEnd()<t.fnRecordsDisplay()&&(pa(t,"next"),A(t),y(t))}),t.nScrollHead=n,t.nScrollFoot=r,e}function Ka(t){var e,n,o,s,r,a,l,u,c=t.nScrollHead.getElementsByTagName("div")[0],h=c.getElementsByTagName("table")[0],d=t.nTable.parentNode,p=[],f=null!==t.nTFoot?t.nScrollFoot.getElementsByTagName("div")[0]:null,m=null!==t.nTFoot?f.getElementsByTagName("table")[0]:null,g=i.browser.msie&&7>=i.browser.version;i(t.nTable).children("thead, tfoot").remove(),o=i(t.nTHead).clone()[0],t.nTable.insertBefore(o,t.nTable.childNodes[0]),null!==t.nTFoot&&(r=i(t.nTFoot).clone()[0],t.nTable.insertBefore(r,t.nTable.childNodes[1])),""===t.oScroll.sX&&(d.style.width="100%",c.parentNode.style.width="100%");var _=O(t,o);for(e=0,n=_.length;n>e;e++)l=G(t,e),_[e].style.width=t.aoColumns[l].sWidth;null!==t.nTFoot&&N(function(t){t.style.width=""},r.getElementsByTagName("tr")),t.oScroll.bCollapse&&""!==t.oScroll.sY&&(d.style.height=d.offsetHeight+t.nTHead.offsetHeight+"px"),e=i(t.nTable).outerWidth(),""===t.oScroll.sX?(t.nTable.style.width="100%",g&&(i("tbody",d).height()>d.offsetHeight||"scroll"==i(d).css("overflow-y"))&&(t.nTable.style.width=q(i(t.nTable).outerWidth()-t.oScroll.iBarWidth))):""!==t.oScroll.sXInner?t.nTable.style.width=q(t.oScroll.sXInner):e==i(d).width()&&i(d).height()<i(t.nTable).height()?(t.nTable.style.width=q(e-t.oScroll.iBarWidth),i(t.nTable).outerWidth()>e-t.oScroll.iBarWidth&&(t.nTable.style.width=q(e))):t.nTable.style.width=q(e),e=i(t.nTable).outerWidth(),n=t.nTHead.getElementsByTagName("tr"),o=o.getElementsByTagName("tr"),N(function(t,e){a=t.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0,u=i(t).width(),e.style.width=q(u),p.push(u)},o,n),i(o).height(0),null!==t.nTFoot&&(s=r.getElementsByTagName("tr"),r=t.nTFoot.getElementsByTagName("tr"),N(function(t,e){a=t.style,a.paddingTop="0",a.paddingBottom="0",a.borderTopWidth="0",a.borderBottomWidth="0",a.height=0,u=i(t).width(),e.style.width=q(u),p.push(u)},s,r),i(s).height(0)),N(function(t){t.innerHTML="",t.style.width=q(p.shift())},o),null!==t.nTFoot&&N(function(t){t.innerHTML="",t.style.width=q(p.shift())},s),i(t.nTable).outerWidth()<e?(s=d.scrollHeight>d.offsetHeight||"scroll"==i(d).css("overflow-y")?e+t.oScroll.iBarWidth:e,g&&(d.scrollHeight>d.offsetHeight||"scroll"==i(d).css("overflow-y"))&&(t.nTable.style.width=q(s-t.oScroll.iBarWidth)),d.style.width=q(s),c.parentNode.style.width=q(s),null!==t.nTFoot&&(f.parentNode.style.width=q(s)),""===t.oScroll.sX?E(t,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==t.oScroll.sXInner&&E(t,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(d.style.width=q("100%"),c.parentNode.style.width=q("100%"),null!==t.nTFoot&&(f.parentNode.style.width=q("100%"))),""===t.oScroll.sY&&g&&(d.style.height=q(t.nTable.offsetHeight+t.oScroll.iBarWidth)),""!==t.oScroll.sY&&t.oScroll.bCollapse&&(d.style.height=q(t.oScroll.sY),g=""!==t.oScroll.sX&&t.nTable.offsetWidth>d.offsetWidth?t.oScroll.iBarWidth:0,t.nTable.offsetHeight<d.offsetHeight&&(d.style.height=q(t.nTable.offsetHeight+g))),g=i(t.nTable).outerWidth(),h.style.width=q(g),c.style.width=q(g),h=i(t.nTable).height()>d.clientHeight||"scroll"==i(d).css("overflow-y"),c.style.paddingRight=h?t.oScroll.iBarWidth+"px":"0px",null!==t.nTFoot&&(m.style.width=q(g),f.style.width=q(g),f.style.paddingRight=h?t.oScroll.iBarWidth+"px":"0px"),i(d).scroll(),(t.bSorted||t.bFiltered)&&(d.scrollTop=0)}function N(t,e,i){for(var n=0,o=e.length;o>n;n++)for(var s=0,r=e[n].childNodes.length;r>s;s++)1==e[n].childNodes[s].nodeType&&(i?t(e[n].childNodes[s],i[n].childNodes[s]):t(e[n].childNodes[s]))}function La(t,e){if(!t||null===t||""===t)return 0;e||(e=l.getElementsByTagName("body")[0]);var i,n=l.createElement("div");return n.style.width=q(t),e.appendChild(n),i=n.offsetWidth,e.removeChild(n),i}function ba(t){var e,n,o=0,s=0,r=t.aoColumns.length,a=i("th",t.nTHead),u=t.nTable.getAttribute("width");for(n=0;r>n;n++)t.aoColumns[n].bVisible&&(s++,null!==t.aoColumns[n].sWidth&&(e=La(t.aoColumns[n].sWidthOrig,t.nTable.parentNode),null!==e&&(t.aoColumns[n].sWidth=q(e)),o++));if(r==a.length&&0===o&&s==r&&""===t.oScroll.sX&&""===t.oScroll.sY)for(n=0;n<t.aoColumns.length;n++)e=i(a[n]).width(),null!==e&&(t.aoColumns[n].sWidth=q(e));else{for(o=t.nTable.cloneNode(!1),n=t.nTHead.cloneNode(!0),s=l.createElement("tbody"),e=l.createElement("tr"),o.removeAttribute("id"),o.appendChild(n),null!==t.nTFoot&&(o.appendChild(t.nTFoot.cloneNode(!0)),N(function(t){t.style.width=""},o.getElementsByTagName("tr"))),o.appendChild(s),s.appendChild(e),s=i("thead th",o),0===s.length&&(s=i("tbody tr:eq(0)>td",o)),a=O(t,n),n=s=0;r>n;n++){var c=t.aoColumns[n];c.bVisible&&null!==c.sWidthOrig&&""!==c.sWidthOrig?a[n-s].style.width=q(c.sWidthOrig):c.bVisible?a[n-s].style.width="":s++}for(n=0;r>n;n++)t.aoColumns[n].bVisible&&(s=Ma(t,n),null!==s&&(s=s.cloneNode(!0),""!==t.aoColumns[n].sContentPadding&&(s.innerHTML+=t.aoColumns[n].sContentPadding),e.appendChild(s)));if(r=t.nTable.parentNode,r.appendChild(o),""!==t.oScroll.sX&&""!==t.oScroll.sXInner?o.style.width=q(t.oScroll.sXInner):""!==t.oScroll.sX?(o.style.width="",i(o).width()<r.offsetWidth&&(o.style.width=q(r.offsetWidth))):""!==t.oScroll.sY?o.style.width=q(r.offsetWidth):u&&(o.style.width=q(u)),o.style.visibility="hidden",Na(t,o),r=i("tbody tr:eq(0)",o).children(),0===r.length&&(r=O(t,i("thead",o)[0])),""!==t.oScroll.sX){for(n=s=e=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(e=null===t.aoColumns[n].sWidthOrig?e+i(r[s]).outerWidth():e+(parseInt(t.aoColumns[n].sWidth.replace("px",""),10)+(i(r[s]).outerWidth()-i(r[s]).width())),s++);o.style.width=q(e),t.nTable.style.width=q(e)}for(n=s=0;n<t.aoColumns.length;n++)t.aoColumns[n].bVisible&&(e=i(r[s]).width(),null!==e&&e>0&&(t.aoColumns[n].sWidth=q(e)),s++);r=i(o).css("width"),t.nTable.style.width=-1!==r.indexOf("%")?r:q(i(o).outerWidth()),o.parentNode.removeChild(o)}u&&(t.nTable.style.width=q(u))}function Na(t,e){""===t.oScroll.sX&&""!==t.oScroll.sY?(i(e).width(),e.style.width=q(i(e).outerWidth()-t.oScroll.iBarWidth)):""!==t.oScroll.sX&&(e.style.width=q(i(e).outerWidth()))}function Ma(t,e){var i=Oa(t,e);if(0>i)return null;if(null===t.aoData[i].nTr){var n=l.createElement("td");return n.innerHTML=w(t,i,e,""),n}return L(t,i)[e]}function Oa(t,e){for(var i=-1,n=-1,o=0;o<t.aoData.length;o++){var s=w(t,o,e,"display")+"",s=s.replace(/<.*?>/g,"");s.length>i&&(i=s.length,n=o)}return n}function q(t){if(null===t)return"0px";if("number"==typeof t)return 0>t?"0px":t+"px";var e=t.charCodeAt(t.length-1);return 48>e||e>57?t:t+"px"}function Pa(){var t=l.createElement("p"),e=t.style;e.width="100%",e.height="200px",e.padding="0px";var i=l.createElement("div"),e=i.style;return e.position="absolute",e.top="0px",e.left="0px",e.visibility="hidden",e.width="200px",e.height="150px",e.padding="0px",e.overflow="hidden",i.appendChild(t),l.body.appendChild(i),e=t.offsetWidth,i.style.overflow="scroll",
t=t.offsetWidth,e==t&&(t=i.clientWidth),l.body.removeChild(i),e-t}function P(e,o){var s,r,a,l,u,c,h=[],d=[],p=j.ext.oSort,f=e.aoData,m=e.aoColumns,g=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(0!==e.aaSorting.length||null!==e.aaSortingFixed)){for(h=null!==e.aaSortingFixed?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice(),s=0;s<h.length;s++)if(r=h[s][0],a=t(e,r),l=e.aoColumns[r].sSortDataType,j.ext.afnSortData[l])if(u=j.ext.afnSortData[l].call(e.oInstance,e,r,a),u.length===f.length)for(a=0,l=f.length;l>a;a++)I(e,a,r,u[a]);else E(e,0,"Returned data sort array (col "+r+") is the wrong length");for(s=0,r=e.aiDisplayMaster.length;r>s;s++)d[e.aiDisplayMaster[s]]=s;var _,v=h.length;for(s=0,r=f.length;r>s;s++)for(a=0;v>a;a++)for(_=m[h[a][0]].aDataSort,u=0,c=_.length;c>u;u++)l=m[_[u]].sType,l=p[(l?l:"string")+"-pre"],f[s]._aSortData[_[u]]=l?l(w(e,s,_[u],"sort")):w(e,s,_[u],"sort");e.aiDisplayMaster.sort(function(t,e){var i,n,o,s,r;for(i=0;v>i;i++)for(r=m[h[i][0]].aDataSort,n=0,o=r.length;o>n;n++)if(s=m[r[n]].sType,s=p[(s?s:"string")+"-"+h[i][1]](f[t]._aSortData[r[n]],f[e]._aSortData[r[n]]),0!==s)return s;return p["numeric-asc"](d[t],d[e])})}for((o===n||o)&&!e.oFeatures.bDeferRender&&Q(e),s=0,r=e.aoColumns.length;r>s;s++)l=m[s].sTitle.replace(/<.*?>/g,""),a=m[s].nTh,a.removeAttribute("aria-sort"),a.removeAttribute("aria-label"),m[s].bSortable?0<h.length&&h[0][0]==s?(a.setAttribute("aria-sort","asc"==h[0][1]?"ascending":"descending"),a.setAttribute("aria-label",l+("asc"==(m[s].asSorting[h[0][2]+1]?m[s].asSorting[h[0][2]+1]:m[s].asSorting[0])?g.sSortAscending:g.sSortDescending))):a.setAttribute("aria-label",l+("asc"==m[s].asSorting[0]?g.sSortAscending:g.sSortDescending)):a.setAttribute("aria-label",l);e.bSorted=!0,i(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?M(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,A(e),y(e))}function ga(t,e,i,n){Qa(e,{},function(e){if(!1!==t.aoColumns[i].bSortable){var o=function(){var n,o;if(e.shiftKey){for(var s=!1,r=0;r<t.aaSorting.length;r++)if(t.aaSorting[r][0]==i){s=!0,n=t.aaSorting[r][0],o=t.aaSorting[r][2]+1,t.aoColumns[n].asSorting[o]?(t.aaSorting[r][1]=t.aoColumns[n].asSorting[o],t.aaSorting[r][2]=o):t.aaSorting.splice(r,1);break}!1===s&&t.aaSorting.push([i,t.aoColumns[i].asSorting[0],0])}else 1==t.aaSorting.length&&t.aaSorting[0][0]==i?(n=t.aaSorting[0][0],o=t.aaSorting[0][2]+1,t.aoColumns[n].asSorting[o]||(o=0),t.aaSorting[0][1]=t.aoColumns[n].asSorting[o],t.aaSorting[0][2]=o):(t.aaSorting.splice(0,t.aaSorting.length),t.aaSorting.push([i,t.aoColumns[i].asSorting[0],0]));P(t)};t.oFeatures.bProcessing?(F(t,!0),setTimeout(function(){o(),t.oFeatures.bServerSide||F(t,!1)},0)):o(),"function"==typeof n&&n(t)}})}function Q(t){var e,n,o,s,r,a=t.aoColumns.length,l=t.oClasses;for(e=0;a>e;e++)t.aoColumns[e].bSortable&&i(t.aoColumns[e].nTh).removeClass(l.sSortAsc+" "+l.sSortDesc+" "+t.aoColumns[e].sSortingClass);for(s=null!==t.aaSortingFixed?t.aaSortingFixed.concat(t.aaSorting):t.aaSorting.slice(),e=0;e<t.aoColumns.length;e++)if(t.aoColumns[e].bSortable){for(r=t.aoColumns[e].sSortingClass,o=-1,n=0;n<s.length;n++)if(s[n][0]==e){r="asc"==s[n][1]?l.sSortAsc:l.sSortDesc,o=n;break}i(t.aoColumns[e].nTh).addClass(r),t.bJUI&&(n=i("span."+l.sSortIcon,t.aoColumns[e].nTh),n.removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed),n.addClass(-1==o?t.aoColumns[e].sSortingClassJUI:"asc"==s[o][1]?l.sSortJUIAsc:l.sSortJUIDesc))}else i(t.aoColumns[e].nTh).addClass(t.aoColumns[e].sSortingClass);if(r=l.sSortColumn,t.oFeatures.bSort&&t.oFeatures.bSortClasses){if(o=L(t),t.oFeatures.bDeferRender)i(o).removeClass(r+"1 "+r+"2 "+r+"3");else if(o.length>=a)for(e=0;a>e;e++)if(-1!=o[e].className.indexOf(r+"1"))for(n=0,t=o.length/a;t>n;n++)o[a*n+e].className=i.trim(o[a*n+e].className.replace(r+"1",""));else if(-1!=o[e].className.indexOf(r+"2"))for(n=0,t=o.length/a;t>n;n++)o[a*n+e].className=i.trim(o[a*n+e].className.replace(r+"2",""));else if(-1!=o[e].className.indexOf(r+"3"))for(n=0,t=o.length/a;t>n;n++)o[a*n+e].className=i.trim(o[a*n+e].className.replace(" "+r+"3",""));var u,l=1;for(e=0;e<s.length;e++){for(u=parseInt(s[e][0],10),n=0,t=o.length/a;t>n;n++)o[a*n+u].className+=" "+r+l;3>l&&l++}}}function qa(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var e,n;e=t.oScroll.bInfinite;var o={iCreate:(new Date).getTime(),iStart:e?0:t._iDisplayStart,iEnd:e?t._iDisplayLength:t._iDisplayEnd,iLength:t._iDisplayLength,aaSorting:i.extend(!0,[],t.aaSorting),oSearch:i.extend(!0,{},t.oPreviousSearch),aoSearchCols:i.extend(!0,[],t.aoPreSearchCols),abVisCols:[]};for(e=0,n=t.aoColumns.length;n>e;e++)o.abVisCols.push(t.aoColumns[e].bVisible);C(t,"aoStateSaveParams","stateSaveParams",[t,o]),t.fnStateSave.call(t.oInstance,t,o)}}function Ra(t,e){if(t.oFeatures.bStateSave){var n=t.fnStateLoad.call(t.oInstance,t);if(n){var o=C(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===i.inArray(!1,o)){for(t.oLoadedState=i.extend(!0,{},n),t._iDisplayStart=n.iStart,t.iInitDisplayStart=n.iStart,t._iDisplayEnd=n.iEnd,t._iDisplayLength=n.iLength,t.aaSorting=n.aaSorting.slice(),t.saved_aaSorting=n.aaSorting.slice(),i.extend(t.oPreviousSearch,n.oSearch),i.extend(!0,t.aoPreSearchCols,n.aoSearchCols),e.saved_aoColumns=[],o=0;o<n.abVisCols.length;o++)e.saved_aoColumns[o]={},e.saved_aoColumns[o].bVisible=n.abVisCols[o];C(t,"aoStateLoaded","stateLoaded",[t,n])}}}}function Sa(t){for(var e=V.location.pathname.split("/"),t=t+"_"+e[e.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",e=l.cookie.split(";"),i=0;i<e.length;i++){for(var n=e[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return decodeURIComponent(n.substring(t.length,n.length))}return null}function u(t){for(var e=0;e<j.settings.length;e++)if(j.settings[e].nTable===t)return j.settings[e];return null}function S(t){for(var e=[],t=t.aoData,i=0,n=t.length;n>i;i++)null!==t[i].nTr&&e.push(t[i].nTr);return e}function L(t,e){var i,o,s,r,a,l,u=[];o=0;var c=t.aoData.length;for(e!==n&&(o=e,c=e+1),s=o;c>s;s++)if(l=t.aoData[s],null!==l.nTr){for(o=[],r=0,a=l.nTr.childNodes.length;a>r;r++)i=l.nTr.childNodes[r].nodeName.toLowerCase(),("td"==i||"th"==i)&&o.push(l.nTr.childNodes[r]);for(r=i=0,a=t.aoColumns.length;a>r;r++)t.aoColumns[r].bVisible?u.push(o[r-i]):(u.push(l._anHidden[r]),i++)}return u}function E(t,e,i){if(t=null===t?"DataTables warning: "+i:"DataTables warning (table id = '"+t.sTableId+"'): "+i,0===e){if("alert"!=j.ext.sErrMode)throw Error(t);alert(t)}else V.console&&console.log&&console.log(t)}function p(t,e,i,o){o===n&&(o=i),e[i]!==n&&(t[o]=e[i])}function Ta(t,n){for(var o in n)n.hasOwnProperty(o)&&("object"==typeof e[o]&&!1===i.isArray(n[o])?i.extend(!0,t[o],n[o]):t[o]=n[o]);return t}function Qa(t,e,n){i(t).bind("click.DT",e,function(e){t.blur(),n(e)}).bind("keypress.DT",e,function(t){13===t.which&&n(t)}).bind("selectstart.DT",function(){return!1})}function B(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function C(t,e,n,o){for(var e=t[e],s=[],r=e.length-1;r>=0;r--)s.push(e[r].fn.apply(t.oInstance,o));return null!==n&&i(t.oInstance).trigger(n,o),s}function Ua(t){return function(){var e=[u(this[j.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return j.ext.oApi[t].apply(this,e)}}var Va=V.JSON?JSON.stringify:function(t){var e=typeof t;if("object"!==e||null===t)return"string"===e&&(t='"'+t+'"'),t+"";var n,o,s=[],r=i.isArray(t);for(n in t)o=t[n],e=typeof o,"string"===e?o='"'+o+'"':"object"===e&&null!==o&&(o=Va(o)),s.push((r?"":'"'+n+'":')+o);return(r?"[":"{")+s+(r?"]":"}")};this.$=function(t,e){var n,o,s,r=[];o=u(this[j.ext.iApiIndex]);var a=o.aoData,l=o.aiDisplay,c=o.aiDisplayMaster;if(e||(e={}),e=i.extend({},{filter:"none",order:"current",page:"all"},e),"current"==e.page)for(n=o._iDisplayStart,o=o.fnDisplayEnd();o>n;n++)(s=a[l[n]].nTr)&&r.push(s);else if("current"==e.order&&"none"==e.filter)for(n=0,o=c.length;o>n;n++)(s=a[c[n]].nTr)&&r.push(s);else if("current"==e.order&&"applied"==e.filter)for(n=0,o=l.length;o>n;n++)(s=a[l[n]].nTr)&&r.push(s);else if("original"==e.order&&"none"==e.filter)for(n=0,o=a.length;o>n;n++)(s=a[n].nTr)&&r.push(s);else if("original"==e.order&&"applied"==e.filter)for(n=0,o=a.length;o>n;n++)s=a[n].nTr,-1!==i.inArray(n,l)&&s&&r.push(s);else E(o,1,"Unknown selection options");return r=i(r),n=r.filter(t),r=r.find(t),i([].concat(i.makeArray(n),i.makeArray(r)))},this._=function(t,e){var i,n,o=[],s=this.$(t,e);for(i=0,n=s.length;n>i;i++)o.push(this.fnGetData(s[i]));return o},this.fnAddData=function(t,e){if(0===t.length)return[];var i,o=[],s=u(this[j.ext.iApiIndex]);if("object"==typeof t[0]&&null!==t[0])for(var r=0;r<t.length;r++){if(i=H(s,t[r]),-1==i)return o;o.push(i)}else{if(i=H(s,t),-1==i)return o;o.push(i)}return s.aiDisplay=s.aiDisplayMaster.slice(),(e===n||e)&&$(s),o},this.fnAdjustColumnSizing=function(t){var e=u(this[j.ext.iApiIndex]);k(e),t===n||t?this.fnDraw(!1):(""!==e.oScroll.sX||""!==e.oScroll.sY)&&this.oApi._fnScrollDraw(e)},this.fnClearTable=function(t){var e=u(this[j.ext.iApiIndex]);ea(e),(t===n||t)&&y(e)},this.fnClose=function(t){for(var e=u(this[j.ext.iApiIndex]),i=0;i<e.aoOpenRows.length;i++)if(e.aoOpenRows[i].nParent==t)return(t=e.aoOpenRows[i].nTr.parentNode)&&t.removeChild(e.aoOpenRows[i].nTr),e.aoOpenRows.splice(i,1),0;return 1},this.fnDeleteRow=function(t,e,o){var s,r,a=u(this[j.ext.iApiIndex]),t="object"==typeof t?K(a,t):t,l=a.aoData.splice(t,1);for(s=0,r=a.aoData.length;r>s;s++)null!==a.aoData[s].nTr&&(a.aoData[s].nTr._DT_RowIndex=s);return s=i.inArray(t,a.aiDisplay),a.asDataSearch.splice(s,1),fa(a.aiDisplayMaster,t),fa(a.aiDisplay,t),"function"==typeof e&&e.call(this,a,l),a._iDisplayStart>=a.fnRecordsDisplay()&&(a._iDisplayStart-=a._iDisplayLength,0>a._iDisplayStart&&(a._iDisplayStart=0)),(o===n||o)&&(A(a),y(a)),l},this.fnDestroy=function(t){var e,o,s=u(this[j.ext.iApiIndex]),r=s.nTableWrapper.parentNode,a=s.nTBody,t=t===n?!1:!0;for(s.bDestroying=!0,C(s,"aoDestroyCallback","destroy",[s]),e=0,o=s.aoColumns.length;o>e;e++)!1===s.aoColumns[e].bVisible&&this.fnSetColumnVis(e,!0);for(i(s.nTableWrapper).find("*").andSelf().unbind(".DT"),i("tbody>tr>td."+s.oClasses.sRowEmpty,s.nTable).parent().remove(),s.nTable!=s.nTHead.parentNode&&(i(s.nTable).children("thead").remove(),s.nTable.appendChild(s.nTHead)),s.nTFoot&&s.nTable!=s.nTFoot.parentNode&&(i(s.nTable).children("tfoot").remove(),s.nTable.appendChild(s.nTFoot)),s.nTable.parentNode.removeChild(s.nTable),i(s.nTableWrapper).remove(),s.aaSorting=[],s.aaSortingFixed=[],Q(s),i(S(s)).removeClass(s.asStripeClasses.join(" ")),i("th, td",s.nTHead).removeClass([s.oClasses.sSortable,s.oClasses.sSortableAsc,s.oClasses.sSortableDesc,s.oClasses.sSortableNone].join(" ")),s.bJUI&&(i("th span."+s.oClasses.sSortIcon+", td span."+s.oClasses.sSortIcon,s.nTHead).remove(),i("th, td",s.nTHead).each(function(){var t=i("div."+s.oClasses.sSortJUIWrapper,this),e=t.contents();i(this).append(e),t.remove()})),!t&&s.nTableReinsertBefore?r.insertBefore(s.nTable,s.nTableReinsertBefore):t||r.appendChild(s.nTable),e=0,o=s.aoData.length;o>e;e++)null!==s.aoData[e].nTr&&a.appendChild(s.aoData[e].nTr);for(!0===s.oFeatures.bAutoWidth&&(s.nTable.style.width=q(s.sDestroyWidth)),i(a).children("tr:even").addClass(s.asDestroyStripes[0]),i(a).children("tr:odd").addClass(s.asDestroyStripes[1]),e=0,o=j.settings.length;o>e;e++)j.settings[e]==s&&j.settings.splice(e,1);s=null},this.fnDraw=function(t){var e=u(this[j.ext.iApiIndex]);!1===t?(A(e),y(e)):$(e)},this.fnFilter=function(t,e,o,s,r,a){var l=u(this[j.ext.iApiIndex]);if(l.oFeatures.bFilter)if((o===n||null===o)&&(o=!1),(s===n||null===s)&&(s=!0),(r===n||null===r)&&(r=!0),(a===n||null===a)&&(a=!0),e===n||null===e){if(M(l,{sSearch:t+"",bRegex:o,bSmart:s,bCaseInsensitive:a},1),r&&l.aanFeatures.f)for(e=l.aanFeatures.f,o=0,s=e.length;s>o;o++)i(e[o]._DT_Input).val(t)}else i.extend(l.aoPreSearchCols[e],{sSearch:t+"",bRegex:o,bSmart:s,bCaseInsensitive:a}),M(l,l.oPreviousSearch,1)},this.fnGetData=function(t,e){var i=u(this[j.ext.iApiIndex]);if(t!==n){var o=t;if("object"==typeof t){var s=t.nodeName.toLowerCase();"tr"===s?o=K(i,t):"td"===s&&(o=K(i,t.parentNode),e=da(i,o,t))}return e!==n?w(i,o,e,""):i.aoData[o]!==n?i.aoData[o]._aData:null}return Y(i)},this.fnGetNodes=function(t){var e=u(this[j.ext.iApiIndex]);return t!==n?e.aoData[t]!==n?e.aoData[t].nTr:null:S(e)},this.fnGetPosition=function(e){var i=u(this[j.ext.iApiIndex]),n=e.nodeName.toUpperCase();return"TR"==n?K(i,e):"TD"==n||"TH"==n?(n=K(i,e.parentNode),e=da(i,n,e),[n,t(i,e),e]):null},this.fnIsOpen=function(t){for(var e=u(this[j.ext.iApiIndex]),i=0;i<e.aoOpenRows.length;i++)if(e.aoOpenRows[i].nParent==t)return!0;return!1},this.fnOpen=function(t,e,n){var o=u(this[j.ext.iApiIndex]),s=S(o);if(-1!==i.inArray(t,s)){this.fnClose(t);var s=l.createElement("tr"),r=l.createElement("td");return s.appendChild(r),r.className=n,r.colSpan=v(o),"string"==typeof e?r.innerHTML=e:i(r).html(e),e=i("tr",o.nTBody),-1!=i.inArray(t,e)&&i(s).insertAfter(t),o.aoOpenRows.push({nTr:s,nParent:t}),s}},this.fnPageChange=function(t,e){var i=u(this[j.ext.iApiIndex]);pa(i,t),A(i),(e===n||e)&&y(i)},this.fnSetColumnVis=function(t,e,i){var o,s,r,a,l=u(this[j.ext.iApiIndex]),c=l.aoColumns,h=l.aoData;if(c[t].bVisible!=e){if(e){for(o=s=0;t>o;o++)c[o].bVisible&&s++;if(a=s>=v(l),!a)for(o=t;o<c.length;o++)if(c[o].bVisible){r=o;break}for(o=0,s=h.length;s>o;o++)null!==h[o].nTr&&(a?h[o].nTr.appendChild(h[o]._anHidden[t]):h[o].nTr.insertBefore(h[o]._anHidden[t],L(l,o)[r]))}else for(o=0,s=h.length;s>o;o++)null!==h[o].nTr&&(r=L(l,o)[t],h[o]._anHidden[t]=r,r.parentNode.removeChild(r));for(c[t].bVisible=e,U(l,l.aoHeader),l.nTFoot&&U(l,l.aoFooter),o=0,s=l.aoOpenRows.length;s>o;o++)l.aoOpenRows[o].nTr.colSpan=v(l);(i===n||i)&&(k(l),y(l)),qa(l)}},this.fnSettings=function(){return u(this[j.ext.iApiIndex])},this.fnSort=function(t){var e=u(this[j.ext.iApiIndex]);e.aaSorting=t,P(e)},this.fnSortListener=function(t,e,i){ga(u(this[j.ext.iApiIndex]),t,e,i)},this.fnUpdate=function(t,e,o,s,r){var a=u(this[j.ext.iApiIndex]),e="object"==typeof e?K(a,e):e;if(a.__fnUpdateDeep===n&&i.isArray(t)&&"object"==typeof t){for(a.aoData[e]._aData=t.slice(),a.__fnUpdateDeep=!0,o=0;o<a.aoColumns.length;o++)this.fnUpdate(w(a,e,o),e,o,!1,!1);a.__fnUpdateDeep=n}else if(a.__fnUpdateDeep===n&&null!==t&&"object"==typeof t){for(a.aoData[e]._aData=i.extend(!0,{},t),a.__fnUpdateDeep=!0,o=0;o<a.aoColumns.length;o++)this.fnUpdate(w(a,e,o),e,o,!1,!1);a.__fnUpdateDeep=n}else{I(a,e,o,t);var t=w(a,e,o,"display"),l=a.aoColumns[o];null!==l.fnRender&&(t=R(a,e,o),l.bUseRendered&&I(a,e,o,t)),null!==a.aoData[e].nTr&&(L(a,e)[o].innerHTML=t)}return o=i.inArray(e,a.aiDisplay),a.asDataSearch[o]=ma(a,X(a,e,"filter")),(r===n||r)&&k(a),(s===n||s)&&$(a),0},this.fnVersionCheck=j.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:Ua,_fnInitialise:aa,_fnInitComplete:Z,_fnLanguageCompat:oa,_fnAddColumn:o,_fnColumnOptions:r,_fnAddData:H,_fnCreateTr:ca,_fnGatherData:ua,_fnBuildHead:va,_fnDrawHead:U,_fnDraw:y,_fnReDraw:$,_fnAjaxUpdate:wa,_fnAjaxParameters:Ea,_fnAjaxUpdateDraw:Fa,_fnServerParams:ia,_fnAddOptionsHtml:xa,_fnFeatureHtmlTable:Ba,_fnScrollDraw:Ka,_fnAdjustColumnSizing:k,_fnFeatureHtmlFilter:za,_fnFilterComplete:M,_fnFilterCustom:Ia,_fnFilterColumn:Ha,_fnFilter:Ga,_fnBuildSearchArray:ja,_fnBuildSearchRow:ma,_fnFilterCreateSearch:ka,_fnDataToSearch:la,_fnSort:P,_fnSortAttachListener:ga,_fnSortingClasses:Q,_fnFeatureHtmlPaginate:Da,_fnPageChange:pa,_fnFeatureHtmlInfo:Ca,_fnUpdateInfo:Ja,_fnFeatureHtmlLength:ya,_fnFeatureHtmlProcessing:Aa,_fnProcessingDisplay:F,_fnVisibleToColumnIndex:G,_fnColumnIndexToVisible:t,_fnNodeToDataIndex:K,_fnVisbleColumns:v,_fnCalculateEnd:A,_fnConvertToWidth:La,_fnCalculateColumnWidths:ba,_fnScrollingWidthAdjust:Na,_fnGetWidestNode:Ma,_fnGetMaxLenString:Oa,_fnStringToCss:q,_fnDetectType:z,_fnSettingsFromNode:u,_fnGetDataMaster:Y,_fnGetTrNodes:S,_fnGetTdNodes:L,_fnEscapeRegex:na,_fnDeleteIndex:fa,_fnReOrderIndex:D,_fnColumnOrdering:x,_fnLog:E,_fnClearTable:ea,_fnSaveState:qa,_fnLoadState:Ra,_fnCreateCookie:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+1e3*c);var c=V.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),h;if(null!==e?(h="function"==typeof i.parseJSON?i.parseJSON(b):eval("("+b+")"),b=e(a,h,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",e="",f=9999999999999,4096<(null!==Sa(a)?l.cookie.length:b.length+l.cookie.length)+10){for(var a=l.cookie.split(";"),o=0,j=a.length;j>o;o++)if(-1!=a[o].indexOf(d)){var k=a[o].split("=");try{h=eval("("+decodeURIComponent(k[1])+")")}catch(r){continue}h.iCreate&&h.iCreate<f&&(e=k[0],f=h.iCreate)}""!==e&&(l.cookie=e+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/")}l.cookie=b},_fnReadCookie:Sa,_fnDetectHeader:T,_fnGetUniqueThs:O,_fnScrollBarWidth:Pa,_fnApplyToChildren:N,_fnMap:p,_fnGetRowData:X,_fnGetCellData:w,_fnSetCellData:I,_fnGetObjectDataFn:W,_fnSetObjectDataFn:ta,_fnApplyColumnDefs:J,_fnBindAction:Qa,_fnExtend:Ta,_fnCallbackReg:B,_fnCallbackFire:C,_fnJsonString:Va,_fnRender:R,_fnNodeToColumnIndex:da,_fnInfoMacros:ha},i.extend(j.ext.oApi,this.oApi);for(var ra in j.ext.oApi)ra&&(this[ra]=Ua(ra));var sa=this;return this.each(function(){var t,s,a,u=0;s=this.getAttribute("id");var c=!1,h=!1;if("table"!=this.nodeName.toLowerCase())E(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(u=0,t=j.settings.length;t>u;u++){if(j.settings[u].nTable==this){if(e===n||e.bRetrieve)return j.settings[u].oInstance;if(e.bDestroy){j.settings[u].oInstance.fnDestroy();break}return void E(j.settings[u],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy")}if(j.settings[u].sTableId==this.id){j.settings.splice(u,1);break}}(null===s||""===s)&&(this.id=s="DataTables_Table_"+j.ext._oExternConfig.iNextUnique++);var d=i.extend(!0,{},j.models.oSettings,{nTable:this,oApi:sa.oApi,oInit:e,sDestroyWidth:i(this).width(),sInstance:s,sTableId:s});for(j.settings.push(d),d.oInstance=1===sa.length?sa:i(this).dataTable(),e||(e={}),e.oLanguage&&oa(e.oLanguage),e=Ta(i.extend(!0,{},j.defaults),e),p(d.oFeatures,e,"bPaginate"),p(d.oFeatures,e,"bLengthChange"),p(d.oFeatures,e,"bFilter"),p(d.oFeatures,e,"bSort"),p(d.oFeatures,e,"bInfo"),p(d.oFeatures,e,"bProcessing"),p(d.oFeatures,e,"bAutoWidth"),p(d.oFeatures,e,"bSortClasses"),p(d.oFeatures,e,"bServerSide"),p(d.oFeatures,e,"bDeferRender"),p(d.oScroll,e,"sScrollX","sX"),p(d.oScroll,e,"sScrollXInner","sXInner"),p(d.oScroll,e,"sScrollY","sY"),p(d.oScroll,e,"bScrollCollapse","bCollapse"),p(d.oScroll,e,"bScrollInfinite","bInfinite"),p(d.oScroll,e,"iScrollLoadGap","iLoadGap"),p(d.oScroll,e,"bScrollAutoCss","bAutoCss"),p(d,e,"asStripeClasses"),p(d,e,"asStripClasses","asStripeClasses"),p(d,e,"fnServerData"),p(d,e,"fnFormatNumber"),p(d,e,"sServerMethod"),p(d,e,"aaSorting"),p(d,e,"aaSortingFixed"),p(d,e,"aLengthMenu"),p(d,e,"sPaginationType"),p(d,e,"sAjaxSource"),p(d,e,"sAjaxDataProp"),p(d,e,"iCookieDuration"),p(d,e,"sCookiePrefix"),p(d,e,"sDom"),p(d,e,"bSortCellsTop"),p(d,e,"iTabIndex"),p(d,e,"oSearch","oPreviousSearch"),p(d,e,"aoSearchCols","aoPreSearchCols"),p(d,e,"iDisplayLength","_iDisplayLength"),p(d,e,"bJQueryUI","bJUI"),p(d,e,"fnCookieCallback"),p(d,e,"fnStateLoad"),p(d,e,"fnStateSave"),p(d.oLanguage,e,"fnInfoCallback"),B(d,"aoDrawCallback",e.fnDrawCallback,"user"),B(d,"aoServerParams",e.fnServerParams,"user"),B(d,"aoStateSaveParams",e.fnStateSaveParams,"user"),B(d,"aoStateLoadParams",e.fnStateLoadParams,"user"),B(d,"aoStateLoaded",e.fnStateLoaded,"user"),B(d,"aoRowCallback",e.fnRowCallback,"user"),B(d,"aoRowCreatedCallback",e.fnCreatedRow,"user"),B(d,"aoHeaderCallback",e.fnHeaderCallback,"user"),B(d,"aoFooterCallback",e.fnFooterCallback,"user"),B(d,"aoInitComplete",e.fnInitComplete,"user"),B(d,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),d.oFeatures.bServerSide&&d.oFeatures.bSort&&d.oFeatures.bSortClasses?B(d,"aoDrawCallback",Q,"server_side_sort_classes"):d.oFeatures.bDeferRender&&B(d,"aoDrawCallback",Q,"defer_sort_classes"),e.bJQueryUI?(i.extend(d.oClasses,j.ext.oJUIClasses),e.sDom===j.defaults.sDom&&"lfrtip"===j.defaults.sDom&&(d.sDom='<"H"lfr>t<"F"ip>')):i.extend(d.oClasses,j.ext.oStdClasses),i(this).addClass(d.oClasses.sTable),(""!==d.oScroll.sX||""!==d.oScroll.sY)&&(d.oScroll.iBarWidth=Pa()),d.iInitDisplayStart===n&&(d.iInitDisplayStart=e.iDisplayStart,d._iDisplayStart=e.iDisplayStart),e.bStateSave&&(d.oFeatures.bStateSave=!0,Ra(d,e),B(d,"aoDrawCallback",qa,"state_save")),null!==e.iDeferLoading&&(d.bDeferLoading=!0,u=i.isArray(e.iDeferLoading),d._iRecordsDisplay=u?e.iDeferLoading[0]:e.iDeferLoading,d._iRecordsTotal=u?e.iDeferLoading[1]:e.iDeferLoading),null!==e.aaData&&(h=!0),""!==e.oLanguage.sUrl?(d.oLanguage.sUrl=e.oLanguage.sUrl,i.getJSON(d.oLanguage.sUrl,null,function(t){oa(t),i.extend(!0,d.oLanguage,e.oLanguage,t),aa(d)}),c=!0):i.extend(!0,d.oLanguage,e.oLanguage),null===e.asStripeClasses&&(d.asStripeClasses=[d.oClasses.sStripeOdd,d.oClasses.sStripeEven]),s=!1,a=i(this).children("tbody").children("tr"),u=0,t=d.asStripeClasses.length;t>u;u++)if(a.filter(":lt(2)").hasClass(d.asStripeClasses[u])){s=!0;break}if(s&&(d.asDestroyStripes=["",""],i(a[0]).hasClass(d.oClasses.sStripeOdd)&&(d.asDestroyStripes[0]+=d.oClasses.sStripeOdd+" "),i(a[0]).hasClass(d.oClasses.sStripeEven)&&(d.asDestroyStripes[0]+=d.oClasses.sStripeEven),i(a[1]).hasClass(d.oClasses.sStripeOdd)&&(d.asDestroyStripes[1]+=d.oClasses.sStripeOdd+" "),i(a[1]).hasClass(d.oClasses.sStripeEven)&&(d.asDestroyStripes[1]+=d.oClasses.sStripeEven),a.removeClass(d.asStripeClasses.join(" "))),s=[],u=this.getElementsByTagName("thead"),0!==u.length&&(T(d.aoHeader,u[0]),s=O(d)),null===e.aoColumns)for(a=[],u=0,t=s.length;t>u;u++)a.push(null);else a=e.aoColumns;for(u=0,t=a.length;t>u;u++)e.saved_aoColumns!==n&&e.saved_aoColumns.length==t&&(null===a[u]&&(a[u]={}),a[u].bVisible=e.saved_aoColumns[u].bVisible),o(d,s?s[u]:null);for(J(d,e.aoColumnDefs,a,function(t,e){r(d,t,e)}),u=0,t=d.aaSorting.length;t>u;u++){d.aaSorting[u][0]>=d.aoColumns.length&&(d.aaSorting[u][0]=0);var f=d.aoColumns[d.aaSorting[u][0]];for(d.aaSorting[u][2]===n&&(d.aaSorting[u][2]=0),e.aaSorting===n&&d.saved_aaSorting===n&&(d.aaSorting[u][1]=f.asSorting[0]),s=0,a=f.asSorting.length;a>s;s++)if(d.aaSorting[u][1]==f.asSorting[s]){d.aaSorting[u][2]=s;break}}if(Q(d),u=i(this).children("caption").each(function(){this._captionSide=i(this).css("caption-side")}),t=i(this).children("thead"),0===t.length&&(t=[l.createElement("thead")],this.appendChild(t[0])),d.nTHead=t[0],t=i(this).children("tbody"),0===t.length&&(t=[l.createElement("tbody")],this.appendChild(t[0])),d.nTBody=t[0],d.nTBody.setAttribute("role","alert"),d.nTBody.setAttribute("aria-live","polite"),d.nTBody.setAttribute("aria-relevant","all"),t=i(this).children("tfoot"),0===t.length&&0<u.length&&(""!==d.oScroll.sX||""!==d.oScroll.sY)&&(t=[l.createElement("tfoot")],this.appendChild(t[0])),0<t.length&&(d.nTFoot=t[0],T(d.aoFooter,d.nTFoot)),h)for(u=0;u<e.aaData.length;u++)H(d,e.aaData[u]);else ua(d);d.aiDisplay=d.aiDisplayMaster.slice(),d.bInitialised=!0,!1===c&&aa(d)}})};j.fnVersionCheck=function(t){for(var e=function(t,e){for(;t.length<e;)t+="0";return t},i=j.ext.sVersion.split("."),t=t.split("."),n="",o="",s=0,r=t.length;r>s;s++)n+=e(i[s],3),o+=e(t[s],3);return parseInt(n,10)>=parseInt(o,10)},j.fnIsDataTable=function(t){for(var e=j.settings,i=0;i<e.length;i++)if(e[i].nTable===t||e[i].nScrollHead===t||e[i].nScrollFoot===t)return!0;return!1},j.fnTables=function(t){var e=[];return jQuery.each(j.settings,function(n,o){(!t||!0===t&&i(o.nTable).is(":visible"))&&e.push(o.nTable)}),e},j.version="1.9.2",j.settings=[],j.models={},j.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:j.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:j.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},j.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},j.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},j.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mDataProp:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},j.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){if(1e3>t)return t;for(var e=t+"",t=e.split(""),i="",e=e.length,n=0;e>n;n++)0===n%3&&0!==n&&(i=this.oLanguage.sInfoThousands+i),i=t[e-n-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(t,e,n,o){o.jqXHR=i.ajax({url:t,data:e,success:function(t){i(o.oInstance).trigger("xhr",o),n(t)},dataType:"json",cache:!1,type:o.sServerMethod,error:function(t,e){"parsererror"==e&&o.oApi._fnLog(o,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof i.parseJSON?i.parseJSON(e):eval("("+e+")")}catch(n){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(t,e){this.oApi._fnCreateCookie(t.sCookiePrefix+t.sInstance,this.oApi._fnJsonString(e),t.iCookieDuration,t.sCookiePrefix,t.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:gon.vars.first,sLast:gon.vars.last,sNext:gon.vars.next,sPrevious:gon.vars.previous},sEmptyTable:gon.vars.no_data,sInfo:gon.vars.showing+" _START_ "+gon.vars.to+" _END_ "+gon.vars.of+" _TOTAL_ "+gon.vars.entries,sInfoEmpty:gon.vars.showing+" 0 "+gon.vars.to+" 0 "+gon.vars.of+" 0 "+gon.vars.entries,sInfoFiltered:"("+gon.vars.filtered_from+" _MAX_ "+gon.vars.total_entries+")",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:gon.vars.search,sUrl:"",sZeroRecords:"No matching records found"},oSearch:i.extend({},j.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},j.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mDataProp:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},j.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},j.ext=i.extend(!0,{},j.models.ext),i.extend(j.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),i.extend(j.ext.oJUIClasses,j.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),i.extend(j.ext.oPagination,{two_button:{fnInit:function(t,e,n){var o=t.oLanguage.oPaginate,s=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)},o=t.bJUI?'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUIPrev+'"></span></a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button"><span class="'+t.oClasses.sPageJUINext+'"></span></a>':'<a class="'+t.oClasses.sPagePrevDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+o.sPrevious+'</a><a class="'+t.oClasses.sPageNextDisabled+'" tabindex="'+t.iTabIndex+'" role="button">'+o.sNext+"</a>";
i(e).append(o);var r=i("a",e),o=r[0],r=r[1];t.oApi._fnBindAction(o,{action:"previous"},s),t.oApi._fnBindAction(r,{action:"next"},s),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",o.id=t.sTableId+"_previous",r.id=t.sTableId+"_next",o.setAttribute("aria-controls",t.sTableId),r.setAttribute("aria-controls",t.sTableId))},fnUpdate:function(t){if(t.aanFeatures.p)for(var e=t.oClasses,i=t.aanFeatures.p,n=0,o=i.length;o>n;n++)0!==i[n].childNodes.length&&(i[n].childNodes[0].className=0===t._iDisplayStart?e.sPagePrevDisabled:e.sPagePrevEnabled,i[n].childNodes[1].className=t.fnDisplayEnd()==t.fnRecordsDisplay()?e.sPageNextDisabled:e.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(t,e,n){var o=t.oLanguage.oPaginate,s=t.oClasses,r=function(e){t.oApi._fnPageChange(t,e.data.action)&&n(t)};i(e).append('<a  tabindex="'+t.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageFirst+'">'+o.sFirst+'</a><a  tabindex="'+t.iTabIndex+'" class="'+s.sPageButton+" "+s.sPagePrevious+'">'+o.sPrevious+'</a><span></span><a tabindex="'+t.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageNext+'">'+o.sNext+'</a><a tabindex="'+t.iTabIndex+'" class="'+s.sPageButton+" "+s.sPageLast+'">'+o.sLast+"</a>");var a=i("a",e),o=a[0],s=a[1],l=a[2],a=a[3];t.oApi._fnBindAction(o,{action:"first"},r),t.oApi._fnBindAction(s,{action:"previous"},r),t.oApi._fnBindAction(l,{action:"next"},r),t.oApi._fnBindAction(a,{action:"last"},r),t.aanFeatures.p||(e.id=t.sTableId+"_paginate",o.id=t.sTableId+"_first",s.id=t.sTableId+"_previous",l.id=t.sTableId+"_next",a.id=t.sTableId+"_last")},fnUpdate:function(t,e){if(t.aanFeatures.p){var n,o,s=j.ext.oPagination.iFullNumbersShowPages,r=Math.floor(s/2),a=Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength),l=Math.ceil(t._iDisplayStart/t._iDisplayLength)+1,u="",c=t.oClasses,h=t.aanFeatures.p,d=function(i){t.oApi._fnBindAction(this,{page:i+n-1},function(i){t.oApi._fnPageChange(t,i.data.page),e(t),i.preventDefault()})};for(-1===t._iDisplayLength?l=r=n=1:s>a?(n=1,r=a):r>=l?(n=1,r=s):l>=a-r?(n=a-s+1,r=a):(n=l-Math.ceil(s/2)+1,r=n+s-1),s=n;r>=s;s++)u+=l!==s?'<a tabindex="'+t.iTabIndex+'" class="'+c.sPageButton+'">'+t.fnFormatNumber(s)+"</a>":'<a tabindex="'+t.iTabIndex+'" class="'+c.sPageButtonActive+'">'+t.fnFormatNumber(s)+"</a>";for(s=0,r=h.length;r>s;s++)0!==h[s].childNodes.length&&(i("span:eq(0)",h[s]).html(u).children("a").each(d),o=h[s].getElementsByTagName("a"),o=[o[0],o[1],o[o.length-2],o[o.length-1]],i(o).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled),i([o[0],o[1]]).addClass(1==l?c.sPageButtonStaticDisabled:c.sPageButton),i([o[2],o[3]]).addClass(0===a||l===a||-1===t._iDisplayLength?c.sPageButtonStaticDisabled:c.sPageButton))}}}}),i.extend(j.ext.oSort,{"string-pre":function(t){return"string"!=typeof t&&(t=null!==t&&t.toString?t.toString():""),t.toLowerCase()},"string-asc":function(t,e){return e>t?-1:t>e?1:0},"string-desc":function(t,e){return e>t?1:t>e?-1:0},"html-pre":function(t){return t.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(t,e){return e>t?-1:t>e?1:0},"html-desc":function(t,e){return e>t?1:t>e?-1:0},"date-pre":function(t){return t=Date.parse(t),(isNaN(t)||""===t)&&(t=Date.parse("01/01/1970 00:00:00")),t},"date-asc":function(t,e){return t-e},"date-desc":function(t,e){return e-t},"numeric-pre":function(t){return"-"==t||""===t?0:1*t},"numeric-asc":function(t,e){return t-e},"numeric-desc":function(t,e){return e-t}}),i.extend(j.ext.aTypes,[function(t){if("number"==typeof t)return"numeric";if("string"!=typeof t)return null;var e,i=!1;if(e=t.charAt(0),-1=="0123456789-".indexOf(e))return null;for(var n=1;n<t.length;n++){if(e=t.charAt(n),-1=="0123456789.".indexOf(e))return null;if("."==e){if(i)return null;i=!0}}return"numeric"},function(t){var e=Date.parse(t);return null!==e&&!isNaN(e)||"string"==typeof t&&0===t.length?"date":null},function(t){return"string"==typeof t&&-1!=t.indexOf("<")&&-1!=t.indexOf(">")?"html":null}]),i.fn.DataTable=j,i.fn.dataTable=j,i.fn.dataTableSettings=j.settings,i.fn.dataTableExt=j.ext}(jQuery,window,document,void 0),!function(){var t,e,i,n,o,s={}.hasOwnProperty,r=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,i,n,o,s,r;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),s=t.childNodes,r=[],n=0,o=s.length;o>n;n++)i=s[n],r.push(this.add_option(i,e,t.disabled));return r},t.prototype.add_option=function(t,e,i){return"OPTION"===t.nodeName.toUpperCase()?(""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:i===!0?i:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},t.prototype.escapeExpression=function(t){var e,i;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(i,function(t){return e[t]||"&amp;"})):t},t}(),n.select_to_array=function(t){var e,i,o,s,r;for(i=new n,r=t.childNodes,o=0,s=r.length;s>o;o++)e=r[o],i.add_node(e);return i.parsed},e=function(){function t(e,i){this.form_field=e,this.options=null!=i?i:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.results_option_build=function(t){var e,i,n,o,s;for(e="",s=this.results_data,n=0,o=s.length;o>n;n++)i=s[n],e+=i.group?this.result_add_group(i):this.result_add_option(i),(null!=t?t.first:void 0)&&(i.selected&&this.is_multiple?this.choice_build(i):i.selected&&!this.is_multiple&&this.single_set_selected_text(i.text));return e},t.prototype.result_add_option=function(t){var e,i;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),i=document.createElement("li"),i.className=e.join(" "),i.style.cssText=t.style,i.setAttribute("data-option-array-index",t.array_index),i.innerHTML=t.search_text,this.outerHTML(i)):""},t.prototype.result_add_group=function(t){var e;return(t.search_match||t.group_match)&&t.active_options>0?(e=document.createElement("li"),e.className="group-result",e.innerHTML=t.search_text,this.outerHTML(e)):""},t.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},t.prototype.reset_single_select_options=function(){var t,e,i,n,o;for(n=this.results_data,o=[],e=0,i=n.length;i>e;e++)t=n[e],t.selected?o.push(t.selected=!1):o.push(void 0);return o},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,i,n,o,s,r,a,l,u,c,h,d;for(this.no_results_clear(),o=0,r=this.get_search_text(),t=r.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),n=this.search_contains?"":"^",i=new RegExp(n+t,"i"),u=new RegExp(t,"i"),d=this.results_data,c=0,h=d.length;h>c;c++)e=d[c],e.search_match=!1,s=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(s=this.results_data[e.group_array_index],0===s.active_options&&s.search_match&&(o+=1),s.active_options+=1),(!e.group||this.group_search)&&(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,i),e.search_match&&!e.group&&(o+=1),e.search_match?(r.length&&(a=e.search_text.search(u),l=e.search_text.substr(0,a+r.length)+"</em>"+e.search_text.substr(a+r.length),e.search_text=l.substr(0,a)+"<em>"+l.substr(a)),null!=s&&(s.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),1>o&&r.length?(this.update_results_content(""),this.no_results(r)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var i,n,o,s;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(n=t.replace(/\[|\]/g,"").split(" "),n.length))for(o=0,s=n.length;s>o;o++)if(i=n[o],e.test(i))return!0},t.prototype.choices_count=function(){var t,e,i,n;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,n=this.form_field.options,e=0,i=n.length;i>e;e++)t=n[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){return t.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},t.prototype.keyup_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.clipboard_event_checker=function(){var t=this;return setTimeout(function(){return t.results_search()},50)},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return this.is_multiple&&!this.display_selected_options&&t.selected?!1:!this.display_disabled_options&&t.disabled?!1:t.empty?!1:!0},t.prototype.search_results_touchstart=function(t){return this.touch_started=!0,this.search_results_mouseover(t)},t.prototype.search_results_touchmove=function(t){return this.touch_started=!1,this.search_results_mouseout(t)},t.prototype.search_results_touchend=function(t){return this.touch_started?this.search_results_mouseup(t):void 0},t.prototype.outerHTML=function(t){var e;return t.outerHTML?t.outerHTML:(e=document.createElement("div"),e.appendChild(t),e.innerHTML)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(n){return e.browser_is_supported()?this.each(function(){var e,o;e=t(this),o=e.data("chosen"),"destroy"===n&&o?o.destroy():o||e.data("chosen",new i(this,n))}):this}}),i=function(e){function i(){return o=i.__super__.constructor.apply(this,arguments)}return r(i,e),i.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},i.prototype.set_up_html=function(){var e,i;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),i={"class":e.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(i.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",i),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},i.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},i.prototype.destroy=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},i.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},i.prototype.container_mousedown=function(e){return this.is_disabled||(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null!=e&&t(e.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},i.prototype.container_mouseup=function(t){return"ABBR"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},i.prototype.search_results_mousewheel=function(t){var e;return t.originalEvent&&(e=-t.originalEvent.wheelDelta||t.originalEvent.detail),null!=e?(t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())):void 0},i.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},i.prototype.close_field=function(){return t(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},i.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},i.prototype.test_active_click=function(e){var i;return i=t(e.target).closest(".chosen-container"),i.length&&this.container[0]===i[0]?this.active_field=!0:this.close_field()},i.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=n.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},i.prototype.result_do_highlight=function(t){var e,i,n,o,s;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),n=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),o=n+s,i=this.result_highlight.position().top+this.search_results.scrollTop(),e=i+this.result_highlight.outerHeight(),e>=o)return this.search_results.scrollTop(e-n>0?e-n:0);if(s>i)return this.search_results.scrollTop(i)}},i.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},i.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},i.prototype.update_results_content=function(t){return this.search_results.html(t)},i.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},i.prototype.set_tab_index=function(){var t;return this.form_field.tabIndex?(t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t):void 0},i.prototype.set_label_behavior=function(){var e=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()}):void 0},i.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},i.prototype.search_results_mouseup=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(e),this.search_field.focus()):void 0},i.prototype.search_results_mouseover=function(e){var i;return i=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},i.prototype.search_results_mouseout=function(e){return t(e.target).hasClass("active-result")?this.result_clear_highlight():void 0},i.prototype.choice_build=function(e){var i,n,o=this;return i=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?i.addClass("search-choice-disabled"):(n=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),n.bind("click.chosen",function(t){return o.choice_destroy_link_click(t)}),i.append(n)),this.search_container.before(i)},i.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),e.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(t(e.target))},i.prototype.choice_destroy=function(t){return this.result_deselect(t[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()):void 0},i.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},i.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},i.prototype.result_select=function(t){var e,i;return this.result_highlight?(e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):this.reset_single_select_options(),i=this.results_data[e[0].getAttribute("data-option-array-index")],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(i):this.single_set_selected_text(i.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[i.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},i.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},i.prototype.result_deselect=function(t){var e;return e=this.results_data[t],this.form_field.options[e.options_index].disabled?!1:(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},i.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},i.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},i.prototype.winnow_results_set_highlight=function(){var t,e;return e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t?this.result_do_highlight(t):void 0},i.prototype.no_results=function(e){var i;return i=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(e),this.search_results.append(i),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},i.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},i.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},i.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},i.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},i.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},i.prototype.keydown_checker=function(t){var e,i;switch(e=null!=(i=t.which)?i:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},i.prototype.search_field_scale=function(){var e,i,n,o,s,r,a,l,u;if(this.is_multiple){for(n=0,a=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",r=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,u=r.length;u>l;l++)o=r[l],s+=o+":"+this.search_field.css(o)+";";return e=t("<div />",{style:s}),e.text(this.search_field.val()),t("body").append(e),a=e.width()+25,e.remove(),i=this.container.outerWidth(),a>i-10&&(a=i-10),this.search_field.css({width:a+"px"})}},i}(e)}.call(this),$(document).ready(function(){function t(t){t.wrap("<div class='table-wrapper' />");var e=t.clone();e.find("td:not(:first-child), th:not(:first-child)").css("display","none"),e.removeClass("responsive"),t.closest(".table-wrapper").append(e),e.wrap("<div class='pinned' />"),t.wrap("<div class='scrollable' />"),i(t,e)}function e(t){t.closest(".table-wrapper").find(".pinned").remove(),t.unwrap(),t.unwrap()}function i(t,e){var i=t.find("tr"),n=e.find("tr"),o=[];i.each(function(t){var e=$(this),i=e.find("th, td");i.each(function(){var e=$(this).outerHeight(!0);o[t]=o[t]||0,e>o[t]&&(o[t]=e)})}),n.each(function(t){$(this).height(o[t])})}var n=!1,o=function(){return $(window).width()<767&&!n?(n=!0,$("table.responsive").each(function(e,i){t($(i))}),!0):void(n&&$(window).width()>767&&(n=!1,$("table.responsive").each(function(t,i){e($(i))})))};$(window).load(o),$(window).on("redraw",function(){n=!1,o()}),$(window).on("resize",o)}),function(t){t.fn.autogrow=function(e){return this.filter("textarea").each(function(){var e=this,i=t(e),n=i.height(),o=i.hasClass("autogrow-short")?0:parseInt(i.css("lineHeight")),s=t("<div></div>").css({position:"absolute",top:-1e4,left:-1e4,width:i.width(),fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),lineHeight:i.css("lineHeight"),resize:"none"}).appendTo(document.body),r=function(){var t=function(t,e){for(var i=0,n="";e>i;i++)n+=t;return n},r=e.value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&/g,"&amp;").replace(/\n$/,"<br/>&nbsp;").replace(/\n/g,"<br/>").replace(/ {2,}/g,function(e){return t("&nbsp;",e.length-1)+" "});s.css("width",i.width()),s.html(r),i.css("height",Math.max(s.height()+o,n))};i.change(r).keyup(r).keydown(r),t(window).resize(r),r()})}}(jQuery),$(document).ready(function(){$.browser={},$.browser.msie={},$(".navbar-toggle").click(function(t){t.preventDefault(),$(".nav-sm").html($(".navbar-collapse").html()),$(this).toggleClass("active")}),docReady()}),$.fn.dataTableExt.oApi.fnPagingInfo=function(t){return{iStart:t._iDisplayStart,iEnd:t.fnDisplayEnd(),iLength:t._iDisplayLength,iTotal:t.fnRecordsTotal(),iFilteredTotal:t.fnRecordsDisplay(),iPage:Math.ceil(t._iDisplayStart/t._iDisplayLength),iTotalPages:Math.ceil(t.fnRecordsDisplay()/t._iDisplayLength)}},$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(t,e,i){var n=t.oLanguage.oPaginate,o=function(e){e.preventDefault(),t.oApi._fnPageChange(t,e.data.action)&&i(t)};$(e).addClass("pagination").append('<ul class="pagination"><li class="prev disabled"><a href="#">&larr; '+n.sPrevious+'</a></li><li class="next disabled"><a href="#">'+n.sNext+" &rarr; </a></li></ul>");var s=$("a",e);$(s[0]).bind("click.DT",{action:"previous"},o),$(s[1]).bind("click.DT",{action:"next"
},o)},fnUpdate:function(t,e){var i,n,o,s,r,a=5,l=t.oInstance.fnPagingInfo(),u=t.aanFeatures.p,c=Math.floor(a/2);for(l.iTotalPages<a?(s=1,r=l.iTotalPages):l.iPage<=c?(s=1,r=a):l.iPage>=l.iTotalPages-c?(s=l.iTotalPages-a+1,r=l.iTotalPages):(s=l.iPage-c+1,r=s+a-1),i=0,iLen=u.length;i<iLen;i++){for($("li:gt(0)",u[i]).filter(":not(:last)").remove(),n=s;r>=n;n++)o=n==l.iPage+1?'class="active"':"",$("<li "+o+'><a href="#">'+n+"</a></li>").insertBefore($("li:last",u[i])[0]).bind("click",function(i){i.preventDefault(),t._iDisplayStart=(parseInt($("a",this).text(),10)-1)*l.iLength,e(t)});0===l.iPage?$("li:first",u[i]).addClass("disabled"):$("li:first",u[i]).removeClass("disabled"),l.iPage===l.iTotalPages-1||0===l.iTotalPages?$("li:last",u[i]).addClass("disabled"):$("li:last",u[i]).removeClass("disabled")}}}}),!function(t,e,i){function n(){var e=t.L;o.noConflict=function(){return t.L=e,this},t.L=o}var o={version:"1.0.1+ffcfcc1"};"object"==typeof module&&"object"==typeof module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),"undefined"!=typeof t&&n(),o.Util={extend:function(t){var e,i,n,o;for(i=1,n=arguments.length;n>i;i++){o=arguments[i];for(e in o)t[e]=o[e]}return t},create:Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),bind:function(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}},stamp:function(t){return t._leaflet_id=t._leaflet_id||++o.Util.lastId,t._leaflet_id},lastId:0,throttle:function(t,e,i){var n,o,s,r;return r=function(){n=!1,o&&(s.apply(i,o),o=!1)},s=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(r,e),n=!0)}},wrapNum:function(t,e,i){var n=e[1],o=e[0],s=n-o;return t===n&&i?t:((t-o)%s+s)%s+o},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return o.Util.trim(t).split(/\s+/)},setOptions:function(t,e){t.hasOwnProperty("options")||(t.options=t.options?o.Util.create(t.options):{});for(var i in e)t.options[i]=e[i];return t.options},getParamString:function(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")},template:function(t,e){return t.replace(o.Util.templateRe,function(t,n){var o=e[n];if(o===i)throw new Error("No value provided for variable "+t);return"function"==typeof o&&(o=o(e)),o})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},indexOf:function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function e(e){return t["webkit"+e]||t["moz"+e]||t["ms"+e]}function i(e){var i=+new Date,o=Math.max(0,16-(i-n));return n=i+o,t.setTimeout(e,o)}var n=0,s=t.requestAnimationFrame||e("RequestAnimationFrame")||i,r=t.cancelAnimationFrame||e("CancelAnimationFrame")||e("CancelRequestAnimationFrame")||function(e){t.clearTimeout(e)};o.Util.requestAnimFrame=function(e,n,r){return r&&s===i?void e.call(n):s.call(t,o.bind(e,n))},o.Util.cancelAnimFrame=function(e){e&&r.call(t,e)}}(),o.extend=o.Util.extend,o.bind=o.Util.bind,o.stamp=o.Util.stamp,o.setOptions=o.Util.setOptions,o.Class=function(){},o.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=e.__super__=this.prototype,n=o.Util.create(i);n.constructor=e,e.prototype=n;for(var s in this)this.hasOwnProperty(s)&&"prototype"!==s&&(e[s]=this[s]);return t.statics&&(o.extend(e,t.statics),delete t.statics),t.includes&&(o.Util.extend.apply(null,[n].concat(t.includes)),delete t.includes),n.options&&(t.options=o.Util.extend(o.Util.create(n.options),t.options)),o.extend(n,t),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=n._initHooks.length;e>t;t++)n._initHooks[t].call(this)}},e},o.Class.include=function(t){return o.extend(this.prototype,t),this},o.Class.mergeOptions=function(t){return o.extend(this.prototype.options,t),this},o.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this},o.Evented=o.Class.extend({on:function(t,e,i){if("object"==typeof t)for(var n in t)this._on(n,t[n],e);else{t=o.Util.splitWords(t);for(var s=0,r=t.length;r>s;s++)this._on(t[s],e,i)}return this},off:function(t,e,i){if(t)if("object"==typeof t)for(var n in t)this._off(n,t[n],e);else{t=o.Util.splitWords(t);for(var s=0,r=t.length;r>s;s++)this._off(t[s],e,i)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var o=this._events[t];o||(o=[],this._events[t]=o),n===this&&(n=i);for(var s={fn:e,ctx:n},r=o,a=0,l=r.length;l>a;a++)if(r[a].fn===e&&r[a].ctx===n)return;r.push(s),o.count++},_off:function(t,e,n){var s,r,a;if(this._events&&(s=this._events[t])){if(!e){for(r=0,a=s.length;a>r;r++)s[r].fn=o.Util.falseFn;return void delete this._events[t]}if(n===this&&(n=i),s)for(r=0,a=s.length;a>r;r++){var l=s[r];if(l.ctx===n&&l.fn===e)return l.fn=o.Util.falseFn,this._firingCount&&(this._events[t]=s=s.slice()),void s.splice(r,1)}}},fire:function(t,e,i){if(!this.listens(t,i))return this;var n=o.Util.extend({},e,{type:t,target:this});if(this._events){var s=this._events[t];if(s){this._firingCount=this._firingCount+1||1;for(var r=0,a=s.length;a>r;r++){var l=s[r];l.fn.call(l.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"==typeof t){for(var n in t)this.once(n,t[n],e);return this}var s=o.bind(function(){this.off(t,e,i).off(t,s,i)},this);return this.on(t,e,i).on(t,s,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[o.stamp(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[o.stamp(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,o.extend({layer:t.target},t),!0)}});var s=o.Evented.prototype;s.addEventListener=s.on,s.removeEventListener=s.clearAllEventListeners=s.off,s.addOneTimeEventListener=s.once,s.fireEvent=s.fire,s.hasEventListeners=s.listens,o.Mixin={Events:s},function(){var i=navigator.userAgent.toLowerCase(),n=e.documentElement,s="ActiveXObject"in t,r=-1!==i.indexOf("webkit"),a=-1!==i.indexOf("phantom"),l=-1!==i.search("android [23]"),u=-1!==i.indexOf("chrome"),c=-1!==i.indexOf("gecko")&&!r&&!t.opera&&!s,h=0===navigator.platform.indexOf("Win"),d="undefined"!=typeof orientation||-1!==i.indexOf("mobile"),p=!t.PointerEvent&&t.MSPointerEvent,f=t.PointerEvent||p,m=s&&"transition"in n.style,g="WebKitCSSMatrix"in t&&"m11"in new t.WebKitCSSMatrix&&!l,_="MozPerspective"in n.style,v="OTransition"in n.style,y=!t.L_NO_TOUCH&&(f||"ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch);o.Browser={ie:s,ielt9:s&&!e.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in e),webkit:r,gecko:c,android:-1!==i.indexOf("android"),android23:l,chrome:u,safari:!u&&-1!==i.indexOf("safari"),win:h,ie3d:m,webkit3d:g,gecko3d:_,opera12:v,any3d:!t.L_DISABLE_3D&&(m||g||_)&&!v&&!a,mobile:d,mobileWebkit:d&&r,mobileWebkit3d:d&&g,mobileOpera:d&&t.opera,mobileGecko:d&&c,touch:!!y,msPointer:!!p,pointer:!!f,retina:(t.devicePixelRatio||t.screen.deviceXDPI/t.screen.logicalXDPI)>1}}(),o.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},o.Point.prototype={clone:function(){return new o.Point(this.x,this.y)},add:function(t){return this.clone()._add(o.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(o.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new o.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new o.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},distanceTo:function(t){t=o.point(t);var e=t.x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return t=o.point(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=o.point(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+o.Util.formatNum(this.x)+", "+o.Util.formatNum(this.y)+")"}},o.point=function(t,e,n){return t instanceof o.Point?t:o.Util.isArray(t)?new o.Point(t[0],t[1]):t===i||null===t?t:"object"==typeof t&&"x"in t&&"y"in t?new o.Point(t.x,t.y):new o.Point(t,e,n)},o.Bounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.Bounds.prototype={extend:function(t){return t=o.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new o.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new o.Point(this.min.x,this.max.y)},getTopRight:function(){return new o.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return t="number"==typeof t[0]||t instanceof o.Point?o.point(t):o.bounds(t),t instanceof o.Bounds?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,r=s.x>=e.x&&n.x<=i.x,a=s.y>=e.y&&n.y<=i.y;return r&&a},overlaps:function(t){t=o.bounds(t);var e=this.min,i=this.max,n=t.min,s=t.max,r=s.x>e.x&&n.x<i.x,a=s.y>e.y&&n.y<i.y;return r&&a},isValid:function(){return!(!this.min||!this.max)}},o.bounds=function(t,e){return!t||t instanceof o.Bounds?t:new o.Bounds(t,e)},o.Transformation=function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},o.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new o.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}},o.DomUtil={get:function(t){return"string"==typeof t?e.getElementById(t):t},getStyle:function(t,i){var n=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!n||"auto"===n)&&e.defaultView){var o=e.defaultView.getComputedStyle(t,null);n=o?o[i]:null}return"auto"===n?null:n},create:function(t,i,n){var o=e.createElement(t);return o.className=i||"",n&&n.appendChild(o),o},remove:function(t){var e=t.parentNode;e&&e.removeChild(t)},empty:function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==i)return t.classList.contains(e);var n=o.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==i)for(var n=o.Util.splitWords(e),s=0,r=n.length;r>s;s++)t.classList.add(n[s]);else if(!o.DomUtil.hasClass(t,e)){var a=o.DomUtil.getClass(t);o.DomUtil.setClass(t,(a?a+" ":"")+e)}},removeClass:function(t,e){t.classList!==i?t.classList.remove(e):o.DomUtil.setClass(t,o.Util.trim((" "+o.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))},setClass:function(t,e){t.className.baseVal===i?t.className=e:t.className.baseVal=e},getClass:function(t){return t.className.baseVal===i?t.className:t.className.baseVal},setOpacity:function(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&o.DomUtil._setOpacityIE(t,e)},_setOpacityIE:function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"},testProp:function(t){for(var i=e.documentElement.style,n=0;n<t.length;n++)if(t[n]in i)return t[n];return!1},setTransform:function(t,e,i){var n=e||new o.Point(0,0);t.style[o.DomUtil.TRANSFORM]=(o.Browser.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")},setPosition:function(t,e){t._leaflet_pos=e,o.Browser.any3d?o.DomUtil.setTransform(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")},getPosition:function(t){return t._leaflet_pos||new o.Point(0,0)}},function(){o.DomUtil.TRANSFORM=o.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var i=o.DomUtil.TRANSITION=o.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);if(o.DomUtil.TRANSITION_END="webkitTransition"===i||"OTransition"===i?i+"End":"transitionend","onselectstart"in e)o.DomUtil.disableTextSelection=function(){o.DomEvent.on(t,"selectstart",o.DomEvent.preventDefault)},o.DomUtil.enableTextSelection=function(){o.DomEvent.off(t,"selectstart",o.DomEvent.preventDefault)};else{var n=o.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);o.DomUtil.disableTextSelection=function(){if(n){var t=e.documentElement.style;this._userSelect=t[n],t[n]="none"}},o.DomUtil.enableTextSelection=function(){n&&(e.documentElement.style[n]=this._userSelect,delete this._userSelect)}}o.DomUtil.disableImageDrag=function(){o.DomEvent.on(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.enableImageDrag=function(){o.DomEvent.off(t,"dragstart",o.DomEvent.preventDefault)},o.DomUtil.preventOutline=function(e){for(;-1===e.tabIndex;)e=e.parentNode;e&&e.style&&(o.DomUtil.restoreOutline(),this._outlineElement=e,this._outlineStyle=e.style.outline,e.style.outline="none",o.DomEvent.on(t,"keydown",o.DomUtil.restoreOutline,this))},o.DomUtil.restoreOutline=function(){this._outlineElement&&(this._outlineElement.style.outline=this._outlineStyle,delete this._outlineElement,delete this._outlineStyle,o.DomEvent.off(t,"keydown",o.DomUtil.restoreOutline,this))}}(),o.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,n!==i&&(this.alt=+n)},o.LatLng.prototype={equals:function(t,e){if(!t)return!1;t=o.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return(e===i?1e-9:e)>=n},toString:function(t){return"LatLng("+o.Util.formatNum(this.lat,t)+", "+o.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return o.CRS.Earth.distance(this,o.latLng(t))},wrap:function(){return o.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return o.latLngBounds([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new o.LatLng(this.lat,this.lng,this.alt)}},o.latLng=function(t,e,n){return t instanceof o.LatLng?t:o.Util.isArray(t)&&"object"!=typeof t[0]?3===t.length?new o.LatLng(t[0],t[1],t[2]):2===t.length?new o.LatLng(t[0],t[1]):null:t===i||null===t?t:"object"==typeof t&&"lat"in t?new o.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===i?null:new o.LatLng(t,e,n)},o.LatLngBounds=function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},o.LatLngBounds.prototype={extend:function(t){var e,i,n=this._southWest,s=this._northEast;if(t instanceof o.LatLng)e=t,i=t;else{if(!(t instanceof o.LatLngBounds))return t?this.extend(o.latLng(t)||o.latLngBounds(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||s?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),s.lat=Math.max(i.lat,s.lat),s.lng=Math.max(i.lng,s.lng)):(this._southWest=new o.LatLng(e.lat,e.lng),this._northEast=new o.LatLng(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,s=Math.abs(e.lng-i.lng)*t;return new o.LatLngBounds(new o.LatLng(e.lat-n,e.lng-s),new o.LatLng(i.lat+n,i.lng+s))},getCenter:function(){return new o.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new o.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new o.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof o.LatLng?o.latLng(t):o.latLngBounds(t);var e,i,n=this._southWest,s=this._northEast;return t instanceof o.LatLngBounds?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=s.lat&&e.lng>=n.lng&&i.lng<=s.lng},intersects:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),r=s.lat>=e.lat&&n.lat<=i.lat,a=s.lng>=e.lng&&n.lng<=i.lng;return r&&a},overlaps:function(t){t=o.latLngBounds(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),s=t.getNorthEast(),r=s.lat>e.lat&&n.lat<i.lat,a=s.lng>e.lng&&n.lng<i.lng;return r&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){return!!t&&(t=o.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast()))},isValid:function(){return!(!this._southWest||!this._northEast)}},o.latLngBounds=function(t,e){return t instanceof o.LatLngBounds?t:new o.LatLngBounds(t,e)},o.Projection={},o.Projection.LonLat={project:function(t){return new o.Point(t.lng,t.lat)},unproject:function(t){return new o.LatLng(t.y,t.x)},bounds:o.bounds([-180,-90],[180,90])},o.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),s=Math.sin(n*e);return new o.Point(this.R*t.lng*e,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(t){var e=180/Math.PI;return new o.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return o.bounds([-t,-t],[t,t])}()},o.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t),n=this.transformation.transform(e.min,i),s=this.transformation.transform(e.max,i);return o.bounds(n,s)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o.Util.wrapNum(t.lng,this.wrapLng,!0):t.lng,i=this.wrapLat?o.Util.wrapNum(t.lat,this.wrapLat,!0):t.lat,n=t.alt;return o.latLng(i,e,n)}},o.CRS.Simple=o.extend({},o.CRS,{projection:o.Projection.LonLat,transformation:new o.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0}),o.CRS.Earth=o.extend({},o.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,s=Math.sin(n)*Math.sin(o)+Math.cos(n)*Math.cos(o)*Math.cos((e.lng-t.lng)*i);return this.R*Math.acos(Math.min(s,1))}}),o.CRS.EPSG3857=o.extend({},o.CRS.Earth,{code:"EPSG:3857",projection:o.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*o.Projection.SphericalMercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.CRS.EPSG900913=o.extend({},o.CRS.EPSG3857,{code:"EPSG:900913"}),o.CRS.EPSG4326=o.extend({},o.CRS.Earth,{code:"EPSG:4326",projection:o.Projection.LonLat,transformation:new o.Transformation(1/180,1,-1/180,.5)}),o.Map=o.Evented.extend({options:{crs:o.CRS.EPSG3857,center:i,zoom:i,minZoom:i,maxZoom:i,layers:[],maxBounds:i,renderer:i,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=o.setOptions(this,e),this._initContainer(t),this._initLayout(),this._onResize=o.bind(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==i&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==i&&this.setView(o.latLng(e.center),e.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this.callInitHooks(),this._addLayers(this.options.layers)},setView:function(t,e){return e=e===i?this.getZoom():e,this._resetView(o.latLng(t),e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(o.Browser.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),s=this.getSize().divideBy(2),r=t instanceof o.Point?t:this.latLngToContainerPoint(t),a=r.subtract(s).multiplyBy(1-1/n),l=this.containerPointToLatLng(s.add(a));return this.setView(l,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():o.latLngBounds(t);var i=o.point(e.paddingTopLeft||e.padding||[0,0]),n=o.point(e.paddingBottomRight||e.padding||[0,0]),s=this.getBoundsZoom(t,!1,i.add(n));s="number"==typeof e.maxZoom?Math.min(e.maxZoom,s):s;var r=n.subtract(i).divideBy(2),a=this.project(t.getSouthWest(),s),l=this.project(t.getNorthEast(),s),u=this.unproject(a.add(l).divideBy(2).add(r),s);return{center:u,zoom:s}},fitBounds:function(t,e){if(t=o.latLngBounds(t),!t.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t){return this.fire("movestart"),this._rawPanBy(o.point(t)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(t){return t=o.latLngBounds(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){return this.options.minZoom=t,this._loaded&&this.getZoom()<this.options.minZoom?this.setZoom(t):this},setMaxZoom:function(t){return this.options.maxZoom=t,this._loaded&&this.getZoom()>this.options.maxZoom?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,o.latLngBounds(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},invalidateSize:function(t){if(!this._loaded)return this;t=o.extend({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=e.divideBy(2).round(),s=i.divideBy(2).round(),r=n.subtract(s);return r.x||r.y?(t.animate&&t.pan?this.panBy(r):(t.pan&&this._rawPanBy(r),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:i})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=i,this._containerId=i}o.DomUtil.remove(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this._loaded&&this.fire("unload");for(var t in this._layers)this._layers[t].remove();return this},createPane:function(t,e){var i="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),n=o.DomUtil.create("div",i,e||this._mapPane);return t&&(this._panes[t]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),i=this.unproject(t.getTopRight());return new o.LatLngBounds(e,i)},getMinZoom:function(){return this.options.minZoom===i?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===i?this._layersMaxZoom===i?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=o.latLngBounds(t),i=o.point(i||[0,0]);var n=this.getZoom()||0,s=this.getMinZoom(),r=this.getMaxZoom(),a=t.getNorthWest(),l=t.getSouthEast(),u=this.getSize().subtract(i),c=this.project(l,n).subtract(this.project(a,n)),h=o.Browser.any3d?this.options.zoomSnap:1,d=Math.min(u.x/c.x,u.y/c.y);return n=this.getScaleZoom(d,n),h&&(n=Math.round(n/(h/100))*(h/100),n=e?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(s,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new o.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new o.Bounds(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===i?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=e===i?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===i?this._zoom:e;var o=n.zoom(t*n.scale(e));return isNaN(o)?1/0:o},project:function(t,e){return e=e===i?this._zoom:e,this.options.crs.latLngToPoint(o.latLng(t),e)},unproject:function(t,e){return e=e===i?this._zoom:e,this.options.crs.pointToLatLng(o.point(t),e)},layerPointToLatLng:function(t){var e=o.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(o.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(o.latLng(t))},distance:function(t,e){return this.options.crs.distance(o.latLng(t),o.latLng(e))},containerPointToLayerPoint:function(t){return o.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return o.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(o.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(o.latLng(t)))},mouseEventToContainerPoint:function(t){return o.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=o.DomUtil.get(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");o.DomEvent.addListener(e,"scroll",this._onScroll,this),this._containerId=o.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&o.Browser.any3d,o.DomUtil.addClass(t,"leaflet-container"+(o.Browser.touch?" leaflet-touch":"")+(o.Browser.retina?" leaflet-retina":"")+(o.Browser.ielt9?" leaflet-oldie":"")+(o.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=o.DomUtil.getStyle(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),o.DomUtil.setPosition(this._mapPane,new o.Point(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(o.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide"),o.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){o.DomUtil.setPosition(this._mapPane,new o.Point(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t){return t&&this.fire("zoomstart"),this.fire("movestart")},_move:function(t,e,n){e===i&&(e=this._zoom);var o=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(o||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return o.Util.cancelAnimFrame(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){o.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){if(o.DomEvent){this._targets={},this._targets[o.stamp(this._container)]=this;var i=e?"off":"on";o.DomEvent[i](this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&o.DomEvent[i](t,"resize",this._onResize,this),o.Browser.any3d&&this.options.transform3DLimit&&this[i]("moveend",this._onMoveEnd)}},_onResize:function(){o.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=o.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],s="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if(i=this._targets[o.stamp(r)],i&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(s&&!o.DomEvent._isExternalTarget(r,t))break;if(n.push(i),s)break}if(r===this._container)break;r=r.parentNode}return n.length||a||s||!o.DomEvent._isExternalTarget(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!o.DomEvent._skipped(t)){var e="keypress"===t.type&&13===t.keyCode?"click":t.type;"mousedown"===e&&o.DomUtil.preventOutline(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_fireDOMEvent:function(t,e,i){if("click"===t.type){var n=o.Util.extend({},t);n.type="preclick",this._fireDOMEvent(n,n.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,e)),i.length)){var s=i[0];"contextmenu"===e&&s.listens(e,!0)&&o.DomEvent.preventDefault(t);var r={originalEvent:t};if("keypress"!==t.type){var a=s instanceof o.Marker;r.containerPoint=a?this.latLngToContainerPoint(s.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),
r.latlng=a?s.getLatLng():this.layerPointToLatLng(r.layerPoint)}for(var l=0;l<i.length;l++)if(i[l].fire(e,r,!0),r.originalEvent._stopped||i[l].options.nonBubblingEvents&&-1!==o.Util.indexOf(i[l].options.nonBubblingEvents,e))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;e>t;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return o.DomUtil.getPosition(this._mapPane)||new o.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==i?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),s=this.getSize().divideBy(2),r=new o.Bounds(n.subtract(s),n.add(s)),a=this._getBoundsOffset(r,i,e);return a.round().equals([0,0])?t:this.unproject(n.add(a),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new o.Bounds(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=o.bounds(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),s=n.min.subtract(t.min),r=n.max.subtract(t.max),a=this._rebound(s.x,-r.x),l=this._rebound(s.y,-r.y);return new o.Point(a,l)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=o.Browser.any3d?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))}}),o.map=function(t,e){return new o.Map(t,e)},o.Layer=o.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[]},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[o.stamp(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[o.stamp(t)],this},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",function(){e.off(i,this)},this)}this.onAdd(e),this.getAttribution&&this._map.attributionControl&&this._map.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}}),o.Map.include({addLayer:function(t){var e=o.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=o.stamp(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&o.stamp(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){t=t?o.Util.isArray(t)?t:[t]:[];for(var e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[o.stamp(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=o.stamp(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-(1/0),n=this._getZoomSpan();for(var o in this._zoomBoundLayers){var s=this._zoomBoundLayers[o].options;t=s.minZoom===i?t:Math.min(t,s.minZoom),e=s.maxZoom===i?e:Math.max(e,s.maxZoom)}this._layersMaxZoom=e===-(1/0)?i:e,this._layersMinZoom=t===1/0?i:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange")}}),o.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:o.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,s=this.R_MINOR/i,r=Math.sqrt(1-s*s),a=r*Math.sin(n),l=Math.tan(Math.PI/4-n/2)/Math.pow((1-a)/(1+a),r/2);return n=-i*Math.log(Math.max(l,1e-10)),new o.Point(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,s=this.R_MINOR/n,r=Math.sqrt(1-s*s),a=Math.exp(-t.y/n),l=Math.PI/2-2*Math.atan(a),u=0,c=.1;15>u&&Math.abs(c)>1e-7;u++)e=r*Math.sin(l),e=Math.pow((1-e)/(1+e),r/2),c=Math.PI/2-2*Math.atan(a*e)-l,l+=c;return new o.LatLng(l*i,t.x*i/n)}},o.CRS.EPSG3395=o.extend({},o.CRS.Earth,{code:"EPSG:3395",projection:o.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*o.Projection.Mercator.R);return new o.Transformation(t,.5,-t,.5)}()}),o.GridLayer=o.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:o.Browser.mobile,updateWhenZooming:!0,updateInterval:200,attribution:null,zIndex:1,bounds:null,minZoom:0,maxZoom:i,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){o.setOptions(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),o.DomUtil.remove(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=null},bringToFront:function(){return this._map&&(o.DomUtil.toFront(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(o.DomUtil.toBack(this._container),this._setAutoZIndex(Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=o.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return e.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof o.Point?t:new o.Point(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==i&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-(1/0),1/0),o=0,s=i.length;s>o;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!o.Browser.ielt9){o.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var s=this._tiles[n];if(s.current&&s.loaded){var r=Math.min(1,(t-s.loaded)/200);o.DomUtil.setOpacity(s.el,r),1>r?e=!0:(s.active&&(i=!0),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this))}},_initContainer:function(){this._container||(this._container=o.DomUtil.create("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===i)return i;for(var n in this._levels)this._levels[n].el.children.length||n===t?this._levels[n].el.style.zIndex=e-Math.abs(t-n):(o.DomUtil.remove(this._levels[n].el),this._removeTilesAtZoom(n),delete this._levels[n]);var s=this._levels[t],r=this._map;return s||(s=this._levels[t]={},s.el=o.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container),s.el.style.zIndex=e,s.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),s.zoom=t,this._setZoomTransform(s,r.getCenter(),r.getZoom()),o.Util.falseFn(s.el.offsetWidth)),this._level=s,s},_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)o.DomUtil.remove(this._levels[t].el),delete this._levels[t];this._removeAllTiles(),this._tileZoom=null},_retainParent:function(t,e,i,n){var s=Math.floor(t/2),r=Math.floor(e/2),a=i-1,l=new o.Point(+s,+r);l.z=+a;var u=this._tileCoordsToKey(l),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>n&&this._retainParent(s,r,a,n))},_retainChildren:function(t,e,i,n){for(var s=2*t;2*t+2>s;s++)for(var r=2*e;2*e+2>r;r++){var a=new o.Point(s,r);a.z=i+1;var l=this._tileCoordsToKey(a),u=this._tiles[l];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n>i+1&&this._retainChildren(s,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_setView:function(t,e,n,o){var s=Math.round(e);(this.options.maxZoom!==i&&s>this.options.maxZoom||this.options.minZoom!==i&&s<this.options.minZoom)&&(s=i);var r=this.options.updateWhenZooming&&s!==this._tileZoom;o&&!r||(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==i&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),s=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();o.Browser.any3d?o.DomUtil.setTransform(t.el,s,n):o.DomUtil.setPosition(t.el,s)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),s=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new o.Bounds(s.subtract(r),s.add(r))},_update:function(t){var n=this._map;if(n){var s=n.getZoom();if(t===i&&(t=n.getCenter()),this._tileZoom!==i){var r=this._getTiledPixelBounds(t),a=this._pxBoundsToTileRange(r),l=a.getCenter(),u=[],c=this.options.keepBuffer,h=new o.Bounds(a.getBottomLeft().subtract([c,-c]),a.getTopRight().add([c,-c]));for(var d in this._tiles){var p=this._tiles[d].coords;p.z===this._tileZoom&&h.contains(o.point(p.x,p.y))||(this._tiles[d].current=!1)}if(Math.abs(s-this._tileZoom)>1)return void this._setView(t,s);for(var f=a.min.y;f<=a.max.y;f++)for(var m=a.min.x;m<=a.max.x;m++){var g=new o.Point(m,f);if(g.z=this._tileZoom,this._isValidTile(g)){var _=this._tiles[this._tileCoordsToKey(g)];_?_.current=!0:u.push(g)}}if(u.sort(function(t,e){return t.distanceTo(l)-e.distanceTo(l)}),0!==u.length){this._loading||(this._loading=!0,this.fire("loading"));var v=e.createDocumentFragment();for(m=0;m<u.length;m++)this._addTile(u[m],v);this._level.el.appendChild(v)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return o.latLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),s=n.add(i),r=e.unproject(n,t.z),a=e.unproject(s,t.z);return this.options.noWrap||(r=e.wrapLatLng(r),a=e.wrapLatLng(a)),new o.LatLngBounds(r,a)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new o.Point(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(o.DomUtil.remove(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){o.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,o.Browser.ielt9&&this.options.opacity<1&&o.DomUtil.setOpacity(t,this.options.opacity),o.Browser.android&&!o.Browser.android23&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),s=this.createTile(this._wrapCoords(t),o.bind(this._tileReady,this,t));this._initTile(s),this.createTile.length<2&&o.Util.requestAnimFrame(o.bind(this._tileReady,this,t,null,s)),o.DomUtil.setPosition(s,i),this._tiles[n]={el:s,coords:t,current:!0},e.appendChild(s),this.fire("tileloadstart",{tile:s,coords:t})},_tileReady:function(t,e,i){if(this._map){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(o.DomUtil.setOpacity(i.el,0),o.Util.cancelAnimFrame(this._fadeFrame),this._fadeFrame=o.Util.requestAnimFrame(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(o.DomUtil.addClass(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),o.Browser.ielt9||!this._map._fadeAnimated?o.Util.requestAnimFrame(this._pruneTiles,this):setTimeout(o.bind(this._pruneTiles,this),250)))}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new o.Point(this._wrapX?o.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?o.Util.wrapNum(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new o.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),o.gridLayer=function(t){return new o.GridLayer(t)},o.TileLayer=o.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=o.setOptions(this,e),e.detectRetina&&o.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),o.Browser.android||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},createTile:function(t,i){var n=e.createElement("img");return o.DomEvent.on(n,"load",o.bind(this._tileOnLoad,this,i,n)),o.DomEvent.on(n,"error",o.bind(this._tileOnError,this,i,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:o.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=i),e["-y"]=i}return o.Util.template(this._url,o.extend(e,this.options))},_tileOnLoad:function(t,e){o.Browser.ielt9?setTimeout(o.bind(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&(e.src=n),t(i,e)},getTileSize:function(){var t=this._map,e=o.GridLayer.prototype.getTileSize.call(this),i=this._tileZoom+this.options.zoomOffset,n=this.options.maxNativeZoom;return null!==n&&i>n?e.divideBy(t.getZoomScale(n,i)).round():e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this.options,e=this._tileZoom;return t.zoomReverse&&(e=t.maxZoom-e),e+=t.zoomOffset,null!==t.maxNativeZoom?Math.min(e,t.maxNativeZoom):e},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=o.Util.falseFn,e.onerror=o.Util.falseFn,e.complete||(e.src=o.Util.emptyImageUrl,o.DomUtil.remove(e)))}}),o.tileLayer=function(t,e){return new o.TileLayer(t,e)},o.TileLayer.WMS=o.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var i=o.extend({},this.defaultWmsParams);for(var n in e)n in this.options||(i[n]=e[n]);e=o.setOptions(this,e),i.width=i.height=e.tileSize*(e.detectRetina&&o.Browser.retina?2:1),this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,o.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),i=this._crs.project(e.getNorthWest()),n=this._crs.project(e.getSouthEast()),s=(this._wmsVersion>=1.3&&this._crs===o.CRS.EPSG4326?[n.y,i.x,i.y,n.x]:[i.x,n.y,n.x,i.y]).join(","),r=o.TileLayer.prototype.getTileUrl.call(this,t);return r+o.Util.getParamString(this.wmsParams,r,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return o.extend(this.wmsParams,t),e||this.redraw(),this}}),o.tileLayer.wms=function(t,e){return new o.TileLayer.WMS(t,e)},o.ImageOverlay=o.Layer.extend({options:{opacity:1,alt:"",interactive:!1,attribution:null,crossOrigin:!1},initialize:function(t,e,i){this._url=t,this._bounds=o.latLngBounds(e),o.setOptions(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(o.DomUtil.addClass(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){o.DomUtil.remove(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._image),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=t,this._map&&this._reset(),this},getAttribution:function(){return this.options.attribution},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=o.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=o.Util.falseFn,t.onmousemove=o.Util.falseFn,t.onload=o.bind(this.fire,this,"load"),this.options.crossOrigin&&(t.crossOrigin=""),t.src=this._url,t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngToNewLayerPoint(this._bounds.getNorthWest(),t.zoom,t.center);o.DomUtil.setTransform(this._image,i,e)},_reset:function(){var t=this._image,e=new o.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();o.DomUtil.setPosition(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){o.DomUtil.setOpacity(this._image,this.options.opacity)}}),o.imageOverlay=function(t,e,i){return new o.ImageOverlay(t,e,i)},o.Icon=o.Class.extend({initialize:function(t){o.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var s=o.point(n),r=o.point("shadow"===e&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),s&&(t.style.width=s.x+"px",t.style.height=s.y+"px")},_createImg:function(t,i){return i=i||e.createElement("img"),i.src=t,i},_getIconUrl:function(t){return o.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),o.icon=function(t){return new o.Icon(t)},o.Icon.Default=o.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return o.Icon.Default.imagePath||(o.Icon.Default.imagePath=this._detectIconPath()),(this.options.imagePath||o.Icon.Default.imagePath)+o.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=o.DomUtil.create("div","leaflet-default-icon-path",e.body),i=o.DomUtil.getStyle(t,"background-image")||o.DomUtil.getStyle(t,"backgroundImage");return e.body.removeChild(t),0===i.indexOf("url")?i.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}}),o.Marker=o.Layer.extend({options:{icon:new o.Icon.Default,interactive:!0,draggable:!1,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=o.latLng(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),t.alt&&(i.alt=t.alt)),o.DomUtil.addClass(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var s=t.icon.createShadow(this._shadow),r=!1;s!==this._shadow&&(this._removeShadow(),r=!0),s&&o.DomUtil.addClass(s,e),this._shadow=s,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),o.DomUtil.remove(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&o.DomUtil.remove(this._shadow),this._shadow=null},_setPos:function(t){o.DomUtil.setPosition(this._icon,t),this._shadow&&o.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(o.DomUtil.addClass(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),o.Handler.MarkerDrag)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new o.Handler.MarkerDrag(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;o.DomUtil.setOpacity(this._icon,t),this._shadow&&o.DomUtil.setOpacity(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),o.marker=function(t,e){return new o.Marker(t,e)},o.DivIcon=o.Icon.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&"DIV"===t.tagName?t:e.createElement("div"),n=this.options;if(i.innerHTML=n.html!==!1?n.html:"",n.bgPos){var s=o.point(n.bgPos);i.style.backgroundPosition=-s.x+"px "+-s.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}}),o.divIcon=function(t){return new o.DivIcon(t)},o.DivOverlay=o.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){o.setOptions(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&o.DomUtil.setOpacity(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(o.DomUtil.setOpacity(this._container,0),this._removeTimeout=setTimeout(o.bind(o.DomUtil.remove,o.DomUtil,this._container),200)):o.DomUtil.remove(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=o.latLng(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&o.DomUtil.toFront(this._container),this},bringToBack:function(){return this._map&&o.DomUtil.toBack(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=o.point(this.options.offset),i=this._getAnchor();this._zoomAnimated?o.DomUtil.setPosition(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}}),o.Popup=o.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof o.Path||this._source.on("preclick",o.DomEvent.stopPropagation))},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof o.Path||this._source.off("preclick",o.DomEvent.stopPropagation))},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=o.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var i=this._closeButton=o.DomUtil.create("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",o.DomEvent.on(i,"click",this._onCloseButtonClick,this)}var n=this._wrapper=o.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=o.DomUtil.create("div",t+"-content",n),o.DomEvent.disableClickPropagation(n).disableScrollPropagation(this._contentNode).on(n,"contextmenu",o.DomEvent.stopPropagation),this._tipContainer=o.DomUtil.create("div",t+"-tip-container",e),this._tip=o.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,s=this.options.maxHeight,r="leaflet-popup-scrolled";s&&n>s?(e.height=s+"px",o.DomUtil.addClass(t,r)):o.DomUtil.removeClass(t,r),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();o.DomUtil.setPosition(this._container,e.add(i))},_adjustPan:function(){if(!(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress)){var t=this._map,e=parseInt(o.DomUtil.getStyle(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,s=new o.Point(this._containerLeft,-i-this._containerBottom);s._add(o.DomUtil.getPosition(this._container));var r=t.layerPointToContainerPoint(s),a=o.point(this.options.autoPanPadding),l=o.point(this.options.autoPanPaddingTopLeft||a),u=o.point(this.options.autoPanPaddingBottomRight||a),c=t.getSize(),h=0,d=0;r.x+n+u.x>c.x&&(h=r.x+n-c.x+u.x),r.x-h-l.x<0&&(h=r.x-l.x),r.y+i+u.y>c.y&&(d=r.y+i-c.y+u.y),r.y-d-l.y<0&&(d=r.y-l.y),(h||d)&&t.fire("autopanstart").panBy([h,d])}},_onCloseButtonClick:function(t){this._close(),o.DomEvent.stop(t)},_getAnchor:function(){return o.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),o.popup=function(t,e){return new o.Popup(t,e)},o.Map.mergeOptions({closePopupOnClick:!0}),o.Map.include({openPopup:function(t,e,i){return t instanceof o.Popup||(t=new o.Popup(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),
this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),o.Layer.include({bindPopup:function(t,e){return t instanceof o.Popup?(o.setOptions(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new o.Popup(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;return this._popup&&this._map?(o.DomEvent.stop(t),e instanceof o.Path?void this.openPopup(t.layer||t.target,t.latlng):void(this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))):void 0},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),o.Marker.include({_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]}}),o.Tooltip=o.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){o.DivOverlay.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){o.DivOverlay.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=o.DivOverlay.prototype.getEvents.call(this);return o.Browser.touch&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=o.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),s=e.layerPointToContainerPoint(t),r=this.options.direction,a=i.offsetWidth,l=i.offsetHeight,u=o.point(this.options.offset),c=this._getAnchor();"top"===r?t=t.add(o.point(-a/2+u.x,-l+u.y+c.y)):"bottom"===r?t=t.subtract(o.point(a/2-u.x,-u.y)):"center"===r?t=t.subtract(o.point(a/2+u.x,l/2-c.y+u.y)):"right"===r||"auto"===r&&s.x<n.x?(r="right",t=t.add([u.x+c.x,c.y-l/2+u.y])):(r="left",t=t.subtract(o.point(a+c.x-u.x,l/2-c.y-u.y))),o.DomUtil.removeClass(i,"leaflet-tooltip-right"),o.DomUtil.removeClass(i,"leaflet-tooltip-left"),o.DomUtil.removeClass(i,"leaflet-tooltip-top"),o.DomUtil.removeClass(i,"leaflet-tooltip-bottom"),o.DomUtil.addClass(i,"leaflet-tooltip-"+r),o.DomUtil.setPosition(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&o.DomUtil.setOpacity(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return o.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),o.tooltip=function(t,e){return new o.Tooltip(t,e)},o.Map.include({openTooltip:function(t,e,i){return t instanceof o.Tooltip||(t=new o.Tooltip(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),o.Layer.include({bindTooltip:function(t,e){return t instanceof o.Tooltip?(o.setOptions(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=o.tooltip(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),o.Browser.touch&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof o.Layer||(e=t,t=this),t instanceof o.FeatureGroup)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.addClass(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(o.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:i)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}}),o.Marker.include({_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}}),o.LayerGroup=o.Layer.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers)this.removeLayer(this._layers[t]);return this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)i=this._layers[e],i[t]&&i[t].apply(i,n);return this},onAdd:function(t){for(var e in this._layers)t.addLayer(this._layers[e])},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e])},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers)t.push(this._layers[e]);return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return o.stamp(t)}}),o.layerGroup=function(t){return new o.LayerGroup(t)},o.FeatureGroup=o.LayerGroup.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),o.LayerGroup.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),o.LayerGroup.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new o.LatLngBounds;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),o.featureGroup=function(t){return new o.FeatureGroup(t)},o.Renderer=o.Layer.extend({options:{padding:.1},initialize:function(t){o.setOptions(this,t),o.stamp(this)},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&o.DomUtil.addClass(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update()},onRemove:function(){o.DomUtil.remove(this._container)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=o.DomUtil.getPosition(this._container),s=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),a=this._map.project(t,e),l=a.subtract(r),u=s.multiplyBy(-i).add(n).add(s).subtract(l);o.Browser.any3d?o.DomUtil.setTransform(this._container,u,i):o.DomUtil.setPosition(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new o.Bounds(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),o.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this.options.preferCanvas&&o.canvas()||o.svg()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||t===i)return!1;var e=this._paneRenderers[t];return e===i&&(e=o.SVG&&o.svg({pane:t})||o.Canvas&&o.canvas({pane:t}),this._paneRenderers[t]=e),e}}),o.Path=o.Layer.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this),this._renderer.on("update",this._update,this)},onRemove:function(){this._renderer._removePath(this),this._renderer.off("update",this._update,this)},getEvents:function(){return{zoomend:this._project,viewreset:this._reset}},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return o.setOptions(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(o.Browser.touch?10:0)}}),o.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,e){var n=t.length,o=typeof Uint8Array!=i+""?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,e,0,n-1);var r,a=[];for(r=0;n>r;r++)s[r]&&a.push(t[r]);return a},_simplifyDPStep:function(t,e,i,n,o){var s,r,a,l=0;for(r=n+1;o-1>=r;r++)a=this._sqClosestPointOnSegment(t[r],t[n],t[o],!0),a>l&&(s=r,l=a);l>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n,o){var s,r,a,l=n?this._lastCode:this._getBitCode(t,i),u=this._getBitCode(e,i);for(this._lastCode=u;;){if(!(l|u))return[t,e];if(l&u)return!1;s=l||u,r=this._getEdgeIntersection(t,e,s,i,o),a=this._getBitCode(r,i),s===l?(t=r,l=a):(e=r,u=a)}},_getEdgeIntersection:function(t,e,i,n,s){var r,a,l=e.x-t.x,u=e.y-t.y,c=n.min,h=n.max;return 8&i?(r=t.x+l*(h.y-t.y)/u,a=h.y):4&i?(r=t.x+l*(c.y-t.y)/u,a=c.y):2&i?(r=h.x,a=t.y+u*(h.x-t.x)/l):1&i&&(r=c.x,a=t.y+u*(c.x-t.x)/l),new o.Point(r,a,s)},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,i,n){var s,r=e.x,a=e.y,l=i.x-r,u=i.y-a,c=l*l+u*u;return c>0&&(s=((t.x-r)*l+(t.y-a)*u)/c,s>1?(r=i.x,a=i.y):s>0&&(r+=l*s,a+=u*s)),l=t.x-r,u=t.y-a,n?l*l+u*u:new o.Point(r,a)}},o.Polyline=o.Path.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){o.setOptions(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,s=null,r=o.LineUtil._sqClosestPointOnSegment,a=0,l=this._parts.length;l>a;a++)for(var u=this._parts[a],c=1,h=u.length;h>c;c++){e=u[c-1],i=u[c];var d=r(t,e,i,!0);n>d&&(n=d,s=r(t,e,i))}return s&&(s.distance=Math.sqrt(n)),s},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,r,a=this._rings[0],l=a.length;if(!l)return null;for(t=0,e=0;l-1>t;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;l-1>t;t++)if(o=a[t],s=a[t+1],i=o.distanceTo(s),n+=i,n>e)return r=(n-e)/i,this._map.layerPointToLatLng([s.x-r*(s.x-o.x),s.y-r*(s.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=o.latLng(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new o.LatLngBounds,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return o.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=o.Polyline._flat(t),n=0,s=t.length;s>n;n++)i?(e[n]=o.latLng(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new o.Bounds;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new o.Point(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,s,r=t[0]instanceof o.LatLng,a=t.length;if(r){for(s=[],n=0;a>n;n++)s[n]=this._map.latLngToLayerPoint(t[n]),i.extend(s[n]);e.push(s)}else for(n=0;a>n;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,i,n,s,r,a,l,u=this._parts;for(e=0,n=0,s=this._rings.length;s>e;e++)for(l=this._rings[e],i=0,r=l.length;r-1>i;i++)a=o.LineUtil.clipSegment(l[i],l[i+1],t,i,!0),a&&(u[n]=u[n]||[],u[n].push(a[0]),a[1]===l[i+1]&&i!==r-2||(u[n].push(a[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;n>i;i++)t[i]=o.LineUtil.simplify(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)}}),o.polyline=function(t,e){return new o.Polyline(t,e)},o.Polyline._flat=function(t){return!o.Util.isArray(t[0])||"object"!=typeof t[0][0]&&"undefined"!=typeof t[0][0]},o.PolyUtil={},o.PolyUtil.clipPolygon=function(t,e,i){var n,s,r,a,l,u,c,h,d,p=[1,4,2,8],f=o.LineUtil;for(s=0,c=t.length;c>s;s++)t[s]._code=f._getBitCode(t[s],e);for(a=0;4>a;a++){for(h=p[a],n=[],s=0,c=t.length,r=c-1;c>s;r=s++)l=t[s],u=t[r],l._code&h?u._code&h||(d=f._getEdgeIntersection(u,l,h,e,i),d._code=f._getBitCode(d,e),n.push(d)):(u._code&h&&(d=f._getEdgeIntersection(u,l,h,e,i),d._code=f._getBitCode(d,e),n.push(d)),n.push(l));t=n}return t},o.Polygon=o.Polyline.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,s,r,a,l,u=this._rings[0],c=u.length;if(!c)return null;for(s=r=a=0,t=0,e=c-1;c>t;e=t++)i=u[t],n=u[e],o=i.y*n.x-n.y*i.x,r+=(i.x+n.x)*o,a+=(i.y+n.y)*o,s+=3*o;return l=0===s?u[0]:[r/s,a/s],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var e=o.Polyline.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof o.LatLng&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){o.Polyline.prototype._setLatLngs.call(this,t),o.Polyline._flat(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return o.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new o.Point(e,e);if(t=new o.Bounds(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var n,s=0,r=this._rings.length;r>s;s++)n=o.PolyUtil.clipPolygon(this._rings[s],t,!0),n.length&&this._parts.push(n)}},_updatePath:function(){this._renderer._updatePoly(this,!0)}}),o.polygon=function(t,e){return new o.Polygon(t,e)},o.Rectangle=o.Polygon.extend({initialize:function(t,e){o.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=o.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),o.rectangle=function(t,e){return new o.Rectangle(t,e)},o.CircleMarker=o.Path.extend({options:{fill:!0,radius:10},initialize:function(t,e){o.setOptions(this,e),this._latlng=o.latLng(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=o.latLng(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return o.Path.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new o.Bounds(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}}),o.circleMarker=function(t,e){return new o.CircleMarker(t,e)},o.Circle=o.CircleMarker.extend({initialize:function(t,e,i){if("number"==typeof e&&(e=o.extend({},i,{radius:e})),o.setOptions(this,e),this._latlng=o.latLng(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new o.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:o.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===o.CRS.Earth.distance){var s=Math.PI/180,r=this._mRadius/o.CRS.Earth.R/s,a=i.project([e+r,t]),l=i.project([e-r,t]),u=a.add(l).divideBy(2),c=i.unproject(u).lat,h=Math.acos((Math.cos(r*s)-Math.sin(e*s)*Math.sin(c*s))/(Math.cos(e*s)*Math.cos(c*s)))/s;(isNaN(h)||0===h)&&(h=r/Math.cos(Math.PI/180*e)),this._point=u.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:Math.max(Math.round(u.x-i.project([c,t-h]).x),1),this._radiusY=Math.max(Math.round(u.y-a.y),1)}else{var d=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(d).x}this._updateBounds()}}),o.circle=function(t,e,i){return new o.Circle(t,e,i)},o.SVG=o.Renderer.extend({getEvents:function(){var t=o.Renderer.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=o.SVG.create("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=o.SVG.create("g"),this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){o.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),o.DomUtil.setPosition(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=o.SVG.create("path");t.options.className&&o.DomUtil.addClass(e,t.options.className),t.options.interactive&&o.DomUtil.addClass(e,"leaflet-interactive"),this._updateStyle(t)},_addPath:function(t){this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){o.DomUtil.remove(t._path),t.removeInteractiveTarget(t._path)},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,o.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,i=t._radius,n=t._radiusY||i,o="a"+i+","+n+" 0 1,0 ",s=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+o+2*i+",0 "+o+2*-i+",0 ";this._setPath(t,s)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){o.DomUtil.toFront(t._path)},_bringToBack:function(t){o.DomUtil.toBack(t._path)}}),o.extend(o.SVG,{create:function(t){return e.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var i,n,s,r,a,l,u="";for(i=0,s=t.length;s>i;i++){for(a=t[i],n=0,r=a.length;r>n;n++)l=a[n],u+=(n?"L":"M")+l.x+" "+l.y;u+=e?o.Browser.svg?"z":"x":""}return u||"M0 0"}}),o.Browser.svg=!(!e.createElementNS||!o.SVG.create("svg").createSVGRect),o.svg=function(t){return o.Browser.svg||o.Browser.vml?new o.SVG(t):null},o.Browser.vml=!o.Browser.svg&&function(){try{var t=e.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&"object"==typeof i.adj}catch(t){return!1}}(),o.SVG.include(o.Browser.vml?{_initContainer:function(){this._container=o.DomUtil.create("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(o.Renderer.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=o.SVG.create("shape");o.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=o.SVG.create("path"),e.appendChild(t._path),this._updateStyle(t)},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;o.DomUtil.remove(e),t.removeInteractiveTarget(e)},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,s=t._container;s.stroked=!!n.stroke,s.filled=!!n.fill,n.stroke?(e||(e=t._stroke=o.SVG.create("stroke")),s.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=o.Util.isArray(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(s.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=o.SVG.create("fill")),s.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(s.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){o.DomUtil.toFront(t._container)},_bringToBack:function(t){o.DomUtil.toBack(t._container)}}:{}),o.Browser.vml&&(o.SVG.create=function(){try{return e.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return e.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()),o.Canvas=o.Renderer.extend({onAdd:function(){o.Renderer.prototype.onAdd.call(this),this._layers=this._layers||{},this._draw()},_initContainer:function(){var t=this._container=e.createElement("canvas");o.DomEvent.on(t,"mousemove",o.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_update:function(){if(!this._map._animatingZoom||!this._bounds){this._drawnLayers={},o.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=o.Browser.retina?2:1;o.DomUtil.setPosition(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",o.Browser.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_initPath:function(t){this._updateDashArray(t),this._layers[o.stamp(t)]=t},_addPath:o.Util.falseFn,_removePath:function(t){t._removed=!0,this._requestRedraw(t)},_updatePath:function(t){this._redrawBounds=t._pxBounds,this._draw(!0),t._project(),t._update(),this._draw(),this._redrawBounds=null},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e,i=t.options.dashArray.split(","),n=[];for(e=0;e<i.length;e++)n.push(Number(i[e]));t.options._dashArray=n}},_requestRedraw:function(t){if(this._map){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new o.Bounds,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])),this._redrawRequest=this._redrawRequest||o.Util.requestAnimFrame(this._redraw,this)}},_redraw:function(){this._redrawRequest=null,this._draw(!0),this._draw(),this._redrawBounds=null},_draw:function(t){this._clear=t;var e,i=this._redrawBounds;this._ctx.save(),i&&(this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,i.max.x-i.min.x,i.max.y-i.min.y),this._ctx.clip());for(var n in this._layers)e=this._layers[n],(!i||e._pxBounds&&e._pxBounds.intersects(i))&&e._updatePath(),t&&e._removed&&(delete e._removed,delete this._layers[n]);this._ctx.restore()},_updatePoly:function(t,e){var i,n,o,s,r=t._parts,a=r.length,l=this._ctx;if(a){for(this._drawnLayers[t._leaflet_id]=t,l.beginPath(),l.setLineDash&&l.setLineDash(t.options&&t.options._dashArray||[]),i=0;a>i;i++){for(n=0,o=r[i].length;o>n;n++)s=r[i][n],l[n?"lineTo":"moveTo"](s.x,s.y);e&&l.closePath()}this._fillStroke(l,t)}},_updateCircle:function(t){if(!t._empty()){var e=t._point,i=this._ctx,n=t._radius,o=(t._radiusY||n)/n;this._drawnLayers[t._leaflet_id]=t,1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=this._clear,n=e.options;t.globalCompositeOperation=i?"destination-out":"source-over",n.fill&&(t.globalAlpha=i?1:n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.globalAlpha=i?1:n.opacity,e._prevWeight=t.lineWidth=i?e._prevWeight+1:n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){var e,i=this._map.mouseEventToLayerPoint(t),n=[];for(var s in this._layers)e=this._layers[s],e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(o.DomEvent._fakeStop(t),n.push(e));n.length&&this._fireEvent(n,t)},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseOut(t,e),this._handleMouseHover(t,e)}},_handleMouseOut:function(t,e){var i=this._hoveredLayer;!i||"mouseout"!==t.type&&i._containsPoint(e)||(o.DomUtil.removeClass(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){var i,n;for(i in this._drawnLayers)n=this._drawnLayers[i],n.options.interactive&&n._containsPoint(e)&&(o.DomUtil.addClass(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n);this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:o.Util.falseFn,_bringToBack:o.Util.falseFn}),o.Browser.canvas=function(){return!!e.createElement("canvas").getContext}(),o.canvas=function(t){return o.Browser.canvas?new o.Canvas(t):null},o.Polyline.prototype._containsPoint=function(t,e){var i,n,s,r,a,l,u=this._clickTolerance();if(!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;r>i;i++)for(l=this._parts[i],n=0,a=l.length,s=a-1;a>n;s=n++)if((e||0!==n)&&o.LineUtil.pointToSegmentDistance(t,l[s],l[n])<=u)return!0;return!1},o.Polygon.prototype._containsPoint=function(t){var e,i,n,s,r,a,l,u,c=!1;if(!this._pxBounds.contains(t))return!1;for(s=0,l=this._parts.length;l>s;s++)for(e=this._parts[s],r=0,u=e.length,a=u-1;u>r;a=r++)i=e[r],n=e[a],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(c=!c);return c||o.Polyline.prototype._containsPoint.call(this,t,!0)},o.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()},o.GeoJSON=o.FeatureGroup.extend({initialize:function(t,e){o.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,s=o.Util.isArray(t)?t:t.features;if(s){for(e=0,i=s.length;i>e;e++)n=s[e],(n.geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var a=o.GeoJSON.geometryToLayer(t,r);return a?(a.feature=o.GeoJSON.asFeature(t),a.defaultOptions=a.options,this.resetStyle(a),r.onEachFeature&&r.onEachFeature(t,a),this.addLayer(a)):this},resetStyle:function(t){return t.options=o.Util.extend({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),o.extend(o.GeoJSON,{geometryToLayer:function(t,e){var i,n,s,r,a="Feature"===t.type?t.geometry:t,l=a?a.coordinates:null,u=[],c=e&&e.pointToLayer,h=e&&e.coordsToLatLng||this.coordsToLatLng;if(!l&&!a)return null;switch(a.type){case"Point":return i=h(l),c?c(t,i):new o.Marker(i);case"MultiPoint":for(s=0,r=l.length;r>s;s++)i=h(l[s]),u.push(c?c(t,i):new o.Marker(i));return new o.FeatureGroup(u);case"LineString":case"MultiLineString":return n=this.coordsToLatLngs(l,"LineString"===a.type?0:1,h),new o.Polyline(n,e);case"Polygon":case"MultiPolygon":return n=this.coordsToLatLngs(l,"Polygon"===a.type?1:2,h),new o.Polygon(n,e);case"GeometryCollection":for(s=0,r=a.geometries.length;r>s;s++){var d=this.geometryToLayer({geometry:a.geometries[s],type:"Feature",properties:t.properties},e);d&&u.push(d)}return new o.FeatureGroup(u);default:throw new Error("Invalid GeoJSON object.");
}},coordsToLatLng:function(t){return new o.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,i){for(var n,o=[],s=0,r=t.length;r>s;s++)n=e?this.coordsToLatLngs(t[s],e-1,i):(i||this.coordsToLatLng)(t[s]),o.push(n);return o},latLngToCoords:function(t){return t.alt!==i?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,i){for(var n=[],s=0,r=t.length;r>s;s++)n.push(e?o.GeoJSON.latLngsToCoords(t[s],e-1,i):o.GeoJSON.latLngToCoords(t[s]));return!e&&i&&n.push(n[0]),n},getFeature:function(t,e){return t.feature?o.extend({},t.feature,{geometry:e}):o.GeoJSON.asFeature(e)},asFeature:function(t){return"Feature"===t.type?t:{type:"Feature",properties:{},geometry:t}}});var r={toGeoJSON:function(){return o.GeoJSON.getFeature(this,{type:"Point",coordinates:o.GeoJSON.latLngToCoords(this.getLatLng())})}};o.Marker.include(r),o.Circle.include(r),o.CircleMarker.include(r),o.Polyline.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=o.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return o.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})},o.Polygon.prototype.toGeoJSON=function(){var t=!o.Polyline._flat(this._latlngs),e=t&&!o.Polyline._flat(this._latlngs[0]),i=o.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,!0);return t||(i=[i]),o.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:i})},o.LayerGroup.include({toMultiPoint:function(){var t=[];return this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)}),o.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint();var e="GeometryCollection"===t,i=[];return this.eachLayer(function(t){if(t.toGeoJSON){var n=t.toGeoJSON();i.push(e?n.geometry:o.GeoJSON.asFeature(n))}}),e?o.GeoJSON.getFeature(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}}),o.geoJSON=function(t,e){return new o.GeoJSON(t,e)},o.geoJson=o.geoJSON;var a="_leaflet_events";o.DomEvent={on:function(t,e,i,n){if("object"==typeof e)for(var s in e)this._on(t,s,e[s],i);else{e=o.Util.splitWords(e);for(var r=0,a=e.length;a>r;r++)this._on(t,e[r],i,n)}return this},off:function(t,e,i,n){if("object"==typeof e)for(var s in e)this._off(t,s,e[s],i);else{e=o.Util.splitWords(e);for(var r=0,a=e.length;a>r;r++)this._off(t,e[r],i,n)}return this},_on:function(e,i,n,s){var r=i+o.stamp(n)+(s?"_"+o.stamp(s):"");if(e[a]&&e[a][r])return this;var l=function(i){return n.call(s||e,i||t.event)},u=l;return o.Browser.pointer&&0===i.indexOf("touch")?this.addPointerListener(e,i,l,r):o.Browser.touch&&"dblclick"===i&&this.addDoubleTapListener?this.addDoubleTapListener(e,l,r):"addEventListener"in e?"mousewheel"===i?e.addEventListener("onwheel"in e?"wheel":"mousewheel",l,!1):"mouseenter"===i||"mouseleave"===i?(l=function(i){i=i||t.event,o.DomEvent._isExternalTarget(e,i)&&u(i)},e.addEventListener("mouseenter"===i?"mouseover":"mouseout",l,!1)):("click"===i&&o.Browser.android&&(l=function(t){return o.DomEvent._filterClick(t,u)}),e.addEventListener(i,l,!1)):"attachEvent"in e&&e.attachEvent("on"+i,l),e[a]=e[a]||{},e[a][r]=l,this},_off:function(t,e,i,n){var s=e+o.stamp(i)+(n?"_"+o.stamp(n):""),r=t[a]&&t[a][s];return r?(o.Browser.pointer&&0===e.indexOf("touch")?this.removePointerListener(t,e,s):o.Browser.touch&&"dblclick"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,s):"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r),t[a][s]=null,this):this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,o.DomEvent._skipped(t),this},disableScrollPropagation:function(t){return o.DomEvent.on(t,"mousewheel",o.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=o.DomEvent.stopPropagation;return o.DomEvent.on(t,o.Draggable.START.join(" "),e),o.DomEvent.on(t,{click:o.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return o.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e)return new o.Point(t.clientX,t.clientY);var i=e.getBoundingClientRect();return new o.Point(t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop)},_wheelPxFactor:o.Browser.win&&o.Browser.chrome?2:o.Browser.gecko?t.devicePixelRatio:1,getWheelDelta:function(t){return o.Browser.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/o.DomEvent._wheelPxFactor:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){o.DomEvent._skipEvents[t.type]=!0},_skipped:function(t){var e=this._skipEvents[t.type];return this._skipEvents[t.type]=!1,e},_isExternalTarget:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t},_filterClick:function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=o.DomEvent._lastClick&&i-o.DomEvent._lastClick;return n&&n>100&&500>n||t.target._simulatedClick&&!t._simulated?void o.DomEvent.stop(t):(o.DomEvent._lastClick=i,void e(t))}},o.DomEvent.addListener=o.DomEvent.on,o.DomEvent.removeListener=o.DomEvent.off,o.Draggable=o.Evented.extend({options:{clickTolerance:3},statics:{START:o.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,i){this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(o.DomEvent.on(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(o.DomEvent.off(this._dragStartTarget,o.Draggable.START.join(" "),this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!o.DomUtil.hasClass(this._element,"leaflet-zoom-anim")&&!(o.Draggable._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&this._enabled&&(o.Draggable._dragging=!0,this._preventOutline&&o.DomUtil.preventOutline(this._element),o.DomUtil.disableImageDrag(),o.DomUtil.disableTextSelection(),!this._moving))){this.fire("down");var i=t.touches?t.touches[0]:t;this._startPoint=new o.Point(i.clientX,i.clientY),o.DomEvent.on(e,o.Draggable.MOVE[t.type],this._onMove,this).on(e,o.Draggable.END[t.type],this._onUp,this)}},_onMove:function(i){if(!i._simulated&&this._enabled){if(i.touches&&i.touches.length>1)return void(this._moved=!0);var n=i.touches&&1===i.touches.length?i.touches[0]:i,s=new o.Point(n.clientX,n.clientY),r=s.subtract(this._startPoint);(r.x||r.y)&&(Math.abs(r.x)+Math.abs(r.y)<this.options.clickTolerance||(o.DomEvent.preventDefault(i),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=o.DomUtil.getPosition(this._element).subtract(r),o.DomUtil.addClass(e.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,t.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),o.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(r),this._moving=!0,o.Util.cancelAnimFrame(this._animRequest),this._lastEvent=i,this._animRequest=o.Util.requestAnimFrame(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),o.DomUtil.setPosition(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){if(!t._simulated&&this._enabled){o.DomUtil.removeClass(e.body,"leaflet-dragging"),this._lastTarget&&(o.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var i in o.Draggable.MOVE)o.DomEvent.off(e,o.Draggable.MOVE[i],this._onMove,this).off(e,o.Draggable.END[i],this._onUp,this);o.DomUtil.enableImageDrag(),o.DomUtil.enableTextSelection(),this._moved&&this._moving&&(o.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,o.Draggable._dragging=!1}}}),o.Handler=o.Class.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}}),o.Map.mergeOptions({dragging:!0,inertia:!o.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),o.Map.Drag=o.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new o.Draggable(t._mapPane,t._container),this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}o.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-grab"),o.DomUtil.removeClass(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=o.latLngBounds(this._map.options.maxBounds);this._offsetLimit=o.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),e-this._times[0]>50&&(this._positions.shift(),this._times.shift())}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,r=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{var s=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,a=i.easeLinearity,l=s.multiplyBy(a/r),u=l.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,u),h=l.multiplyBy(c/u),d=c/(i.inertiaDeceleration*a),p=h.multiplyBy(-d/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),o.Util.requestAnimFrame(function(){e.panBy(p,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}}),o.Map.addInitHook("addHandler","dragging",o.Map.Drag),o.Map.mergeOptions({doubleClickZoom:!0}),o.Map.DoubleClickZoom=o.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}}),o.Map.addInitHook("addHandler","doubleClickZoom",o.Map.DoubleClickZoom),o.Map.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),o.Map.ScrollWheelZoom=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){o.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=o.DomEvent.getWheelDelta(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o.bind(this._performZoom,this),n),o.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,s=i?Math.ceil(o/i)*i:o,r=t._limitZoom(e+(this._delta>0?s:-s))-e;this._delta=0,this._startTime=null,r&&("center"===t.options.scrollWheelZoom?t.setZoom(e+r):t.setZoomAround(this._lastMousePos,e+r))}}),o.Map.addInitHook("addHandler","scrollWheelZoom",o.Map.ScrollWheelZoom),o.extend(o.DomEvent,{_touchstart:o.Browser.msPointer?"MSPointerDown":o.Browser.pointer?"pointerdown":"touchstart",_touchend:o.Browser.msPointer?"MSPointerUp":o.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,i){function n(t){var e;if(e=o.Browser.pointer?o.DomEvent._pointersCount:t.touches.length,!(e>1)){var i=Date.now(),n=i-(r||i);a=t.touches?t.touches[0]:t,l=n>0&&u>=n,r=i}}function s(){if(l&&!a.cancelBubble){if(o.Browser.pointer){var t,i,n={};for(i in a)t=a[i],n[i]=t&&t.bind?t.bind(a):t;a=n}a.type="dblclick",e(a),r=null}}var r,a,l=!1,u=250,c="_leaflet_",h=this._touchstart,d=this._touchend;return t[c+h+i]=n,t[c+d+i]=s,t[c+"dblclick"+i]=e,t.addEventListener(h,n,!1),t.addEventListener(d,s,!1),o.Browser.edge||t.addEventListener("dblclick",e,!1),this},removeDoubleTapListener:function(t,e){var i="_leaflet_",n=t[i+this._touchstart+e],s=t[i+this._touchend+e],r=t[i+"dblclick"+e];return t.removeEventListener(this._touchstart,n,!1),t.removeEventListener(this._touchend,s,!1),o.Browser.edge||t.removeEventListener("dblclick",r,!1),this}}),o.extend(o.DomEvent,{POINTER_DOWN:o.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:o.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:o.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:o.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,i,n){return"touchstart"===e?this._addPointerStart(t,i,n):"touchmove"===e?this._addPointerMove(t,i,n):"touchend"===e&&this._addPointerEnd(t,i,n),this},removePointerListener:function(t,e,i){var n=t["_leaflet_"+e+i];return"touchstart"===e?t.removeEventListener(this.POINTER_DOWN,n,!1):"touchmove"===e?t.removeEventListener(this.POINTER_MOVE,n,!1):"touchend"===e&&(t.removeEventListener(this.POINTER_UP,n,!1),t.removeEventListener(this.POINTER_CANCEL,n,!1)),this},_addPointerStart:function(t,i,n){var s=o.bind(function(t){if("mouse"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0))return;o.DomEvent.preventDefault(t)}this._handlePointer(t,i)},this);if(t["_leaflet_touchstart"+n]=s,t.addEventListener(this.POINTER_DOWN,s,!1),!this._pointerDocListener){var r=o.bind(this._globalPointerUp,this);e.documentElement.addEventListener(this.POINTER_DOWN,o.bind(this._globalPointerDown,this),!0),e.documentElement.addEventListener(this.POINTER_MOVE,o.bind(this._globalPointerMove,this),!0),e.documentElement.addEventListener(this.POINTER_UP,r,!0),e.documentElement.addEventListener(this.POINTER_CANCEL,r,!0),this._pointerDocListener=!0}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t,this._pointersCount++},_globalPointerMove:function(t){this._pointers[t.pointerId]&&(this._pointers[t.pointerId]=t)},_globalPointerUp:function(t){delete this._pointers[t.pointerId],this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var i in this._pointers)t.touches.push(this._pointers[i]);t.changedTouches=[t],e(t)},_addPointerMove:function(t,e,i){var n=o.bind(function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&this._handlePointer(t,e)},this);t["_leaflet_touchmove"+i]=n,t.addEventListener(this.POINTER_MOVE,n,!1)},_addPointerEnd:function(t,e,i){var n=o.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+i]=n,t.addEventListener(this.POINTER_UP,n,!1),t.addEventListener(this.POINTER_CANCEL,n,!1)}}),o.Map.mergeOptions({touchZoom:o.Browser.touch&&!o.Browser.android23,bounceAtZoomLimits:!0}),o.Map.TouchZoom=o.Handler.extend({addHooks:function(){o.DomUtil.addClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){o.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom"),o.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(t.touches&&2===t.touches.length&&!i._animatingZoom&&!this._zooming){var n=i.mouseEventToContainerPoint(t.touches[0]),s=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(n.add(s)._divideBy(2))),this._startDist=n.distanceTo(s),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),o.DomEvent.on(e,"touchmove",this._onTouchMove,this).on(e,"touchend",this._onTouchEnd,this),o.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),s=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(s,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&1>s||this._zoom>e.getMaxZoom()&&s>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===s)return}else{var r=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===s&&0===r.x&&0===r.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(r),this._zoom)}this._moved||(e._moveStart(!0),this._moved=!0),o.Util.cancelAnimFrame(this._animRequest);var a=o.bind(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=o.Util.requestAnimFrame(a,this,!0),o.DomEvent.preventDefault(t)}},_onTouchEnd:function(){return this._moved&&this._zooming?(this._zooming=!1,o.Util.cancelAnimFrame(this._animRequest),o.DomEvent.off(e,"touchmove",this._onTouchMove).off(e,"touchend",this._onTouchEnd),void(this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom)))):void(this._zooming=!1)}}),o.Map.addInitHook("addHandler","touchZoom",o.Map.TouchZoom),o.Map.mergeOptions({tap:!0,tapTolerance:15}),o.Map.Tap=o.Handler.extend({addHooks:function(){o.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){o.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(o.DomEvent.preventDefault(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var i=t.touches[0],n=i.target;this._startPos=this._newPos=new o.Point(i.clientX,i.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.addClass(n,"leaflet-active"),this._holdTimeout=setTimeout(o.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",i))},this),1e3),this._simulateEvent("mousedown",i),o.DomEvent.on(e,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),o.DomEvent.off(e,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var i=t.changedTouches[0],n=i.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&o.DomUtil.removeClass(n,"leaflet-active"),this._simulateEvent("mouseup",i),this._isTapValid()&&this._simulateEvent("click",i)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new o.Point(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(i,n){var o=e.createEvent("MouseEvents");o._simulated=!0,n.target._simulatedClick=!0,o.initMouseEvent(i,!0,!0,t,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),n.target.dispatchEvent(o)}}),o.Browser.touch&&!o.Browser.pointer&&o.Map.addInitHook("addHandler","tap",o.Map.Tap),o.Map.mergeOptions({boxZoom:!0}),o.Map.BoxZoom=o.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){o.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){o.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=!1},_onMouseDown:function(t){return!(!t.shiftKey||1!==t.which&&1!==t.button)&&(this._resetState(),o.DomUtil.disableTextSelection(),o.DomUtil.disableImageDrag(),this._startPoint=this._map.mouseEventToContainerPoint(t),void o.DomEvent.on(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this))},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=o.DomUtil.create("div","leaflet-zoom-box",this._container),o.DomUtil.addClass(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new o.Bounds(this._point,this._startPoint),i=e.getSize();o.DomUtil.setPosition(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(o.DomUtil.remove(this._box),o.DomUtil.removeClass(this._container,"leaflet-crosshair")),o.DomUtil.enableTextSelection(),o.DomUtil.enableImageDrag(),o.DomEvent.off(e,{contextmenu:o.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){setTimeout(o.bind(this._resetState,this),0);var e=new o.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}}),o.Map.addInitHook("addHandler","boxZoom",o.Map.BoxZoom),o.Map.mergeOptions({keyboard:!0,keyboardPanDelta:80}),o.Map.Keyboard=o.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),o.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),o.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=e.body,n=e.documentElement,o=i.scrollTop||n.scrollTop,s=i.scrollLeft||n.scrollLeft;this._map._container.focus(),t.scrollTo(s,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){o.DomEvent.on(e,"keydown",this._onKeyDown,this)},_removeHooks:function(){o.DomEvent.off(e,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys){if(n._panAnim&&n._panAnim._inProgress)return;e=this._panKeys[i],t.shiftKey&&(e=o.point(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds)}else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i)return;n.closePopup()}o.DomEvent.stop(t)}}}),o.Map.addInitHook("addHandler","keyboard",o.Map.Keyboard),o.Handler.MarkerDrag=o.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new o.Draggable(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),o.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&o.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,i=e._shadow,n=o.DomUtil.getPosition(e._icon),s=e._map.layerPointToLatLng(n);i&&o.DomUtil.setPosition(i,n),e._latlng=s,t.latlng=s,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),o.Control=o.Class.extend({options:{position:"topright"},initialize:function(t){o.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return o.DomUtil.addClass(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(o.DomUtil.remove(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),o.control=function(t){return new o.Control(t)},o.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,s){var r=i+t+" "+i+s;e[t+s]=o.DomUtil.create("div",r,n)}var e=this._controlCorners={},i="leaflet-",n=this._controlContainer=o.DomUtil.create("div",i+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){o.DomUtil.remove(this._controlContainer)}}),o.Control.Zoom=o.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=o.DomUtil.create("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,s){var r=o.DomUtil.create("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,o.DomEvent.on(r,"mousedown dblclick",o.DomEvent.stopPropagation).on(r,"click",o.DomEvent.stop).on(r,"click",s,this).on(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";o.DomUtil.removeClass(this._zoomInButton,e),o.DomUtil.removeClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&o.DomUtil.addClass(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&o.DomUtil.addClass(this._zoomInButton,e)}}),o.Map.mergeOptions({zoomControl:!0}),o.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new o.Control.Zoom,this.addControl(this.zoomControl))}),o.control.zoom=function(t){return new o.Control.Zoom(t)},o.Control.Attribution=o.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){o.setOptions(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=o.DomUtil.create("div","leaflet-control-attribution"),o.DomEvent&&o.DomEvent.disableClickPropagation(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}}),o.Map.mergeOptions({attributionControl:!0}),o.Map.addInitHook(function(){this.options.attributionControl&&(new o.Control.Attribution).addTo(this)}),o.control.attribution=function(t){return new o.Control.Attribution(t)},o.Control.Scale=o.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",i=o.DomUtil.create("div",e),n=this.options;return this._addScales(n,e+"-line",i),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),i},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=o.DomUtil.create("div",e,i)),t.imperial&&(this._iScale=o.DomUtil.create("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=1e3>e?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;
return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),o.control.scale=function(t){return new o.Control.Scale(t)},o.Control.Layers=o.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1},initialize:function(t,e,i){o.setOptions(this,i),this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){return this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this),this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(o.stamp(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){o.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._form.clientHeight?(o.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=t+"px"):o.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return o.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=o.DomUtil.create("div",t);e.setAttribute("aria-haspopup",!0),o.DomEvent.disableClickPropagation(e),o.Browser.touch||o.DomEvent.disableScrollPropagation(e);var i=this._form=o.DomUtil.create("form",t+"-list");if(this.options.collapsed){o.Browser.android||o.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this);var n=this._layersLink=o.DomUtil.create("a",t+"-toggle",e);n.href="#",n.title="Layers",o.Browser.touch?o.DomEvent.on(n,"click",o.DomEvent.stop).on(n,"click",this.expand,this):o.DomEvent.on(n,"focus",this.expand,this),o.DomEvent.on(i,"click",function(){setTimeout(o.bind(this._onInputClick,this),0)},this),this._map.on("click",this.collapse,this)}else this.expand();this._baseLayersList=o.DomUtil.create("div",t+"-base",i),this._separator=o.DomUtil.create("div",t+"-separator",i),this._overlaysList=o.DomUtil.create("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&o.stamp(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(!this._container)return this;o.DomUtil.empty(this._baseLayersList),o.DomUtil.empty(this._overlaysList);var t,e,i,n,s=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,s+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&s>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(o.stamp(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,i){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",o=e.createElement("div");return o.innerHTML=n,o.firstChild},_addItem:function(t){var i,n=e.createElement("label"),s=this._map.hasLayer(t.layer);t.overlay?(i=e.createElement("input"),i.type="checkbox",i.className="leaflet-control-layers-selector",i.defaultChecked=s):i=this._createRadioElement("leaflet-base-layers",s),i.layerId=o.stamp(t.layer),o.DomEvent.on(i,"click",this._onInputClick,this);var r=e.createElement("span");r.innerHTML=" "+t.name;var a=e.createElement("div");n.appendChild(a),a.appendChild(i),a.appendChild(r);var l=t.overlay?this._overlaysList:this._baseLayersList;return l.appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,i,n=this._form.getElementsByTagName("input"),o=[],s=[];this._handlingClick=!0;for(var r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,i=this._map.hasLayer(e),t.checked&&!i?o.push(e):!t.checked&&i&&s.push(e);for(r=0;r<s.length;r++)this._map.removeLayer(s[r]);for(r=0;r<o.length;r++)this._map.addLayer(o[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._form.getElementsByTagName("input"),o=this._map.getZoom(),s=n.length-1;s>=0;s--)t=n[s],e=this._getLayer(t.layerId).layer,t.disabled=e.options.minZoom!==i&&o<e.options.minZoom||e.options.maxZoom!==i&&o>e.options.maxZoom},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),o.control.layers=function(t,e,i){return new o.Control.Layers(t,e,i)},o.PosAnimation=o.Evented.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=o.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=o.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;i>e?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),o.DomUtil.setPosition(this._el,i),this.fire("step")},_complete:function(){o.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),o.Map.include({setView:function(t,e,n){if(e=e===i?this._zoom:this._limitZoom(e),t=this._limitCenter(o.latLng(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&n!==!0){n.animate!==i&&(n.zoom=o.extend({animate:n.animate},n.zoom),n.pan=o.extend({animate:n.animate,duration:n.duration},n.pan));var s=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(s)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e){if(t=o.point(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new o.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){o.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){o.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._floor();return!((e&&e.animate)!==!0&&!this.getSize().contains(i)||(this.panBy(i,e),0))}}),o.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4});var l=o.DomUtil.TRANSITION&&o.Browser.any3d&&!o.Browser.mobileOpera;l&&o.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),o.DomEvent.on(this._proxy,o.DomUtil.TRANSITION_END,this._catchTransitionEnd,this))}),o.Map.include(l?{_createAnimProxy:function(){var t=this._proxy=o.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var i=o.DomUtil.TRANSFORM,n=t.style[i];o.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===t.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var e=this.getCenter(),i=this.getZoom();o.DomUtil.setTransform(t,this.project(e,i),this.getZoomScale(i,1))},this)},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),s=this._getCenterOffset(t)._divideBy(1-1/n);return!(i.animate!==!0&&!this.getSize().contains(s)||(o.Util.requestAnimFrame(function(){this._moveStart(!0)._animateZoom(t,e,!0)},this),0))},_animateZoom:function(t,e,i,n){i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,o.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){this._animatingZoom&&(o.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),o.Util.requestAnimFrame(function(){this._moveEnd(!0)},this))}}:{}),o.Map.include({flyTo:function(t,e,n){function s(t){var e=t?-1:1,i=t?v:_,n=v*v-_*_+e*x*x*y*y,o=2*i*x*y,s=n/o,r=Math.sqrt(s*s+1)-s,a=1e-9>r?-18:Math.log(r);return a}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return r(t)/a(t)}function u(t){return _*(a(w)/a(w+b*t))}function c(t){return _*(a(w)*l(w+b*t)-r(w))/x}function h(t){return 1-Math.pow(1-t,1.5)}function d(){var i=(Date.now()-C)/T,n=h(i)*S;1>=i?(this._flyToFrame=o.Util.requestAnimFrame(d,this),this._move(this.unproject(p.add(f.subtract(p).multiplyBy(c(n)/y)),g),this.getScaleZoom(_/u(n),g),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},n.animate===!1||!o.Browser.any3d)return this.setView(t,e,n);this._stop();var p=this.project(this.getCenter()),f=this.project(t),m=this.getSize(),g=this._zoom;t=o.latLng(t),e=e===i?g:e;var _=Math.max(m.x,m.y),v=_*this.getZoomScale(g,e),y=f.distanceTo(p)||1,b=1.42,x=b*b,w=s(0),C=Date.now(),S=(s(1)-w)/b,T=n.duration?1e3*n.duration:1e3*S*.8;return this._moveStart(!0),d.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)}}),o.Map.include({_defaultLocateOptions:{timeout:1e4,watch:!1},locate:function(t){if(t=this._locateOptions=o.extend({},this._defaultLocateOptions,t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o.bind(this._handleGeolocationResponse,this),i=o.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,i,t):navigator.geolocation.getCurrentPosition(e,i,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,i=t.coords.longitude,n=new o.LatLng(e,i),s=n.toBounds(t.coords.accuracy),r=this._locateOptions;if(r.setView){var a=this.getBoundsZoom(s);this.setView(n,r.maxZoom?Math.min(a,r.maxZoom):a)}var l={latlng:n,bounds:s,timestamp:t.timestamp};for(var u in t.coords)"number"==typeof t.coords[u]&&(l[u]=t.coords[u]);this.fire("locationfound",l)}})}(window,document),L.Control.Sidebar=L.Control.extend({includes:L.Mixin.Events,options:{position:"left"},initialize:function(t,e){var i,n;for(L.setOptions(this,e),this._sidebar=L.DomUtil.get(t),L.DomUtil.addClass(this._sidebar,"sidebar-"+this.options.position),L.Browser.touch&&L.DomUtil.addClass(this._sidebar,"leaflet-touch"),i=this._sidebar.children.length-1;i>=0;i--)n=this._sidebar.children[i],"DIV"==n.tagName&&L.DomUtil.hasClass(n,"sidebar-content")&&(this._container=n);for(this._tabitems=this._sidebar.querySelectorAll("ul.sidebar-tabs > li, .sidebar-tabs > ul > li"),i=this._tabitems.length-1;i>=0;i--)this._tabitems[i]._sidebar=this;for(this._panes=[],this._closeButtons=[],i=this._container.children.length-1;i>=0;i--)if(n=this._container.children[i],"DIV"==n.tagName&&L.DomUtil.hasClass(n,"sidebar-pane")){this._panes.push(n);for(var o=n.querySelectorAll(".sidebar-close"),s=0,r=o.length;r>s;s++)this._closeButtons.push(o[s])}},addTo:function(t){var e,i;for(this._map=t,e=this._tabitems.length-1;e>=0;e--)i=this._tabitems[e],L.DomEvent.on(i.querySelector("a"),"click",L.DomEvent.preventDefault).on(i.querySelector("a"),"click",this._onClick,i);for(e=this._closeButtons.length-1;e>=0;e--)i=this._closeButtons[e],L.DomEvent.on(i,"click",this._onCloseClick,this);return this},removeFrom:function(){var t,e;for(this._map=null,t=this._tabitems.length-1;t>=0;t--)e=this._tabitems[t],L.DomEvent.off(e.querySelector("a"),"click",this._onClick);for(t=this._closeButtons.length-1;t>=0;t--)e=this._closeButtons[t],L.DomEvent.off(e,"click",this._onCloseClick,this);return this},open:function(t){var e,i;for(e=this._panes.length-1;e>=0;e--)i=this._panes[e],i.id==t?L.DomUtil.addClass(i,"active"):L.DomUtil.hasClass(i,"active")&&L.DomUtil.removeClass(i,"active");for(e=this._tabitems.length-1;e>=0;e--)i=this._tabitems[e],i.querySelector("a").hash=="#"+t?L.DomUtil.addClass(i,"active"):L.DomUtil.hasClass(i,"active")&&L.DomUtil.removeClass(i,"active");return this.fire("content",{id:t}),L.DomUtil.hasClass(this._sidebar,"collapsed")&&(this.fire("opening"),L.DomUtil.removeClass(this._sidebar,"collapsed")),this},close:function(){for(var t=this._tabitems.length-1;t>=0;t--){var e=this._tabitems[t];L.DomUtil.hasClass(e,"active")&&L.DomUtil.removeClass(e,"active")}return L.DomUtil.hasClass(this._sidebar,"collapsed")||(this.fire("closing"),L.DomUtil.addClass(this._sidebar,"collapsed")),this},_onClick:function(){L.DomUtil.hasClass(this,"active")?this._sidebar.close():L.DomUtil.hasClass(this,"disabled")||this._sidebar.open(this.querySelector("a").hash.slice(1))},_onCloseClick:function(){this.close()}}),L.control.sidebar=function(t,e){return new L.Control.Sidebar(t,e)},L.FunctionButtons=L.Control.extend({includes:L.Mixin.Events,initialize:function(t,e){"push"in t&&"splice"in t||(t=[t]),this._buttons=t,!e&&t.length>0&&"position"in t[0]&&(e={position:t[0].position}),L.Control.prototype.initialize.call(this,e)},onAdd:function(t){this._map=t,this._links=[];for(var e=L.DomUtil.create("div","leaflet-bar"),i=0;i<this._buttons.length;i++){var n=this._buttons[i],o=L.DomUtil.create("a","btn btn-xs btn-success no-color",e);o._buttonIndex=i,o.href=n.href||"#",n.href&&(o.target="funcbtn"),o.style.width="auto",o.style.minWidth="20px",n.bgColor&&(o.style.backgroundColor=n.bgColor),n.title&&(o.title=n.title),n.link=o,this._updateContent(i);var s=L.DomEvent.stopPropagation;L.DomEvent.on(o,"click",s).on(o,"mousedown",s).on(o,"dblclick",s),n.href||L.DomEvent.on(o,"click",L.DomEvent.preventDefault).on(o,"click",this.clicked,this)}return e},_updateContent:function(t){if(!(t>=this._buttons.length)){var e=this._buttons[t],i=e.link,n=e.content;if(i)if(void 0===n||n===!1||null===n||""===n)i.innerHTML=e.alt||"&nbsp;";else if("string"==typeof n){var o=n.length<4?"":n.substring(n.length-4),s="data:image/"===n.substring(0,11);".png"===o||".gif"===o||".jpg"===o||s?(i.style.width=""+(e.imageSize||26)+"px",i.style.height=""+(e.imageSize||26)+"px",i.style.padding="0",i.style.backgroundImage="url("+n+")",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition=e.bgPos?-e.bgPos[0]+"px "+-e.bgPos[1]+"px":"0px 0px"):i.innerHTML=n}else{for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(n)}}},setContent:function(t,e){void 0===e&&(e=t,t=0),t<this._buttons.length&&(this._buttons[t].content=e,this._updateContent(t))},setTitle:function(t,e){if(void 0===e&&(e=t,t=0),t<this._buttons.length){var i=this._buttons[t];i.title=e,i.link&&(i.link.title=e)}},setBgPos:function(t,e){if(void 0===e&&(e=t,t=0),t<this._buttons.length){var i=this._buttons[t];i.bgPos=e,i.link&&(i.link.style.backgroundPosition=e?-e[0]+"px "+-e[1]+"px":"0px 0px")}},setHref:function(t,e){if(void 0===e&&(e=t,t=0),t<this._buttons.length){var i=this._buttons[t];i.href=e,i.link&&(i.link.href=e)}},clicked:function(t){for(var e=window.event&&window.event.srcElement||t.target||t.srcElement;e&&"tagName"in e&&"A"!==e.tagName&&!("_buttonIndex"in e);)e=e.parentNode;if("_buttonIndex"in e){var i=this._buttons[e._buttonIndex];i&&("callback"in i&&i.callback.call(i.context),this.fire("clicked",{idx:e._buttonIndex}))}}}),L.functionButtons=function(t,e){return new L.FunctionButtons(t,e)},L.functionButton=function(t,e,i){return e?e.content=t:e={content:t},L.functionButtons([e],i)},!function(t,e,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[];var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this;if(!this._map)return this._needsClustering.push(t),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off("move",this._childMarkerMoved,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push(t),this):(this._nonPointGroup.removeLayer(t),this)},addLayers:function(t){if(!L.Util.isArray(t))return this.addLayer(t);var e,i=this._featureGroup,n=this._nonPointGroup,o=this.options.chunkedLoading,s=this.options.chunkInterval,r=this.options.chunkProgress,a=t.length,l=0,u=!0;if(this._map){var c=(new Date).getTime(),h=L.bind(function(){for(var d=(new Date).getTime();a>l;l++){if(o&&0===l%200){var p=(new Date).getTime()-d;if(p>s)break}if(e=t[l],e instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(e,t),a=t.length;else if(e.getLatLng){if(!this.hasLayer(e)&&(this._addLayer(e,this._maxZoom),e.__parent&&2===e.__parent.getChildCount())){var f=e.__parent.getAllChildMarkers(),m=f[0]===e?f[1]:f[0];i.removeLayer(m)}}else n.addLayer(e)}r&&r(l,a,(new Date).getTime()-c),l===a?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)},this);h()}else for(var d=this._needsClustering;a>l;l++)e=t[l],e instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(e,t),a=t.length):e.getLatLng?this.hasLayer(e)||d.push(e):n.addLayer(e);return this},removeLayers:function(t){var e,i,n=t.length,o=this._featureGroup,s=this._nonPointGroup,r=!0;if(!this._map){for(e=0;n>e;e++)i=t[e],i instanceof L.LayerGroup?(r&&(t=t.slice(),r=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),s.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push(i));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),l=n;for(e=0;l>e;e++)i=a[e],i instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),l=a.length):this._unspiderfyLayer(i)}for(e=0;n>e;e++)i=t[e],i instanceof L.LayerGroup?(r&&(t=t.slice(),r=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):s.removeLayer(i);return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(t){t.off("move",this._childMarkerMoved,this),delete t.__parent}),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n=this._needsClustering.slice(),o=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(n),i=n.length-1;i>=0;i--)-1===o.indexOf(n[i])&&t.call(e,n[i]);this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer(function(e){t.push(e)}),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer(function(i){L.stamp(i)===t&&(e=i)}),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(i=this._needsRemoving,e=i.length-1;e>=0;e--)if(i[e]===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};if(t._icon&&this._map.getBounds().contains(t.getLatLng()))e();else if(t.__parent._zoom<Math.round(this._map._zoom))this._map.on("moveend",i,this),this._map.panTo(t.getLatLng());else{var n=function(){this._map.off("movestart",n,this),n=null};this._map.on("movestart",n,this),this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds(),n&&i.call(this)}},onAdd:function(t){this._map=t;var e,i,n;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;i>e;e++)n=this._needsRemoving[e],this._removeLayer(n,!0);this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered;e>=0&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerMoved:function(t){this._ignoreMove||(t.target._latlng=t.oldLatLng,this.removeLayer(t.target),t.target._latlng=t.latlng,this.addLayer(t.target))},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,s=this._featureGroup,r=this._map;e&&this._removeFromGridUnclustered(t,this._maxZoom);var a,l=t.__parent,u=l._markers;for(this._arraySplice(u,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<0));)e&&l._childCount<=1?(a=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,r.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(a,r.project(a.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(a),a.__parent=l.__parent,l._icon&&(s.removeLayer(l),i||s.addLayer(a))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=10>e?"small":100>e?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),e=this.options.maxClusterRadius,i=e;"function"!=typeof e&&(i=function(){return e}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var n=t;n>=0;n--)this._gridClusters[n]=new L.DistanceGrid(i(n)),this._gridUnclustered[n]=new L.DistanceGrid(i(n));this._topClusterLevel=new this._markerCluster(this,-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,s=this._gridUnclustered;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on("move",this._childMarkerMoved,this);e>=0;e--){i=this._map.project(t.getLatLng(),e);var r=o[e].getNearObject(i);if(r)return r._addChild(t),void(t.__parent=r);if(r=s[e].getNearObject(i)){var a=r.__parent;a&&this._removeLayer(r,!1);var l=new this._markerCluster(this,e,r,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),r.__parent=l,t.__parent=l;var u=l;for(n=e-1;n>a._zoom;n--)u=new this._markerCluster(this,n,u),o[n].addObject(u,this._map.project(r.getLatLng(),n));return a._addChild(u),void this._removeFromGridUnclustered(r,e)}s[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()})},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return e!==i&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)i=n[o],i instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){var e=t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}});return e}}),L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),o=this._featureGroup;this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,0,function(s){var r,a=s._latlng,l=s._markers;for(n.contains(a)||(a=null),s._isSingleParent()&&t+1===e?(o.removeLayer(s),s._recursivelyAddChildrenToMap(null,e,n)):(s.clusterHide(),
s._recursivelyAddChildrenToMap(a,e,n)),i=l.length-1;i>=0;i--)r=l[i],n.contains(r._latlng)||o.removeLayer(r)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer(function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()}),this._topClusterLevel._recursively(n,t,e,function(t){t._recursivelyRestoreChildPositions(e)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(n,t,0,function(t){o.removeLayer(t),t.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue(function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds();t._recursivelyAnimateChildrenInAndAddSelfToMap(n,e+1,i);var o=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue(function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,0,function(t){t._recursivelyRemoveChildrenFromMap(n,e+1)});o._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(e.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)},L.MarkerCluster=L.Marker.extend({initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t){t=t||[];for(var e=this._childClusters.length-1;e>=0;e--)this._childClusters[e].getAllChildMarkers(t);for(var i=this._markers.length-1;i>=0;i--)t.push(this._markers[i]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var t,e=this._childClusters.slice(),i=this._group._map,n=i.getBoundsZoom(this._bounds),o=this._zoom+1,s=i.getZoom();e.length>0&&n>o;){o++;var r=[];for(t=0;t<e.length;t++)r=r.concat(e[t]._childClusters);e=r}n>o?this._group._map.setView(this._latlng,o):s>=n?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,s=this._childClusters,r=0,a=0,l=this._childCount;if(0!==l){for(this._resetBounds(),t=0;t<o.length;t++)i=o[t]._latlng,this._bounds.extend(i),r+=i.lat,a+=i.lng;for(t=0;t<s.length;t++)e=s[t],e._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,r+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(r/l,a/l),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,0,i-1,function(t){var i,n,o=t._markers;for(i=o.length-1;i>=0;i--)n=o[i],n._icon&&(n._setPos(e),n.clusterHide())},function(t){var i,n,o=t._childClusters;for(i=o.length-1;i>=0;i--)n=o[i],n._icon&&(n._setPos(e),n.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i){this._recursively(t,i,0,function(n){n._recursivelyAnimateChildrenIn(t,n._group._map.latLngToLayerPoint(n.getLatLng()).round(),e),n._isSingleParent()&&e-1===i?(n.clusterShow(),n._recursivelyRemoveChildrenFromMap(t,e)):n.clusterHide(),n._addToMap()})},_recursivelyBecomeVisible:function(t,e){this._recursively(t,0,e,null,function(t){t.clusterShow()})},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,-1,e,function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var s=n._markers[o];i.contains(s._latlng)&&(t&&(s._backupLatlng=s.getLatLng(),s.setLatLng(t),s.clusterHide&&s.clusterHide()),n._group._featureGroup.addLayer(s))}},function(e){e._addToMap(t)})},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i){var n,o;this._recursively(t,-1,e-1,function(t){for(o=t._markers.length-1;o>=0;o--)n=t._markers[o],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())},function(t){for(o=t._childClusters.length-1;o>=0;o--)n=t._childClusters[o],i&&i.contains(n._latlng)||(t._group._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow())})},_recursively:function(t,e,i,n,o){var s,r,a=this._childClusters,l=this._zoom;if(l>=e&&(n&&n(this),o&&l===i&&o(this)),e>l||i>l)for(s=a.length-1;s>=0;s--)r=a[s],t.intersects(r._bounds)&&r._recursively(t,e,i,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}}),L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var t=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,t}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,s=o[n]=o[n]||{},r=s[i]=s[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,r.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),s=this._getCoord(e.y),r=this._grid,a=r[s]=r[s]||{},l=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=l.length;n>i;i++)if(l[i]===t)return l.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,s,r,a,l,u=this._grid;for(i in u){r=u[i];for(n in r)for(a=r[n],o=0,s=a.length;s>o;o++)l=t.call(e,a[o]),l&&(o--,s--)}},getNearObject:function(t){var e,i,n,o,s,r,a,l,u=this._getCoord(t.x),c=this._getCoord(t.y),h=this._objectPoint,d=this._sqCellSize,p=null;for(e=c-1;c+1>=e;e++)if(o=this._grid[e])for(i=u-1;u+1>=i;i++)if(s=o[i])for(n=0,r=s.length;r>n;n++)a=s[n],l=this._sqDist(h[L.Util.stamp(a)],t),d>l&&(d=l,p=a);return p},_getCoord:function(t){return Math.floor(t/this._cellSize)},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},function(){L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat,n=e[0].lng-e[1].lng;return n*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,s=0,r=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],o=this.getDistant(n,t),o>0&&(a.push(n),o>s&&(s=o,r=n));return{maxPoint:r,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints)),i=i.concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints))):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,s=!1,r=null,a=null,l=null,u=null,c=null,h=null;for(e=t.length-1;e>=0;e--){var d=t[e];(i===!1||d.lat>i)&&(r=d,i=d.lat),(n===!1||d.lat<n)&&(a=d,n=d.lat),(o===!1||d.lng>o)&&(l=d,o=d.lng),(s===!1||d.lng<s)&&(u=d,s=d.lng)}n!==i?(h=a,c=r):(h=u,c=l);var p=[].concat(this.buildConvexHull([h,c],t),this.buildConvexHull([c,h],t));return p}}}(),L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(),i=this._group,n=i._map,o=n.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,o):(o.y+=10,t=this._generatePointsCircle(e.length,o)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t),s=o/this._2PI,r=this._2PI/t,a=[];for(a.length=t,i=t-1;i>=0;i--)n=this._circleStartAngle+i*r,a[i]=new L.Point(e.x+s*Math.cos(n),e.y+s*Math.sin(n))._round();return a},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,s=n*this._spiralFootSeparation,r=n*this._spiralLengthFactor*this._2PI,a=0,l=[];for(l.length=t,i=t-1;i>=0;i--)a+=s/o+5e-4*i,l[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round(),o+=r/a;return l},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,s=this.getAllChildMarkers();for(i._ignoreMove=!0,this.setOpacity(1),e=s.length-1;e>=0;e--)t=s[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:s}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,s,r=this._group,a=r._map,l=r._featureGroup,u=this._group.options.spiderLegPolylineOptions;for(r._ignoreMove=!0,i=0;i<t.length;i++)s=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,s],u),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(s),n.setZIndexOffset&&n.setZIndexOffset(1e6),l.addLayer(n);this.setOpacity(.3),r._ignoreMove=!1,r.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var n,o,s,r,a,l,u=this,c=this._group,h=c._map,d=c._featureGroup,p=this._latlng,f=h.latLngToLayerPoint(p),m=L.Path.SVG,g=L.extend({},this._group.options.spiderLegPolylineOptions),_=g.opacity;for(_===i&&(_=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),m?(g.opacity=0,g.className=(g.className||"")+" leaflet-cluster-spider-leg"):g.opacity=_,c._ignoreMove=!0,n=0;n<t.length;n++)o=t[n],l=h.layerPointToLatLng(e[n]),s=new L.Polyline([p,l],g),h.addLayer(s),o._spiderLeg=s,m&&(r=s._path,a=r.getTotalLength()+.1,r.style.strokeDasharray=a,r.style.strokeDashoffset=a),o.setZIndexOffset&&o.setZIndexOffset(1e6),o.clusterHide&&o.clusterHide(),d.addLayer(o),o._setPos&&o._setPos(f);for(c._forceLayout(),c._animationStart(),n=t.length-1;n>=0;n--)l=h.layerPointToLatLng(e[n]),o=t[n],o._preSpiderfyLatlng=o._latlng,o.setLatLng(l),o.clusterShow&&o.clusterShow(),m&&(s=o._spiderLeg,r=s._path,r.style.strokeDashoffset=0,s.setStyle({opacity:_}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout(function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:t})},200)},_animationUnspiderfy:function(t){var e,i,n,o,s,r,a=this,l=this._group,u=l._map,c=l._featureGroup,h=t?u._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):u.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),i=d.length-1;i>=0;i--)e=d[i],e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,r=!0,e._setPos&&(e._setPos(h),r=!1),e.clusterHide&&(e.clusterHide(),r=!1),r&&c.removeLayer(e),p&&(n=e._spiderLeg,o=n._path,s=o.getTotalLength()+.1,o.style.strokeDashoffset=s,n.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout(function(){var t=0;for(i=d.length-1;i>=0;i--)e=d[i],e._spiderLeg&&t++;for(i=d.length-1;i>=0;i--)e=d[i],e._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&c.removeLayer(e),u.removeLayer(e._spiderLeg),delete e._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:a,markers:d})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}})}(window,document),function(t,e,i){"use strict";L.AwesomeMarkers={},L.AwesomeMarkers.version="2.0.1",L.AwesomeMarkers.Icon=L.Icon.extend({options:{iconSize:[35,45],iconAnchor:[17,42],popupAnchor:[1,-32],shadowAnchor:[10,12],shadowSize:[36,16],className:"awesome-marker",prefix:"glyphicon",spinClass:"fa-spin",extraClasses:"",icon:"home",markerColor:"blue",iconColor:"white"},initialize:function(t){t=L.Util.setOptions(this,t)},createIcon:function(){var t=e.createElement("div"),i=this.options;return i.icon&&(t.innerHTML=this._createInner()),i.bgPos&&(t.style.backgroundPosition=-i.bgPos.x+"px "+-i.bgPos.y+"px"),this._setIconStyles(t,"icon-"+i.markerColor),t},_createInner:function(){var t,e="",i="",n="",o=this.options;return t=o.icon.slice(0,o.prefix.length+1)===o.prefix+"-"?o.icon:o.prefix+"-"+o.icon,o.spin&&"string"==typeof o.spinClass&&(e=o.spinClass),o.iconColor&&("white"===o.iconColor||"black"===o.iconColor?i="icon-"+o.iconColor:n="style='color: "+o.iconColor+"' "),"<i "+n+"class='"+o.extraClasses+" "+o.prefix+" "+t+" "+e+" "+i+"'></i>"},_setIconStyles:function(t,e){var i,n=this.options,o=L.point(n["shadow"===e?"shadowSize":"iconSize"]);i="shadow"===e?L.point(n.shadowAnchor||n.iconAnchor):L.point(n.iconAnchor),!i&&o&&(i=o.divideBy(2,!0)),t.className="awesome-marker-"+e+" "+n.className,i&&(t.style.marginLeft=-i.x+"px",t.style.marginTop=-i.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},createShadow:function(){var t=e.createElement("div");return this._setIconStyles(t,"shadow"),t}}),L.AwesomeMarkers.icon=function(t){return new L.AwesomeMarkers.Icon(t)}}(this,document),/**
 * Copyright (C) 2013 Maxime Hadjinlian <maxime.hadjinlian@gmail.com>
 * All Rights Reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * - Redistributions of source code must retain the above copyright notice,
 *   this list of conditions and the following disclaimer.
 *
 * - Redistributions in binary form must reproduce the above copyright notice,
 *   this list of conditions and the following disclaimer in the documentation
 *   and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */
function(){var t=L.Marker.prototype.onAdd;L.Marker.mergeOptions({bounceOnAdd:!1,bounceOnAddDuration:1e3,bounceOnAddHeight:-1}),L.Marker.include({_toPoint:function(t){return this._map.latLngToContainerPoint(t)},_toLatLng:function(t){return this._map.containerPointToLatLng(t)},_animate:function(t){var e=new Date,i=setInterval(function(){var n=new Date-e,o=n/t.duration;o>1&&(o=1);var s=t.delta(o);t.step(s),1===o&&(t.end(),clearInterval(i))},t.delay||10)},_move:function(t,e){var i=L.latLng(this._orig_latlng),n=this._drop_point.y,o=this._drop_point.x,s=this._point.y-n,r=this;this._animate({delay:10,duration:e||1e3,delta:t,step:function(t){r._drop_point.y=n+s*t-(r._map.project(r._map.getCenter()).y-r._orig_map_center.y),r._drop_point.x=o-(r._map.project(r._map.getCenter()).x-r._orig_map_center.x),r.setLatLng(r._toLatLng(r._drop_point))},end:function(){r.setLatLng(i)}})},_easeOutBounce:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounce:function(t,e){this._orig_map_center=this._map.project(this._map.getCenter()),this._drop_point=this._getDropPoint(e),this._move(this._easeOutBounce,t)},_getDropPoint:function(t){this._point=this._toPoint(this._orig_latlng);var e;return e=void 0===t||0>t?this._toPoint(this._map.getBounds()._northEast).y:this._point.y-t,new L.Point(this._point.x,e)},onAdd:function(e){this._map=e,this._orig_latlng=this._latlng,this.options.bounceOnAdd===!0&&(this._drop_point=this._getDropPoint(this.options.bounceOnAddHeight),this.setLatLng(this._toLatLng(this._drop_point))),t.call(this,e),this.options.bounceOnAdd===!0&&this.bounce(this.options.bounceOnAddDuration,this.options.bounceOnAddHeight)}})}(),function(){var t,e,i;e=this,e.AdSocket=function(){this.nav_state={cat:[],q:"",item:"",lat:"",lon:""},this.socket=new WebSocket(App.websocket_url+"/websocket"),this.initBinds()},i={refresh_map:"map",add_new_marker:"new"},t=function(t,e,i){return t=""!==t?t+"&"+e+"="+i:e+"="+i},AdSocket.prototype.stringifyState=function(){var e,i;return e=this,i="",e.nav_state.cat.length>0&&(i="cat=",i+=e.nav_state.cat.join("+")),""!==e.nav_state.item&&(i=t(i,"item",e.nav_state.item)),""!==e.nav_state.q&&(i=t(i,"q",e.nav_state.q)),""!==e.nav_state.lat&&(i=t(i,"lat",e.nav_state.lat)),""!==e.nav_state.lon&&(i=t(i,"lon",e.nav_state.lon)),i},AdSocket.prototype.initBinds=function(){var t;t=this,$("#sidebar").on("click",".guided-nav-category",function(){var e,i;return i=$(this).clone(),e=$(this).attr("id"),t.nav_state.cat.indexOf(e)>-1?(i.find("i.align-cross").remove(),$("#available_categories").append(i.prop("outerHTML")),$(this).remove(),t.nav_state.cat=jQuery.grep(t.nav_state.cat,function(t){return t!==e}),0===t.nav_state.cat.length&&$("#refinements").html("")):(i.append("<i class='glyphicon glyphicon-remove align-cross' style='float: right;'></i>"),$("#refinements").append(i.prop("outerHTML")),$(this).remove(),t.nav_state.cat.push($(this).attr("id"))),t.sendNavState(t.stringifyState())}),$(document).ready(function(){var e;e=$("#new_ad_id").val(),"undefined"!=typeof e&&t.sendNewAdNotification(e)}),this.socket.onmessage=function(e){var i,n,o,s;switch(o=JSON.parse(e.data),s=o.status,i=o.map_info,n=t.nav_state,s){case"mapok":t.refresh_map(i,n);break;case"error":t.error_map(i);break;case"new_ad":t.add_marker(i)}}},AdSocket.prototype.sendNavState=function(t){this.socket.send(i.refresh_map+t)},AdSocket.prototype.sendNewAdNotification=function(t){this.send(i.add_new_marker+t)},AdSocket.prototype.refresh_map=function(t,e){""!==markers.group&&markers.group.clearLayers(),""!==markers.postal_group&&markers.postal_group.clearLayers(),""!==markers.district_group&&markers.district_group.clearLayers(),""!==t.markers&&markers.place_exact_locations_markers(t.markers,!1),""!==t.postal&&drawPostalCodeAreaOnMap(t.postal),""!==t.district&&drawDistrictsOnMap(t.district)},AdSocket.prototype.updateURL=function(t){var e,i,n,o,s,r,a;if(a=location.search,i=window.location.href,o="cat="+t.cat.join("+"),s="",""!==a){for(r=a.replace("?","").split("&"),e="",n=0;n<r.length;){if(r[n].indexOf("cat=")>-1){e=r[n];break}n++}s=""!==e?"cat="===o?i.replace(e,""):i.replace(e,o):i+"&"+o}else s="cat="===o?i:i+"?"+o;s.indexOf("?#")>-1&&(s=s.replace("?#","")),history.replaceState("data","",s)},AdSocket.prototype.error_map=function(t){$("#search_error_message").html(t)},AdSocket.prototype.add_marker=function(t){var e,i;e=t.markers,i=e[0].markers.length>1,i?markers.place_exact_locations_markers(e,!1):markers.place_exact_locations_markers(e,!0)},AdSocket.prototype.send=function(t){var e;e=this.socket,this.waitForConnection(function(){e.send(t)},1e3)},AdSocket.prototype.waitForConnection=function(t,e){var i;1===this.socket.readyState?t():(i=this,setTimeout(function(){i.waitForConnection(t,e)},e))}}.call(this),function(){var t,e,i,n,o,s,r;e=this,e.AdForm=function(){return this.init()},AdForm.prototype.init=function(){return $("#locations_from_list").length>0&&$(".location-form-for-ad").hide(),$("#ad-block").length&&!$("#ad-block").height()&&$("#wrap").append('<div class="blocking-notification alert alert-dismissible alert-warning" role="alert"><button type="button" class="close" data-dismiss="alert">\xd7</button><h5>'+gon.vars.adblock_warning+"</h5><p>"+gon.vars.adblock_browser+"<br />"+gon.vars.adblock_affecting+"</p><p>"+gon.vars.adblock_turnoff+"</p></div>"),$("#ad-block").remove(),t($("#items .selectpicker-items")),$("#new_ad").submit(function(){var t;return t=$("#ad_image").val(),null!==t&&""!==t?$("#upload-in-progress").html("<i>"+gon.vars.new_image_uploading+"</i>"):void 0}),$("#items a.add_fields").data("association-insertion-position","before").data("association-insertion-node","this"),$("#items").on("cocoon:after-insert",function(){return $(".ad-item-fields a.add_fields").data("association-insertion-position","before").data("association-insertion-node","this"),$(".selectpicker").selectpicker("refresh"),t($("#items .selectpicker-items")),$(".ad-item-fields").on("cocoon:after-insert",function(){return $(this).children(".item_from_list").remove(),$(this).children("a.add_fields").hide()})}),$(".ad-item-fields").bind("cocoon:after-insert",function(t){return t.stopPropagation(),$(this).find(".item_from_list").remove(),$(this).find("a.add_fields").hide(),$(".selectpicker").selectpicker("refresh")}),"undefined"!=typeof districts_bounds&&n(districts_bounds,leaf.map),$("#ad-edit-form").submit(function(){var t;return t=$("#ad_image").val(),null!==t&&""!==t?$("#upload-in-progress").html("<i>"+gon.vars.new_image_uploading+"</i>"):void 0}),$(".add-new-location").click(function(){return $(".location-form-for-ad").show(),$(".add-new-location").hide(),$(".location-form-for-ad :input").attr("disabled",!1),$("#locations_from_list :input").attr("disabled",!0)}),$(".remove-new-location").click(function(){return $(".location-form-for-ad").hide(),$(".add-new-location").show(),$(".location-form-for-ad :input").attr("disabled",!0),$("#locations_from_list :input").attr("disabled",!1)})},t=function(t){t.selectpicker({liveSearch:!0}).ajaxSelectPicker({ajax:{url:"/getItems",type:"GET",dataType:"json",data:function(){var t;return t={item:"{{{q}}}",type:"search_items"}}},locale:{emptyTitle:gon.vars.search_for_items,statusInitialized:gon.vars.start_typing_item,statusNoResults:gon.vars.no_result_create_item},preprocessData:function(t){var e,i,n,o;for(n=[],o=t.length,e=0;o>e;)i=t[e],n.push({value:i.id,text:i.value,disable:!1}),e++;return n},preserveSelected:!1})},n=function(t,e){return $("#map").length>0&&($(".location_type_exact").click(function(){return i(),s()}),$(".location_type_exact").is(":checked")&&s(),$(".location_type_postal_code").click(function(){return i(),r()}),$(".location_type_postal_code").is(":checked")&&r(),$(".location_type_district").click(function(){return i(),o()}),$(".location_type_district").is(":checked")&&o()),$(".location_postal_code").focusout(function(){var t,e,i,n;return $(".location_type_postal_code").is(":checked")&&(t=void 0,i=void 0,e=$(".location_type_postal_code").val(),n=$(".location_postal_code").val(),"undefined"==typeof t&&"undefined"==typeof i)?$.get("/user/getAreaSettings",{},function(i){var o;return null!==i.code&&null!==i.area&&(t=i.area,e.length>=t)?(o=n.substring(0,t),$("#postal_code_notification").html("<i>"+gon.vars.area_show_up+"'"+o+"'</i>")):void 0}):void 0}),$(".help-message").popover(),find_geocodes()},o=function(){var t,e,i;return $(".exact_location_section").addClass("hide"),$("#postal_code_section").addClass("hide"),$("#district_section").removeClass("hide"),$("#map_notification_postal_code_only").addClass("hide"),$("#map_notification_exact").addClass("hide"),markers.location_marker_type="area",leaf.map.off("click",onMapClickLocation),$("#map_notification").addClass("hide"),e=$(".district_dropdown option:selected").val(),i=$(".district_dropdown option:selected").text(),t=districts_bounds[e],leaf.show_single_district(i,t),$("#district_section").on("change",".district_dropdown",function(){return e=$(".district_dropdown option:selected").val(),i=$(".district_dropdown option:selected").text(),t=districts_bounds[e],leaf.show_single_district(i,t)}).change()},i=function(){return null!==markers.new_marker&&leaf.map.removeLayer(markers.new_marker),null!==markers.selected_area&&leaf.map.removeLayer(markers.selected_area),null!==markers.postal_code_circle?leaf.map.removeLayer(markers.postal_code_circle):void 0},s=function(){return $("#postal_code_section").removeClass("hide"),$("#district_section").addClass("hide"),$(".exact_location_section").removeClass("hide"),markers.location_marker_type="exact",leaf.map.on("click",onMapClickLocation),$("#map_notification_postal_code_only").addClass("hide"),$("#map_notification_exact").removeClass("hide")},r=function(){return $(".exact_location_section").addClass("hide"),$("#district_section").addClass("hide"),$("#postal_code_section").removeClass("hide"),markers.location_marker_type="area",leaf.map.on("click",onMapClickLocation),$("#map_notification_postal_code_only").removeClass("hide"),$("#map_notification_exact").addClass("hide")}}.call(this),function(){}.call(this),function(){var t;t=this,t.AreaSettings=function(t){return this.district_bounds={},this.layer={},this.init(t)},AreaSettings.prototype.init=function(t){return leaf.districts=t,$(".area_postal_code").click(function(){return $("#postal_code_section").toggle(0,function(){})}),$(".area_postal_code").is(":checked")&&$("#postal_code_section").css("display","block"),$(".area_district").click(function(){return $("#district_section").toggle(0,function(){}),this.drawMapAndDistricts()}),$(".area_district").is(":checked")&&($("#district_section").css("display","block"),this.drawMapAndDistricts()),this.initMapEvents(),this.initDrawingTools()},AreaSettings.prototype.drawMapAndDistricts=function(){var t,e;if(initLeafletMap(map_settings),leaf.drawn_items=L.featureGroup(),leaf.map.addLayer(leaf.drawn_items),leaf.map.addControl(new L.Control.Draw({edit:{featureGroup:leaf.drawn_items}})),null!==leaf.districts){for(t=0,e=[];t<leaf.districts.length;)L.geoJson(leaf.districts[t],{onEachFeature:function(e,i){return i.bindPopup(leaf.districts[t].properties.name),i.setStyle({color:markers.district_color}),leaf.drawn_items.addLayer(i)}}),e.push(t++);return e}},AreaSettings.prototype.initMapEvents=function(){var t;return t=this,$("#map").on("keyup",".save_district_text",function(){return $(".save_district_text").val().length>0?$(".save_district").removeClass("disabled"):$(".save_district").addClass("disabled")}),$("#map").unbind("click"),$("#map").on("click",".save_district",function(){var e;return e=$(".save_district_text").val(),$.post("/user/areasettings/save_district",{bounds:JSON.stringify(t.district_bounds),name:e},function(i){var n;return n="<span class='"+i.style+"'><strong>"+i.message+"</strong></span>",$("#district_notification_message").html(n),"ok"===i.status?(leaf.drawn_items.removeLayer(t.layer),t.district_bounds.properties.id=i.id,t.district_bounds.properties.name=e,L.geoJson(t.district_bounds,{onEachFeature:function(t,n){return n.bindPopup(e),n.setStyle({color:i.district_color}),leaf.drawn_items.addLayer(n)}})):void 0})}),$("#map").on("click",".update_district",function(){var e,i;return i=$(".update_district_text").val(),e=$(".update_district_text").attr("id"),$.post("/user/areasettings/update_district_name",{id:e,name:i},function(t){var e;return e="<span class='"+t.style+"'><strong>"+t.message+"</strong></span>",$("#district_notification_message").html(e)}),leaf.drawn_items.eachLayer(function(n){return t.district_bounds=n.toGeoJSON(),e===t.district_bounds.properties.id?(n.bindPopup("<input type='text' id='"+e+"' class='update_district_text' style='margin-right:5px;' placeholder='District name' value='"+i+"'><button type='button' id='save_"+t.district_bounds.properties.id+"' class='btn btn-xs btn-success update_district'>OK</button><br /><div class='district_notif'></div>"),n.closePopup()):void 0})})},AreaSettings.prototype.initDrawingTools=function(){var t;return t=this,leaf.map.on("draw:created",function(e){var i;return t.layer=e.layer,leaf.drawn_items.addLayer(t.layer),i=L.popup({closeButton:!1}).setContent("<input type='text' class='save_district_text' style='margin-right:5px;' placeholder='District name'><button type='button' class='btn btn-xs btn-success save_district disabled'>Save district</button>"),t.layer.bindPopup(i),t.district_bounds=t.layer.toGeoJSON(),t.layer.openPopup(t.layer.getBounds().getCenter())}),leaf.map.on("draw:editstart",function(e){return leaf.drawn_items.eachLayer(function(e){return t.district_bounds=e.toGeoJSON(),e.bindPopup("<input type='text' id='"+t.district_bounds.properties.id+"' class='update_district_text' style='margin-right:5px;' placeholder='District name' value='"+t.district_bounds.properties.name+"'><button type='button' id='save_"+t.district_bounds.properties.id+"' class='btn btn-xs btn-success update_district'>OK</button><br /><div class='district_notif'></div>")})}),leaf.map.on("draw:editstop",function(e){return leaf.drawn_items.eachLayer(function(e){return t.district_bounds=e.toGeoJSON(),e.bindPopup(t.district_bounds.properties.name)})}),leaf.map.on("draw:edited",function(e){var i,n;return i=e.layers,n=[],i.eachLayer(function(e){return t.district_bounds=e.toGeoJSON(),n.push(t.district_bounds)}),$.post("/user/areasettings/update_districts",{districts:JSON.stringify(n)},function(t){var e;return e="<span class='"+t.style+"'><strong>"+t.message+"</strong></span>",$("#district_notification_message").html(e)})}),leaf.map.on("draw:deleted",function(t){var e,i;return i=t.layers,e=[],i.eachLayer(function(t){var i;return i=t.toGeoJSON(),e.push(i.properties.id)}),$.post("/user/areasettings/delete_districts",{ids:e},function(t){var e;return e="<span class='"+t.style+"'><strong>"+t.message+"</strong></span>",$("#district_notification_message").html(e)})})}}.call(this),function(){var t;t=this,t.CategoryForm=function(){return this.init()},CategoryForm.prototype.init=function(){return $(".btn-icon-modal").click(function(){return $("#myModalIcon").modal("show")}),$(".icon-for-category").click(function(){var t;return t=$(this).attr("id"),$("#myModalIcon").modal("toggle"),$("#category_icon").val(t)})}}.call(this),function(){var t;t=this,t.GeneralSettings=function(){return this.init()},GeneralSettings.prototype.init=function(){return $(".textarea_count").keyup(function(){var t,e;return t=$(this).attr("maxlength"),e=$(this).val().length,$(".remaining_characters").html(t-e)}),$(".textarea_count").keydown(function(){var t,e;return t=$(this).attr("maxlength"),e=$(this).val().length,$(".remaining_characters").html(t-e)})}}.call(this),function(){var t;t=this,t.Home=function(t,e,i,n,o){return this.locations_exact=t,this.locations_postal=e,this.locations_district=i,this.area_geocodes=n,this.marker_colors=o,this.init(),this.putLocationMarkers()},Home.prototype.init=function(){return $("[data-toggle=offcanvas]").click(function(){return $(".row-offcanvas").toggleClass("active")}),$(".leaflet-control-zoom-out, .leaflet-control-zoom-in").click(function(){return $("html, body").animate({scrollTop:0},0)}),L.control.sidebar("sidebar").addTo(leaf.map),$("#sidebar_category_icon").trigger("click")},Home.prototype.putLocationMarkers=function(){var t,e;return t=this,markers.group=new L.markerClusterGroup({spiderfyDistanceMultiplier:2}),markers.area_geocodes=t.area_geocodes,markers.marker_colors=t.marker_colors,markers.place_exact_locations_markers(t.locations_exact,!1),markers.draw_postal_code_areas(t.locations_postal),markers.draw_district_areas(t.locations_district),$("#map").on("click",".area_link",function(){var t;return t=$(this).attr("id").split("|"),$.get("/showSpecificAds",{item:t[0],type:t[1],area:t[2]},function(e){var i,n,o,s,r,a;for(n="<ul>",o=0;o<e.ads.length;)i=e.ads[o],n=n+'<li><a href="/ads/'+i.id+'/">'+i.title+"</a></li>",o++;return n+="</ul>",$("#ads-modal-body-id").html(n),s="","undefined"!=typeof e.icon&&(s='<i class="fa '+e.icon+'" style="color: '+e.hexa_color+'; padding-right: 10px;"></i>'),a=gon.vars.ads_for+" '"+t[0].capitalizeFirstLetter()+"' - "+e.area_name,$("#adsModalTitle").html(s+a),r={backdrop:"static",show:"true"},$("#adsModal").modal(r)})}),e="","undefined"!=typeof leaf.searched_address&&(e=L.marker([leaf.my_lat,leaf.my_lng],{icon:markers.default_icon}).bindPopup(leaf.searched_address),e.addTo(leaf.map)),leaf.map.addLayer(markers.group),""!==e?e.openPopup():void 0}}.call(this),function(){}.call(this),function(){var t,e,i,n;i=this,i.leaf={map:null,map_tiles:null,my_lat:"",my_lng:"",drawn_items:null,districts:null,searched_address:"",init:function(t){return leaf.map=L.map("map",{scrollWheelZoom:!1}),leaf.map.on("click",function(){return leaf.map.scrollWheelZoom.enabled()?leaf.map.scrollWheelZoom.disable():leaf.map.scrollWheelZoom.enable()}),leaf.my_lat=t.latitude,leaf.my_lng=t.longitude,leaf.searched_address=t.searched_address,"map_quest"===t.chosen_map?leaf.map_tiles=MQ.mapLayer():"open_street_map"===t.chosen_map?leaf.map_tiles=L.tileLayer(t.osm_tile_url,{attribution:t.osm_attribution}):"mapbox"===t.chosen_map&&(leaf.map_tiles=L.tileLayer(t.mapbox_tile_url,{attribution:t.mapbox_attribution})),leaf.map_tiles.addTo(leaf.map),leaf.map.setView([leaf.my_lat,leaf.my_lng],t.zoom_level),"none"!==t.clickable_map_marker?leaf.map.on("click",onMapClickLocation):void 0},show_features_on_ad_details_page:function(t){var e,i,n,o,s,r;if(t.ad_show_is_area===!0)"district"===t.loc_type?(i=leaf.show_single_district(t.popup_message,t.bounds),leaf.map.setView(i,t.zoom_level)):(e=new L.circle([leaf.my_lat,leaf.my_lng],600,{color:markers.postal_code_area_color,fillColor:markers.postal_code_area_color,fillOpacity:.3}),e.addTo(leaf.map).bindPopup(t.popup_message).openPopup(),leaf.map.setView([leaf.my_lat,leaf.my_lng],t.zoom_level));else{for(markers.group=new L.markerClusterGroup({spiderfyDistanceMultiplier:2}),n=0;n<t.ad_show.length;)s=t.ad_show[n],o=L.AwesomeMarkers.icon({prefix:"fa",markerColor:s.color,icon:s.icon}),r=L.marker([leaf.my_lat,leaf.my_lng],{icon:o}),""!==t.marker_message&&r.bindPopup(t.marker_message+" - "+s.item_name).openPopup(),markers.group.addLayer(r),n++;leaf.map.addLayer(markers.group),leaf.map.setView([leaf.my_lat,leaf.my_lng],t.zoom_level)}},show_single_marker:function(t){var e;"postal"===t.loc_type?(markers.postal_code_circle=new L.circle([leaf.my_lat,leaf.my_lng],600,{color:markers.postal_code_area_color,fillColor:markers.postal_code_area_color,fillOpacity:.3}),markers.postal_code_circle.addTo(leaf.map).bindPopup(t.marker_message).openPopup()):"district"===t.loc_type?leaf.show_single_district(t.marker_message,t.bounds):(e=L.marker([leaf.my_lat,leaf.my_lng],{icon:markers.default_icon}),""!==t.marker_message?e.addTo(leaf.map).bindPopup(t.marker_message).openPopup():e.addTo(leaf.map))},show_single_district:function(t,e){var i;return""!==markers.selected_area&&leaf.map.removeLayer(markers.selected_area),i="",L.geoJson(JSON.parse(e),{onEachFeature:function(e,n){return n.bindPopup(t),n.setStyle({color:markers.district_color}),leaf.map.addLayer(n),i=n.getBounds().getCenter(),n.openPopup(i),markers.selected_area=n}}),i}},i.markers={new_marker:"",selected_area:"",postal_code_circle:"",group:"",postal_group:"",district_group:"",default_icon:null,new_icon:null,marker_colors:null,postal_code_area_color:null,district_color:null,area_geocodes:null,location_marker_type:null,center_marker:null,init:function(t){markers.default_icon=L.icon({iconUrl:t.default_marker_icon,iconAnchor:[12,41],popupAnchor:[0,-34]}),markers.new_icon=L.icon({iconUrl:t.new_marker_icon,iconAnchor:[12,41],popupAnchor:[0,-34]}),markers.location_marker_type=t.clickable_map_marker,markers.district_color=t.district_color,markers.postal_code_area_color=t.postal_code_area_color},place_exact_locations_markers:function(t,e){var i,n,o,s,r,a,l;for(n=0;n<t.length;){for(i=t[n],s=0;s<i.markers.length;)o=i.markers[s],a=L.AwesomeMarkers.icon({prefix:"fa",markerColor:o.color,icon:o.icon}),r=L.marker([i.lat,i.lng],{icon:a,bounceOnAdd:e}),r.ad_id=i.ad_id,r.item_id=o.item_id,l=L.popup({minWidth:250,maxWidth:300}).setContent("Loading..."),r.bindPopup(l),r.on("click",function(t){var e;e=t.target.getPopup(),$.ajax({url:"/showAdPopup",global:!1,type:"GET",data:{ad_id:this.ad_id,item_id:this.item_id},dataType:"html",beforeSend:function(t){t.setRequestHeader("Accept","text/html-partial")},success:function(t){e.setContent(t),e.update()},error:function(t){e.setContent(t),e.update()}})}),markers.group.addLayer(r),s++;n++}},draw_postal_code_areas:function(t){null!==t&&Object.keys(t).length>0&&(markers.postal_group=L.featureGroup().addTo(leaf.map),$("#show_area_id").change(function(){$("#show_area_id").prop("checked")?drawPostalCodeAreaOnMap(t):markers.postal_group.eachLayer(function(t){markers.postal_group.removeLayer(t)})}).change())},draw_district_areas:function(t){null!==t&&Object.keys(t).length>0&&(markers.district_group=L.featureGroup().addTo(leaf.map),$("#show_area_id").change(function(){$("#show_area_id").prop("checked")?drawDistrictsOnMap(t):markers.district_group.eachLayer(function(t){markers.district_group.removeLayer(t)})}).change())}},i.initLeafletMap=function(t){return null!==leaf&&null!==leaf.map&&leaf.map.remove(),leaf.init(t),markers.init(t),t.has_center_marker===!0?$("#show_ad_page").length>0?leaf.show_features_on_ad_details_page(t):leaf.show_single_marker(t):void 0},i.drawDistrictsOnMap=function(t){Object.keys(t).forEach(function(i){var n,o,s,r;s=t[i],o=markers.area_geocodes[i].name,n=markers.area_geocodes[i].bounds,r=e(gon.vars.in_this_district+" (<b>"+o+"</b>)<br /><br />",s,"district",i),L.geoJson(JSON.parse(n),{onEachFeature:function(t,e){e.bindPopup(r),e.setStyle({color:markers.district_color}),markers.district_group.addLayer(e)}})})},i.drawPostalCodeAreaOnMap=function(t){Object.keys(t).forEach(function(i){var n,o,s;o=t[i],s=e("In this area (<b>"+i+"</b>)<br /><br />",o,"postal",i),n=L.circle([markers.area_geocodes[i].latitude,markers.area_geocodes[i].longitude],600,{color:markers.postal_code_area_color,fillColor:markers.postal_code_area_color,fillOpacity:.3}).bindPopup(s),markers.postal_group.addLayer(n)})},i.onMapClickLocation=function(t){var e,i;return i=n(t),e=i.split(","),$("#new_dynamic_button_add").removeClass("disabled"),$(".latitude").val(e[0]),$(".longitude").val(e[1])},i.find_geocodes=function(){return $("#find_geocodes_from_address").button().click(function(){var t;return t="exact",$(".location_type_postal_code").is(":checked")&&(t="area"),$.ajax({url:"/getCityGeocodes",global:!1,type:"GET",data:{street_number:$(".location_streetnumber").val(),address:$(".location_streetname").val(),city:$(".location_city").val(),postal_code:$(".location_postal_code").val(),province:$(".location_state").val(),country:$(".location_country").val(),loc_type:t},cache:!1,beforeSend:function(t){t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),$("#findGeocodeLoaderId").html(gon.vars.searching_location)},success:function(t){var e,i;return null!==t&&"ok"===t.status?(e=Math.round(1e5*t.lat)/1e5,i=Math.round(1e5*t.lon)/1e5,$(".latitude").val(e),$(".longitude").val(i),leaf.map.setView(new L.LatLng(e,i),t.zoom_level)):$("#myErrorModal").modal("show"),$("#findGeocodeLoaderId").html("<i>"+t.address_found+"</i>")}})})},i.spiderifyMarkerGroups=function(){return""!==markers.group?markers.group.on("clusterclick",function(t){var e;return e=t.layer.getBounds().pad(.5),leaf.map.fitBounds(e)}):void 0},t=function(t,e,i){var n,o,s,r,a,l,u,c;return c="",u="",o=e.items[i],a="<a href='/ads/"+e.id+"/'>"+e.title+"</a>",r=marker_colors[o.category.marker_color],s=o.name.capitalizeFirstLetter(),l="<span style='color:"+r+"';><strong>"+s+"</strong></span>",c=e.is_giving===!0?gon.vars.items_given+"<br />"+l+": "+a+"<br />":gon.vars.items_searched+"<br />"+l+": "+a+"<br />",null!==e.image.thumb.url&&""!==e.image.thumb.url?(n="<img class='thumb_ad_image' onError=\"$('.thumb_ad_image').remove(); $('.image_notification').html('<i>"+gon.vars.image_not_available+"</i>');\" src='"+e.image.thumb.url+'\'><span class="image_notification"></span>',u="<div style='overflow: auto;'><div class='col-sm-6'>"+t+"</div><div class='col-sm-6'>"+n+"</div><div class='col-sm-12'><br>"+c+"</div></div>"):u="<div style='overflow: auto;'>"+t+"<br><br>"+c+"</div>",u},e=function(t,e,i,n){var o,s,r,a,l,u,c,h,d,p,f,m,g,_,v,y,b,x,w,C,S,T,L,D;for(c=!1,u=!1,r="<i>"+gon.vars.select_item+"</i><br /><br />",t+=r,C=gon.vars.items_given+"<br />",w=gon.vars.items_searched+"<br />",s={},L=[],a=0;a<e.length;){for(y=e[a],g=0;g<y.ads.length;){for(o=y.ads[g],_=0;_<o.items.length;)h=o.items[_],f=h.name+"|"+markers.marker_colors[h.category.marker_color],f in s?s[f].number=s[f].number+1:(s[f]={},s[f].number=1,s[f].is_giving=o.is_giving,L.push(f)),_++;g++}a++}for(L=L.sort(),l=0;l<L.length;)D=L[l],p=D.split("|"),m=p[0],b=p[1],x=s[D].number,T="<span style='color:"+b+";' >"+m.capitalizeFirstLetter()+"</span>",v=m+"|"+i+"|"+n,d=T+" ("+x+")",S="- <a href='#' class='area_link' id='"+v+"'>"+d+"</a>",s[D].is_giving===!0?(c=!0,C=C+S+"<br />"):(u=!0,w=w+S+"<br />"),l++;return!c&&u?t+=w:!u&&c?t+=C:t=t+C+"<br />"+w,t},n=function(t){var e,i;return""!==markers.new_marker&&leaf.map.removeLayer(markers.new_marker),""!==markers.postal_code_circle&&leaf.map.removeLayer(markers.postal_code_circle),e=t.latlng.lat,i=t.latlng.lng,e=Math.round(1e5*e)/1e5,i=Math.round(1e5*i)/1e5,"exact"===markers.location_marker_type?(markers.new_marker=new L.Marker(t.latlng,{icon:markers.new_icon},{draggable:!1}),leaf.map.addLayer(markers.new_marker)):"area"===markers.location_marker_type&&(markers.postal_code_circle=new L.circle(t.latlng,600,{color:markers.postal_code_area_color,fillColor:markers.postal_code_area_color,fillOpacity:.3}),markers.postal_code_circle.addTo(leaf.map)),e+","+i},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)}}.call(this),function(){var t;t=this,t.ManageRecords=function(){return this.init()},ManageRecords.prototype.init=function(){return window.location.href.indexOf("managerecords")>-1&&window.location.hash?$("#records-tabs a[href="+window.location.hash+"]").tab("show"):void 0}}.call(this),function(){var t;t=this,t.MapSettings=function(){return this.init()},MapSettings.prototype.init=function(){return find_geocodes(),$(".leaflet-control-zoom-out, .leaflet-control-zoom-in").click(function(){return $("html, body").animate({scrollTop:0},0)}),$("[id$=form_zoom_level]").change(function(){var t;return leaf.map.setZoom(t=$("[id$=form_zoom_level]").val())}),leaf.map.on("zoomend",function(){return $("[id$=form_zoom_level]").val(leaf.map.getZoom())}),$("#map_settings_form_chosen_map").change(function(){var t;return t="",$("select option:selected").each(function(){return map_settings.chosen_map=$(this).val(),initLeafletMap(map_settings)})})}}.call(this),function(){var t,e;t=this,t.NavigationBar=function(){return this.searchedAdItems=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:"/getItems?item=QUERY&type=search_ad_items",wildcard:"QUERY"}}),this.searchedAdItems.clearPrefetchCache(),this.searchedAdItems.initialize(),this.init()},NavigationBar.prototype.init=function(){var t;return t=this,$("#searchFormId input").keypress(function(e){return 13===e.which?(e.preventDefault(),t.getLocationsPropositions()):void 0}),$("#navbar-up-link").click(function(){return $("html, body").animate({scrollTop:0},1e3)}),e(),$(window).on("scroll",function(){return e()}),$("#btn-form-search").click(function(){return t.getLocationsPropositions()}),$("#popover").popover({html:!0,placement:"bottom",title:function(){return $("#popover-head").html()},content:function(){return $("#popover-content").html()}}),$("#item").typeahead(null,{name:"item-search",display:"value",source:t.searchedAdItems}),$("#q").change(function(){return t.searchedAdItems.remote.url="/getItems?item=QUERY&type=search_ad_items&q="+$("#q").val(),$("#item").val("")}).change()},e=function(){var t;return t=$(window).scrollTop(),0>=t?$("#navbar-up-link").hide():$("#navbar-up-link").show()},NavigationBar.prototype.getLocationsPropositions=function(){var t;return""!==$("#location").val()?(t=$("#location").val(),$.ajax({url:"/getNominatimLocationResponses",global:!1,type:"GET",data:{location:t},cache:!1,beforeSend:function(t){t.setRequestHeader("Accept","application/json"),t.setRequestHeader("Content-Type","application/json"),$("#btn-form-search").html("Loading...")},success:function(t){var e,i,n,o,s,r,a;if(n="",null!==t&&t.length>0)if("undefined"!=typeof t[0].error_key)$("#search_error_message").html("<strong>"+t[0].error_key+"</strong>");else{for(n="<p>Choose one of the following available locations</p><ul></ul>",i=$("#item").val(),r=$("#q").val(),e=0;e<t.length;)s=t[e],a="/search?lat="+s.lat+"&lon="+s.lon+"&loc="+s.display_name,""!==i&&(a=a+"&item="+i),""!==r&&(a=a+"&q="+r),n=n+"<li><a href='"+encodeURI(a)+"'>"+s.display_name+"</a></li>",e++;n+="</ul>",$("#modal-body-id").html(n),o={backdrop:"static",show:"true"},$("#basicModal").modal(o)}return $("#btn-form-search").html("Search")}})):""!==$("#item").val()||""!==$("#user_action").val()?$("#searchFormId").submit():void 0}}.call(this);